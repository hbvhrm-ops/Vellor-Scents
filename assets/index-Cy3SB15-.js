(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();function i1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Lh={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function a1(){if(Uy)return Gl;Uy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var p in o)p!=="key"&&(f[p]=o[p])}else f=o;return o=f.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:f}}return Gl.Fragment=e,Gl.jsx=i,Gl.jsxs=i,Gl}var Ly;function s1(){return Ly||(Ly=1,Lh.exports=a1()),Lh.exports}var H=s1(),jh={exports:{}},_t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy;function r1(){if(jy)return _t;jy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),V=Symbol.iterator;function Y(x){return x===null||typeof x!="object"?null:(x=V&&x[V]||x["@@iterator"],typeof x=="function"?x:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,it={};function gt(x,U,J){this.props=x,this.context=U,this.refs=it,this.updater=J||et}gt.prototype.isReactComponent={},gt.prototype.setState=function(x,U){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,U,"setState")},gt.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Et(){}Et.prototype=gt.prototype;function pt(x,U,J){this.props=x,this.context=U,this.refs=it,this.updater=J||et}var Mt=pt.prototype=new Et;Mt.constructor=pt,W(Mt,gt.prototype),Mt.isPureReactComponent=!0;var Bt=Array.isArray;function wt(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(x,U,J){var $=J.ref;return{$$typeof:s,type:x,key:U,ref:$!==void 0?$:null,props:J}}function O(x,U){return C(x.type,U,x.props)}function D(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function z(x){var U={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(J){return U[J]})}var w=/\/+/g;function $t(x,U){return typeof x=="object"&&x!==null&&x.key!=null?z(""+x.key):U.toString(36)}function ce(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(wt,wt):(x.status="pending",x.then(function(U){x.status==="pending"&&(x.status="fulfilled",x.value=U)},function(U){x.status==="pending"&&(x.status="rejected",x.reason=U)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function G(x,U,J,$,lt){var ht=typeof x;(ht==="undefined"||ht==="boolean")&&(x=null);var Tt=!1;if(x===null)Tt=!0;else switch(ht){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(x.$$typeof){case s:case e:Tt=!0;break;case A:return Tt=x._init,G(Tt(x._payload),U,J,$,lt)}}if(Tt)return lt=lt(x),Tt=$===""?"."+$t(x,0):$,Bt(lt)?(J="",Tt!=null&&(J=Tt.replace(w,"$&/")+"/"),G(lt,U,J,"",function(ka){return ka})):lt!=null&&(D(lt)&&(lt=O(lt,J+(lt.key==null||x&&x.key===lt.key?"":(""+lt.key).replace(w,"$&/")+"/")+Tt)),U.push(lt)),1;Tt=0;var Ie=$===""?".":$+":";if(Bt(x))for(var ae=0;ae<x.length;ae++)$=x[ae],ht=Ie+$t($,ae),Tt+=G($,U,J,ht,lt);else if(ae=Y(x),typeof ae=="function")for(x=ae.call(x),ae=0;!($=x.next()).done;)$=$.value,ht=Ie+$t($,ae++),Tt+=G($,U,J,ht,lt);else if(ht==="object"){if(typeof x.then=="function")return G(ce(x),U,J,$,lt);throw U=String(x),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function nt(x,U,J){if(x==null)return x;var $=[],lt=0;return G(x,$,"","",function(ht){return U.call(J,ht,lt++)}),$}function ut(x){if(x._status===-1){var U=x._result;U=U(),U.then(function(J){(x._status===0||x._status===-1)&&(x._status=1,x._result=J)},function(J){(x._status===0||x._status===-1)&&(x._status=2,x._result=J)}),x._status===-1&&(x._status=0,x._result=U)}if(x._status===1)return x._result.default;throw x._result}var xt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},kt={map:nt,forEach:function(x,U,J){nt(x,function(){U.apply(this,arguments)},J)},count:function(x){var U=0;return nt(x,function(){U++}),U},toArray:function(x){return nt(x,function(U){return U})||[]},only:function(x){if(!D(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return _t.Activity=b,_t.Children=kt,_t.Component=gt,_t.Fragment=i,_t.Profiler=o,_t.PureComponent=pt,_t.StrictMode=r,_t.Suspense=_,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,_t.__COMPILER_RUNTIME={__proto__:null,c:function(x){return I.H.useMemoCache(x)}},_t.cache=function(x){return function(){return x.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(x,U,J){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var $=W({},x.props),lt=x.key;if(U!=null)for(ht in U.key!==void 0&&(lt=""+U.key),U)!S.call(U,ht)||ht==="key"||ht==="__self"||ht==="__source"||ht==="ref"&&U.ref===void 0||($[ht]=U[ht]);var ht=arguments.length-2;if(ht===1)$.children=J;else if(1<ht){for(var Tt=Array(ht),Ie=0;Ie<ht;Ie++)Tt[Ie]=arguments[Ie+2];$.children=Tt}return C(x.type,lt,$)},_t.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:f,_context:x},x},_t.createElement=function(x,U,J){var $,lt={},ht=null;if(U!=null)for($ in U.key!==void 0&&(ht=""+U.key),U)S.call(U,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(lt[$]=U[$]);var Tt=arguments.length-2;if(Tt===1)lt.children=J;else if(1<Tt){for(var Ie=Array(Tt),ae=0;ae<Tt;ae++)Ie[ae]=arguments[ae+2];lt.children=Ie}if(x&&x.defaultProps)for($ in Tt=x.defaultProps,Tt)lt[$]===void 0&&(lt[$]=Tt[$]);return C(x,ht,lt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(x){return{$$typeof:p,render:x}},_t.isValidElement=D,_t.lazy=function(x){return{$$typeof:A,_payload:{_status:-1,_result:x},_init:ut}},_t.memo=function(x,U){return{$$typeof:v,type:x,compare:U===void 0?null:U}},_t.startTransition=function(x){var U=I.T,J={};I.T=J;try{var $=x(),lt=I.S;lt!==null&&lt(J,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(wt,xt)}catch(ht){xt(ht)}finally{U!==null&&J.types!==null&&(U.types=J.types),I.T=U}},_t.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},_t.use=function(x){return I.H.use(x)},_t.useActionState=function(x,U,J){return I.H.useActionState(x,U,J)},_t.useCallback=function(x,U){return I.H.useCallback(x,U)},_t.useContext=function(x){return I.H.useContext(x)},_t.useDebugValue=function(){},_t.useDeferredValue=function(x,U){return I.H.useDeferredValue(x,U)},_t.useEffect=function(x,U){return I.H.useEffect(x,U)},_t.useEffectEvent=function(x){return I.H.useEffectEvent(x)},_t.useId=function(){return I.H.useId()},_t.useImperativeHandle=function(x,U,J){return I.H.useImperativeHandle(x,U,J)},_t.useInsertionEffect=function(x,U){return I.H.useInsertionEffect(x,U)},_t.useLayoutEffect=function(x,U){return I.H.useLayoutEffect(x,U)},_t.useMemo=function(x,U){return I.H.useMemo(x,U)},_t.useOptimistic=function(x,U){return I.H.useOptimistic(x,U)},_t.useReducer=function(x,U,J){return I.H.useReducer(x,U,J)},_t.useRef=function(x){return I.H.useRef(x)},_t.useState=function(x){return I.H.useState(x)},_t.useSyncExternalStore=function(x,U,J){return I.H.useSyncExternalStore(x,U,J)},_t.useTransition=function(){return I.H.useTransition()},_t.version="19.2.4",_t}var By;function Rd(){return By||(By=1,jh.exports=r1()),jh.exports}var Ht=Rd();const l1=i1(Ht);var Bh={exports:{}},Fl={},kh={exports:{}},Ph={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function o1(){return ky||(ky=1,(function(s){function e(G,nt){var ut=G.length;G.push(nt);t:for(;0<ut;){var xt=ut-1>>>1,kt=G[xt];if(0<o(kt,nt))G[xt]=nt,G[ut]=kt,ut=xt;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var nt=G[0],ut=G.pop();if(ut!==nt){G[0]=ut;t:for(var xt=0,kt=G.length,x=kt>>>1;xt<x;){var U=2*(xt+1)-1,J=G[U],$=U+1,lt=G[$];if(0>o(J,ut))$<kt&&0>o(lt,J)?(G[xt]=lt,G[$]=ut,xt=$):(G[xt]=J,G[U]=ut,xt=U);else if($<kt&&0>o(lt,ut))G[xt]=lt,G[$]=ut,xt=$;else break t}}return nt}function o(G,nt){var ut=G.sortIndex-nt.sortIndex;return ut!==0?ut:G.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],v=[],A=1,b=null,V=3,Y=!1,et=!1,W=!1,it=!1,gt=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function Mt(G){for(var nt=i(v);nt!==null;){if(nt.callback===null)r(v);else if(nt.startTime<=G)r(v),nt.sortIndex=nt.expirationTime,e(_,nt);else break;nt=i(v)}}function Bt(G){if(W=!1,Mt(G),!et)if(i(_)!==null)et=!0,wt||(wt=!0,z());else{var nt=i(v);nt!==null&&ce(Bt,nt.startTime-G)}}var wt=!1,I=-1,S=5,C=-1;function O(){return it?!0:!(s.unstable_now()-C<S)}function D(){if(it=!1,wt){var G=s.unstable_now();C=G;var nt=!0;try{t:{et=!1,W&&(W=!1,Et(I),I=-1),Y=!0;var ut=V;try{e:{for(Mt(G),b=i(_);b!==null&&!(b.expirationTime>G&&O());){var xt=b.callback;if(typeof xt=="function"){b.callback=null,V=b.priorityLevel;var kt=xt(b.expirationTime<=G);if(G=s.unstable_now(),typeof kt=="function"){b.callback=kt,Mt(G),nt=!0;break e}b===i(_)&&r(_),Mt(G)}else r(_);b=i(_)}if(b!==null)nt=!0;else{var x=i(v);x!==null&&ce(Bt,x.startTime-G),nt=!1}}break t}finally{b=null,V=ut,Y=!1}nt=void 0}}finally{nt?z():wt=!1}}}var z;if(typeof pt=="function")z=function(){pt(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,$t=w.port2;w.port1.onmessage=D,z=function(){$t.postMessage(null)}}else z=function(){gt(D,0)};function ce(G,nt){I=gt(function(){G(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(G){switch(V){case 1:case 2:case 3:var nt=3;break;default:nt=V}var ut=V;V=nt;try{return G()}finally{V=ut}},s.unstable_requestPaint=function(){it=!0},s.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ut=V;V=G;try{return nt()}finally{V=ut}},s.unstable_scheduleCallback=function(G,nt,ut){var xt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?xt+ut:xt):ut=xt,G){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=ut+kt,G={id:A++,callback:nt,priorityLevel:G,startTime:ut,expirationTime:kt,sortIndex:-1},ut>xt?(G.sortIndex=ut,e(v,G),i(_)===null&&G===i(v)&&(W?(Et(I),I=-1):W=!0,ce(Bt,ut-xt))):(G.sortIndex=kt,e(_,G),et||Y||(et=!0,wt||(wt=!0,z()))),G},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(G){var nt=V;return function(){var ut=V;V=nt;try{return G.apply(this,arguments)}finally{V=ut}}}})(Ph)),Ph}var Py;function u1(){return Py||(Py=1,kh.exports=o1()),kh.exports}var qh={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function c1(){if(qy)return Qe;qy=1;var s=Rd();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(_,v,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:_,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qe.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return f(_,v,null,A)},Qe.flushSync=function(_){var v=d.T,A=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=v,r.p=A,r.d.f()}},Qe.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(_,v))},Qe.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Qe.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,b=p(A,v.crossOrigin),V=typeof v.integrity=="string"?v.integrity:void 0,Y=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?r.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:V,fetchPriority:Y}):A==="script"&&r.d.X(_,{crossOrigin:b,integrity:V,fetchPriority:Y,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Qe.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=p(v.as,v.crossOrigin);r.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(_)},Qe.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,b=p(A,v.crossOrigin);r.d.L(_,A,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Qe.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=p(v.as,v.crossOrigin);r.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(_)},Qe.requestFormReset=function(_){r.d.r(_)},Qe.unstable_batchedUpdates=function(_,v){return _(v)},Qe.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.4",Qe}var Hy;function f1(){if(Hy)return qh.exports;Hy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),qh.exports=c1(),qh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function h1(){if(Gy)return Fl;Gy=1;var s=u1(),e=Rd(),i=f1();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(f(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return _(c),t;if(h===l)return _(c),n;h=h.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=h;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=h;break}if(E===l){g=!0,l=c,a=h;break}E=E.sibling}if(!g){for(E=h.child;E;){if(E===a){g=!0,a=h,l=c;break}if(E===l){g=!0,l=h,a=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,V=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),gt=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),Mt=Symbol.for("react.forward_ref"),Bt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function $t(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case gt:return"Profiler";case it:return"StrictMode";case Bt:return"Suspense";case wt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case et:return"Portal";case pt:return t.displayName||"Context";case Et:return(t._context.displayName||"Context")+".Consumer";case Mt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:$t(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return $t(t(n))}catch{}}return null}var ce=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},xt=[],kt=-1;function x(t){return{current:t}}function U(t){0>kt||(t.current=xt[kt],xt[kt]=null,kt--)}function J(t,n){kt++,xt[kt]=t.current,t.current=n}var $=x(null),lt=x(null),ht=x(null),Tt=x(null);function Ie(t,n){switch(J(ht,n),J(lt,t),J($,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?sy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=sy(n),t=ry(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}U($),J($,t)}function ae(){U($),U(lt),U(ht)}function ka(t){t.memoizedState!==null&&J(Tt,t);var n=$.current,a=ry(n,t.type);n!==a&&(J(lt,t),J($,a))}function xs(t){lt.current===t&&(U($),U(lt)),Tt.current===t&&(U(Tt),kl._currentValue=ut)}var Os,Ms;function Xn(t){if(Os===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Os=n&&n[1]||"",Ms=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Os+t+Ms}var kr=!1;function Pa(t,n){if(!t||kr)return"";kr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var k=q}Reflect.construct(t,[],K)}else{try{K.call()}catch(q){k=q}t.call(K.prototype)}}else{try{throw Error()}catch(q){k=q}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&k&&typeof q.stack=="string")return[q.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),g=h[0],E=h[1];if(g&&E){var R=g.split(`
`),B=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===B.length)for(l=R.length-1,c=B.length-1;1<=l&&0<=c&&R[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==B[c]){var F=`
`+R[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{kr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Xn(a):""}function Pr(t,n){switch(t.tag){case 26:case 27:case 5:return Xn(t.type);case 16:return Xn("Lazy");case 13:return t.child!==n&&n!==null?Xn("Suspense Fallback"):Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return Pa(t.type,!1);case 11:return Pa(t.type.render,!1);case 1:return Pa(t.type,!0);case 31:return Xn("Activity");default:return""}}function qr(t){try{var n="",a=null;do n+=Pr(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pe=Object.prototype.hasOwnProperty,De=s.unstable_scheduleCallback,Ki=s.unstable_cancelCallback,jc=s.unstable_shouldYield,Eo=s.unstable_requestPaint,Ze=s.unstable_now,qa=s.unstable_getCurrentPriorityLevel,Hr=s.unstable_ImmediatePriority,Gr=s.unstable_UserBlockingPriority,Xi=s.unstable_NormalPriority,Bc=s.unstable_LowPriority,To=s.unstable_IdlePriority,Ao=s.log,So=s.unstable_setDisableYieldValue,Mn=null,Le=null;function vn(t){if(typeof Ao=="function"&&So(t),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Mn,t)}catch{}}var fe=Math.clz32?Math.clz32:wo,bo=Math.log,zs=Math.LN2;function wo(t){return t>>>=0,t===0?32:31-(bo(t)/zs|0)|0}var Zn=256,Ha=262144,ye=4194304;function Jn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $n(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~h,l!==0?c=Jn(l):(g&=E,g!==0?c=Jn(g):a||(a=E&~t,a!==0&&(c=Jn(a))))):(E=l&~h,E!==0?c=Jn(E):g!==0?c=Jn(g):a||(a=l&~t,a!==0&&(c=Jn(a)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:c}function zn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function kc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ro(){var t=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),t}function Wn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ga(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Pc(t,n,a,l,c,h){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var F=31-fe(a),K=1<<F;E[F]=0,R[F]=-1;var k=B[F];if(k!==null)for(B[F]=null,F=0;F<k.length;F++){var q=k[F];q!==null&&(q.lane&=-536870913)}a&=~K}l!==0&&Fa(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~n))}function Fa(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Fr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-fe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Qr(t,n){var a=n&-n;return a=(a&42)!==0?1:Qa(a),(a&(t.suspendedLanes|n))!==0?0:a}function Qa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function bi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Co(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:Dy(t.type))}function Un(t,n){var a=nt.p;try{return nt.p=t,n()}finally{nt.p=a}}var Ln=Math.random().toString(36).slice(2),_e="__reactFiber$"+Ln,Oe="__reactProps$"+Ln,ti="__reactContainer$"+Ln,Us="__reactEvents$"+Ln,qc="__reactListeners$"+Ln,Io="__reactHandles$"+Ln,Do="__reactResources$"+Ln,ei="__reactMarker$"+Ln;function Ls(t){delete t[_e],delete t[Oe],delete t[Us],delete t[qc],delete t[Io]}function ni(t){var n=t[_e];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ti]||a[_e]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=dy(t);t!==null;){if(a=t[_e])return a;t=dy(t)}return n}t=a,a=t.parentNode}return null}function En(t){if(t=t[_e]||t[ti]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ii(t){var n=t[Do];return n||(n=t[Do]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(t){t[ei]=!0}var Yr=new Set,Kr={};function ai(t,n){si(t,n),si(t+"Capture",n)}function si(t,n){for(Kr[t]=n,t=0;t<n.length;t++)Yr.add(n[t])}var Xr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zr={},Jr={};function No(t){return pe.call(Jr,t)?!0:pe.call(Zr,t)?!1:Xr.test(t)?Jr[t]=!0:(Zr[t]=!0,!1)}function js(t,n,a){if(No(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function cn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ee(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Me(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function $r(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,h=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,h.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ft(t){if(!t._valueTracker){var n=Zi(t)?"checked":"value";t._valueTracker=$r(t,n,""+t[n])}}function Ya(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Zi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ka=/[\n"\\]/g;function tn(t){return t.replace(Ka,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Bs(t,n,a,l,c,h,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Me(n)):t.value!==""+Me(n)&&(t.value=""+Me(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Wr(t,g,Me(n)):a!=null?Wr(t,g,Me(a)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Me(E):t.removeAttribute("name")}function Vo(t,n,a,l,c,h,g,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){Ft(t);return}a=a!=null?""+Me(a):"",n=n!=null?""+Me(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ft(t)}function Wr(t,n,a){n==="number"&&ri(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ji(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Me(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function xo(t,n,a){if(n!=null&&(n=""+Me(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Me(a):""}function $i(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(ce(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Me(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ft(t)}function en(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Oo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Oo.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function el(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&tl(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&tl(t,h,n[h])}function ks(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ps(t){return Wi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function jn(){}var nl=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ta=null,li=null;function Xa(t){var n=En(t);if(n&&(t=n.stateNode)){var a=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Bs(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(r(90));Bs(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ya(l)}break t;case"textarea":xo(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ji(t,!!a.multiple,n,!1)}}}var qs=!1;function ea(t,n,a){if(qs)return t(n,a);qs=!0;try{var l=t(n);return l}finally{if(qs=!1,(ta!==null||li!==null)&&(Cu(),ta&&(n=ta,t=li,li=ta=null,Xa(n),t)))for(n=0;n<t.length;n++)Xa(t[n])}}function Bn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Oe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Za=!1;if(An)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){Za=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{Za=!1}var oi=null,il=null,Ja=null;function al(){if(Ja)return Ja;var t,n=il,a=n.length,l,c="value"in oi?oi.value:oi.textContent,h=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[h-l];l++);return Ja=c.slice(t,1<l?1-l:void 0)}function $a(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function wi(){return!0}function kn(){return!1}function je(t){function n(a,l,c,h,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?wi:kn,this.isPropagationStopped=kn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),n}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ui=je(Ri),na=b({},Ri,{view:0,detail:0}),sl=je(na),ia,Hs,ci,Gs=b({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ci&&(ci&&t.type==="mousemove"?(ia=t.screenX-ci.screenX,Hs=t.screenY-ci.screenY):Hs=ia=0,ci=t),ia)},movementY:function(t){return"movementY"in t?t.movementY:Hs}}),rl=je(Gs),Wa=b({},Gs,{dataTransfer:0}),zo=je(Wa),Uo=b({},na,{relatedTarget:0}),ts=je(Uo),ll=b({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),Lo=je(ll),Fs=b({},Ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jo=je(Fs),Bo=b({},Ri,{data:0}),fi=je(Bo),ko={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ho(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=qo[t])?!!n[t]:!1}function aa(){return Ho}var Je=b({},na,{key:function(t){if(t.key){var n=ko[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=$a(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Po[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aa,charCode:function(t){return t.type==="keypress"?$a(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$a(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Go=je(Je),Fo=b({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ci=je(Fo),u=b({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aa}),m=je(u),y=b({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(y),L=b({},Gs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P=je(L),tt=b({},Ri,{newState:0,oldState:0}),At=je(tt),he=[9,13,27,32],Pt=An&&"CompositionEvent"in window,se=null;An&&"documentMode"in document&&(se=document.documentMode);var Sn=An&&"TextEvent"in window&&!se,hi=An&&(!Pt||se&&8<se&&11>=se),Pn=" ",qn=!1;function es(t,n){switch(t){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ys=!1;function CE(t,n){switch(t){case"compositionend":return Qs(n);case"keypress":return n.which!==32?null:(qn=!0,Pn);case"textInput":return t=n.data,t===Pn&&qn?null:t;default:return null}}function IE(t,n){if(Ys)return t==="compositionend"||!Pt&&es(t,n)?(t=al(),Ja=il=oi=null,Ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return hi&&n.locale!=="ko"?null:n.data;default:return null}}var DE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!DE[t.type]:n==="textarea"}function ym(t,n,a,l){ta?li?li.push(l):li=[l]:ta=l,n=Mu(n,"onChange"),0<n.length&&(a=new ui("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var ol=null,ul=null;function NE(t){Wp(t,0)}function Qo(t){var n=un(t);if(Ya(n))return t}function _m(t,n){if(t==="change")return n}var vm=!1;if(An){var Hc;if(An){var Gc="oninput"in document;if(!Gc){var Em=document.createElement("div");Em.setAttribute("oninput","return;"),Gc=typeof Em.oninput=="function"}Hc=Gc}else Hc=!1;vm=Hc&&(!document.documentMode||9<document.documentMode)}function Tm(){ol&&(ol.detachEvent("onpropertychange",Am),ul=ol=null)}function Am(t){if(t.propertyName==="value"&&Qo(ul)){var n=[];ym(n,ul,t,Tn(t)),ea(NE,n)}}function VE(t,n,a){t==="focusin"?(Tm(),ol=n,ul=a,ol.attachEvent("onpropertychange",Am)):t==="focusout"&&Tm()}function xE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qo(ul)}function OE(t,n){if(t==="click")return Qo(n)}function ME(t,n){if(t==="input"||t==="change")return Qo(n)}function zE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var fn=typeof Object.is=="function"?Object.is:zE;function cl(t,n){if(fn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!pe.call(n,c)||!fn(t[c],n[c]))return!1}return!0}function Sm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bm(t,n){var a=Sm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Sm(a)}}function wm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?wm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Rm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ri(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ri(t.document)}return n}function Fc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var UE=An&&"documentMode"in document&&11>=document.documentMode,Ks=null,Qc=null,fl=null,Yc=!1;function Cm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yc||Ks==null||Ks!==ri(l)||(l=Ks,"selectionStart"in l&&Fc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&cl(fl,l)||(fl=l,l=Mu(Qc,"onSelect"),0<l.length&&(n=new ui("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ks)))}function ns(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Xs={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionrun:ns("Transition","TransitionRun"),transitionstart:ns("Transition","TransitionStart"),transitioncancel:ns("Transition","TransitionCancel"),transitionend:ns("Transition","TransitionEnd")},Kc={},Im={};An&&(Im=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function is(t){if(Kc[t])return Kc[t];if(!Xs[t])return t;var n=Xs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Im)return Kc[t]=n[a];return t}var Dm=is("animationend"),Nm=is("animationiteration"),Vm=is("animationstart"),LE=is("transitionrun"),jE=is("transitionstart"),BE=is("transitioncancel"),xm=is("transitionend"),Om=new Map,Xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xc.push("scrollEnd");function Hn(t,n){Om.set(t,n),ai(n,[t])}var Yo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},bn=[],Zs=0,Zc=0;function Ko(){for(var t=Zs,n=Zc=Zs=0;n<t;){var a=bn[n];bn[n++]=null;var l=bn[n];bn[n++]=null;var c=bn[n];bn[n++]=null;var h=bn[n];if(bn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}h!==0&&Mm(a,c,h)}}function Xo(t,n,a,l){bn[Zs++]=t,bn[Zs++]=n,bn[Zs++]=a,bn[Zs++]=l,Zc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Jc(t,n,a,l){return Xo(t,n,a,l),Zo(t)}function as(t,n){return Xo(t,null,null,n),Zo(t)}function Mm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,h=t.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-fe(a),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),h):null}function Zo(t){if(50<Ol)throw Ol=0,lh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Js={};function kE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,n,a,l){return new kE(t,n,a,l)}function $c(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ii(t,n){var a=t.alternate;return a===null?(a=hn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function zm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Jo(t,n,a,l,c,h){var g=0;if(l=t,typeof t=="function")$c(t)&&(g=1);else if(typeof t=="string")g=FT(t,a,$.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=hn(31,a,n,c),t.elementType=C,t.lanes=h,t;case W:return ss(a.children,c,h,n);case it:g=8,c|=24;break;case gt:return t=hn(12,a,n,c|2),t.elementType=gt,t.lanes=h,t;case Bt:return t=hn(13,a,n,c),t.elementType=Bt,t.lanes=h,t;case wt:return t=hn(19,a,n,c),t.elementType=wt,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pt:g=10;break t;case Et:g=9;break t;case Mt:g=11;break t;case I:g=14;break t;case S:g=16,l=null;break t}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=hn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function ss(t,n,a,l){return t=hn(7,t,l,n),t.lanes=a,t}function Wc(t,n,a){return t=hn(6,t,null,n),t.lanes=a,t}function Um(t){var n=hn(18,null,null,0);return n.stateNode=t,n}function tf(t,n,a){return n=hn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Lm=new WeakMap;function wn(t,n){if(typeof t=="object"&&t!==null){var a=Lm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:qr(n)},Lm.set(t,n),n)}return{value:t,source:n,stack:qr(n)}}var $s=[],Ws=0,$o=null,hl=0,Rn=[],Cn=0,sa=null,di=1,mi="";function Di(t,n){$s[Ws++]=hl,$s[Ws++]=$o,$o=t,hl=n}function jm(t,n,a){Rn[Cn++]=di,Rn[Cn++]=mi,Rn[Cn++]=sa,sa=t;var l=di;t=mi;var c=32-fe(l)-1;l&=~(1<<c),a+=1;var h=32-fe(n)+c;if(30<h){var g=c-c%5;h=(l&(1<<g)-1).toString(32),l>>=g,c-=g,di=1<<32-fe(n)+c|a<<c|l,mi=h+t}else di=1<<h|a<<c|l,mi=t}function ef(t){t.return!==null&&(Di(t,1),jm(t,1,0))}function nf(t){for(;t===$o;)$o=$s[--Ws],$s[Ws]=null,hl=$s[--Ws],$s[Ws]=null;for(;t===sa;)sa=Rn[--Cn],Rn[Cn]=null,mi=Rn[--Cn],Rn[Cn]=null,di=Rn[--Cn],Rn[Cn]=null}function Bm(t,n){Rn[Cn++]=di,Rn[Cn++]=mi,Rn[Cn++]=sa,di=n.id,mi=n.overflow,sa=t}var Be=null,ee=null,Ot=!1,ra=null,In=!1,af=Error(r(519));function la(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(wn(n,t)),af}function km(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[_e]=t,n[Oe]=l,a){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<zl.length;a++)Ct(zl[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Vo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),$i(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||iy(n.textContent,a)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||la(t,!0)}function Pm(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Be=Be.return}}function tr(t){if(t!==Be)return!1;if(!Ot)return Pm(t),Ot=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ah(t.type,t.memoizedProps)),a=!a),a&&ee&&la(t),Pm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ee=hy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ee=hy(t)}else n===27?(n=ee,Ta(t.type)?(t=Ch,Ch=null,ee=t):ee=n):ee=Be?Nn(t.stateNode.nextSibling):null;return!0}function rs(){ee=Be=null,Ot=!1}function sf(){var t=ra;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),ra=null),t}function dl(t){ra===null?ra=[t]:ra.push(t)}var rf=x(null),ls=null,Ni=null;function oa(t,n,a){J(rf,n._currentValue),n._currentValue=a}function Vi(t){t._currentValue=rf.current,U(rf)}function lf(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function of(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){h.lanes|=a,E=h.alternate,E!==null&&(E.lanes|=a),lf(h.return,a,t),l||(g=null);break t}h=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=a,h=g.alternate,h!==null&&(h.lanes|=a),lf(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function er(t,n,a,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;fn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Tt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}c=c.return}t!==null&&of(n,t,a,l),n.flags|=262144}function Wo(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function os(t){ls=t,Ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return qm(ls,t)}function tu(t,n){return ls===null&&os(t),qm(t,n)}function qm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ni===null){if(t===null)throw Error(r(308));Ni=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ni=Ni.next=n;return a}var PE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},qE=s.unstable_scheduleCallback,HE=s.unstable_NormalPriority,Te={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new PE,data:new Map,refCount:0}}function ml(t){t.refCount--,t.refCount===0&&qE(HE,function(){t.controller.abort()})}var gl=null,cf=0,nr=0,ir=null;function GE(t,n){if(gl===null){var a=gl=[];cf=0,nr=dh(),ir={status:"pending",value:void 0,then:function(l){a.push(l)}}}return cf++,n.then(Hm,Hm),n}function Hm(){if(--cf===0&&gl!==null){ir!==null&&(ir.status="fulfilled");var t=gl;gl=null,nr=0,ir=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function FE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Gm=G.S;G.S=function(t,n){Cp=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&GE(t,n),Gm!==null&&Gm(t,n)};var us=x(null);function ff(){var t=us.current;return t!==null?t:Wt.pooledCache}function eu(t,n){n===null?J(us,us.current):J(us,n.pool)}function Fm(){var t=ff();return t===null?null:{parent:Te._currentValue,pool:t}}var ar=Error(r(460)),hf=Error(r(474)),nu=Error(r(542)),iu={then:function(){}};function Qm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ym(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(jn,jn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xm(t),t;default:if(typeof n.status=="string")n.then(jn,jn);else{if(t=Wt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xm(t),t}throw fs=n,ar}}function cs(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(fs=a,ar):a}}var fs=null;function Km(){if(fs===null)throw Error(r(459));var t=fs;return fs=null,t}function Xm(t){if(t===ar||t===nu)throw Error(r(483))}var sr=null,pl=0;function au(t){var n=pl;return pl+=1,sr===null&&(sr=[]),Ym(sr,t,n)}function yl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function su(t,n){throw n.$$typeof===V?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Zm(t){function n(M,N){if(t){var j=M.deletions;j===null?(M.deletions=[N],M.flags|=16):j.push(N)}}function a(M,N){if(!t)return null;for(;N!==null;)n(M,N),N=N.sibling;return null}function l(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function c(M,N){return M=Ii(M,N),M.index=0,M.sibling=null,M}function h(M,N,j){return M.index=j,t?(j=M.alternate,j!==null?(j=j.index,j<N?(M.flags|=67108866,N):j):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function g(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,N,j,Q){return N===null||N.tag!==6?(N=Wc(j,M.mode,Q),N.return=M,N):(N=c(N,j),N.return=M,N)}function R(M,N,j,Q){var ct=j.type;return ct===W?F(M,N,j.props.children,Q,j.key):N!==null&&(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&cs(ct)===N.type)?(N=c(N,j.props),yl(N,j),N.return=M,N):(N=Jo(j.type,j.key,j.props,null,M.mode,Q),yl(N,j),N.return=M,N)}function B(M,N,j,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==j.containerInfo||N.stateNode.implementation!==j.implementation?(N=tf(j,M.mode,Q),N.return=M,N):(N=c(N,j.children||[]),N.return=M,N)}function F(M,N,j,Q,ct){return N===null||N.tag!==7?(N=ss(j,M.mode,Q,ct),N.return=M,N):(N=c(N,j),N.return=M,N)}function K(M,N,j){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Wc(""+N,M.mode,j),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Y:return j=Jo(N.type,N.key,N.props,null,M.mode,j),yl(j,N),j.return=M,j;case et:return N=tf(N,M.mode,j),N.return=M,N;case S:return N=cs(N),K(M,N,j)}if(ce(N)||z(N))return N=ss(N,M.mode,j,null),N.return=M,N;if(typeof N.then=="function")return K(M,au(N),j);if(N.$$typeof===pt)return K(M,tu(M,N),j);su(M,N)}return null}function k(M,N,j,Q){var ct=N!==null?N.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ct!==null?null:E(M,N,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Y:return j.key===ct?R(M,N,j,Q):null;case et:return j.key===ct?B(M,N,j,Q):null;case S:return j=cs(j),k(M,N,j,Q)}if(ce(j)||z(j))return ct!==null?null:F(M,N,j,Q,null);if(typeof j.then=="function")return k(M,N,au(j),Q);if(j.$$typeof===pt)return k(M,N,tu(M,j),Q);su(M,j)}return null}function q(M,N,j,Q,ct){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(j)||null,E(N,M,""+Q,ct);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Y:return M=M.get(Q.key===null?j:Q.key)||null,R(N,M,Q,ct);case et:return M=M.get(Q.key===null?j:Q.key)||null,B(N,M,Q,ct);case S:return Q=cs(Q),q(M,N,j,Q,ct)}if(ce(Q)||z(Q))return M=M.get(j)||null,F(N,M,Q,ct,null);if(typeof Q.then=="function")return q(M,N,j,au(Q),ct);if(Q.$$typeof===pt)return q(M,N,j,tu(N,Q),ct);su(N,Q)}return null}function rt(M,N,j,Q){for(var ct=null,Lt=null,ot=N,bt=N=0,Dt=null;ot!==null&&bt<j.length;bt++){ot.index>bt?(Dt=ot,ot=null):Dt=ot.sibling;var jt=k(M,ot,j[bt],Q);if(jt===null){ot===null&&(ot=Dt);break}t&&ot&&jt.alternate===null&&n(M,ot),N=h(jt,N,bt),Lt===null?ct=jt:Lt.sibling=jt,Lt=jt,ot=Dt}if(bt===j.length)return a(M,ot),Ot&&Di(M,bt),ct;if(ot===null){for(;bt<j.length;bt++)ot=K(M,j[bt],Q),ot!==null&&(N=h(ot,N,bt),Lt===null?ct=ot:Lt.sibling=ot,Lt=ot);return Ot&&Di(M,bt),ct}for(ot=l(ot);bt<j.length;bt++)Dt=q(ot,M,bt,j[bt],Q),Dt!==null&&(t&&Dt.alternate!==null&&ot.delete(Dt.key===null?bt:Dt.key),N=h(Dt,N,bt),Lt===null?ct=Dt:Lt.sibling=Dt,Lt=Dt);return t&&ot.forEach(function(Ra){return n(M,Ra)}),Ot&&Di(M,bt),ct}function dt(M,N,j,Q){if(j==null)throw Error(r(151));for(var ct=null,Lt=null,ot=N,bt=N=0,Dt=null,jt=j.next();ot!==null&&!jt.done;bt++,jt=j.next()){ot.index>bt?(Dt=ot,ot=null):Dt=ot.sibling;var Ra=k(M,ot,jt.value,Q);if(Ra===null){ot===null&&(ot=Dt);break}t&&ot&&Ra.alternate===null&&n(M,ot),N=h(Ra,N,bt),Lt===null?ct=Ra:Lt.sibling=Ra,Lt=Ra,ot=Dt}if(jt.done)return a(M,ot),Ot&&Di(M,bt),ct;if(ot===null){for(;!jt.done;bt++,jt=j.next())jt=K(M,jt.value,Q),jt!==null&&(N=h(jt,N,bt),Lt===null?ct=jt:Lt.sibling=jt,Lt=jt);return Ot&&Di(M,bt),ct}for(ot=l(ot);!jt.done;bt++,jt=j.next())jt=q(ot,M,bt,jt.value,Q),jt!==null&&(t&&jt.alternate!==null&&ot.delete(jt.key===null?bt:jt.key),N=h(jt,N,bt),Lt===null?ct=jt:Lt.sibling=jt,Lt=jt);return t&&ot.forEach(function(n1){return n(M,n1)}),Ot&&Di(M,bt),ct}function Jt(M,N,j,Q){if(typeof j=="object"&&j!==null&&j.type===W&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Y:t:{for(var ct=j.key;N!==null;){if(N.key===ct){if(ct=j.type,ct===W){if(N.tag===7){a(M,N.sibling),Q=c(N,j.props.children),Q.return=M,M=Q;break t}}else if(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&cs(ct)===N.type){a(M,N.sibling),Q=c(N,j.props),yl(Q,j),Q.return=M,M=Q;break t}a(M,N);break}else n(M,N);N=N.sibling}j.type===W?(Q=ss(j.props.children,M.mode,Q,j.key),Q.return=M,M=Q):(Q=Jo(j.type,j.key,j.props,null,M.mode,Q),yl(Q,j),Q.return=M,M=Q)}return g(M);case et:t:{for(ct=j.key;N!==null;){if(N.key===ct)if(N.tag===4&&N.stateNode.containerInfo===j.containerInfo&&N.stateNode.implementation===j.implementation){a(M,N.sibling),Q=c(N,j.children||[]),Q.return=M,M=Q;break t}else{a(M,N);break}else n(M,N);N=N.sibling}Q=tf(j,M.mode,Q),Q.return=M,M=Q}return g(M);case S:return j=cs(j),Jt(M,N,j,Q)}if(ce(j))return rt(M,N,j,Q);if(z(j)){if(ct=z(j),typeof ct!="function")throw Error(r(150));return j=ct.call(j),dt(M,N,j,Q)}if(typeof j.then=="function")return Jt(M,N,au(j),Q);if(j.$$typeof===pt)return Jt(M,N,tu(M,j),Q);su(M,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,N!==null&&N.tag===6?(a(M,N.sibling),Q=c(N,j),Q.return=M,M=Q):(a(M,N),Q=Wc(j,M.mode,Q),Q.return=M,M=Q),g(M)):a(M,N)}return function(M,N,j,Q){try{pl=0;var ct=Jt(M,N,j,Q);return sr=null,ct}catch(ot){if(ot===ar||ot===nu)throw ot;var Lt=hn(29,ot,null,M.mode);return Lt.lanes=Q,Lt.return=M,Lt}finally{}}}var hs=Zm(!0),Jm=Zm(!1),ua=!1;function df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ca(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function fa(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Zo(t),Mm(t,null,a),n}return Xo(t,l,n,a),Zo(t)}function _l(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Fr(t,a)}}function gf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,a=a.next}while(a!==null);h===null?c=h=n:h=h.next=n}else c=h=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var pf=!1;function vl(){if(pf){var t=ir;if(t!==null)throw t}}function El(t,n,a,l){pf=!1;var c=t.updateQueue;ua=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,B=R.next;R.next=null,g===null?h=B:g.next=B,g=R;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=B:E.next=B,F.lastBaseUpdate=R))}if(h!==null){var K=c.baseState;g=0,F=B=R=null,E=h;do{var k=E.lane&-536870913,q=k!==E.lane;if(q?(It&k)===k:(l&k)===k){k!==0&&k===nr&&(pf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=t,dt=E;k=n;var Jt=a;switch(dt.tag){case 1:if(rt=dt.payload,typeof rt=="function"){K=rt.call(Jt,K,k);break t}K=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=dt.payload,k=typeof rt=="function"?rt.call(Jt,K,k):rt,k==null)break t;K=b({},K,k);break t;case 2:ua=!0}}k=E.callback,k!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[k]:q.push(k))}else q={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(B=F=q,R=K):F=F.next=q,g|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);F===null&&(R=K),c.baseState=R,c.firstBaseUpdate=B,c.lastBaseUpdate=F,h===null&&(c.shared.lanes=0),pa|=g,t.lanes=g,t.memoizedState=K}}function $m(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Wm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)$m(a[t],n)}var rr=x(null),ru=x(0);function tg(t,n){t=ki,J(ru,t),J(rr,n),ki=t|n.baseLanes}function yf(){J(ru,ki),J(rr,rr.current)}function _f(){ki=ru.current,U(rr),U(ru)}var dn=x(null),Dn=null;function ha(t){var n=t.alternate;J(de,de.current&1),J(dn,t),Dn===null&&(n===null||rr.current!==null||n.memoizedState!==null)&&(Dn=t)}function vf(t){J(de,de.current),J(dn,t),Dn===null&&(Dn=t)}function eg(t){t.tag===22?(J(de,de.current),J(dn,t),Dn===null&&(Dn=t)):da()}function da(){J(de,de.current),J(dn,dn.current)}function mn(t){U(dn),Dn===t&&(Dn=null),U(de)}var de=x(0);function lu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||wh(a)||Rh(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var xi=0,St=null,Xt=null,Ae=null,ou=!1,lr=!1,ds=!1,uu=0,Tl=0,or=null,QE=0;function oe(){throw Error(r(321))}function Ef(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!fn(t[a],n[a]))return!1;return!0}function Tf(t,n,a,l,c,h){return xi=h,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?jg:Uf,ds=!1,h=a(l,c),ds=!1,lr&&(h=ig(n,a,l,c)),ng(t),h}function ng(t){G.H=bl;var n=Xt!==null&&Xt.next!==null;if(xi=0,Ae=Xt=St=null,ou=!1,Tl=0,or=null,n)throw Error(r(300));t===null||Se||(t=t.dependencies,t!==null&&Wo(t)&&(Se=!0))}function ig(t,n,a,l){St=t;var c=0;do{if(lr&&(or=null),Tl=0,lr=!1,25<=c)throw Error(r(301));if(c+=1,Ae=Xt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}G.H=Bg,h=n(a,l)}while(lr);return h}function YE(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?Al(n):n,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(St.flags|=1024),n}function Af(){var t=uu!==0;return uu=0,t}function Sf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function bf(t){if(ou){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ou=!1}xi=0,Ae=Xt=St=null,lr=!1,Tl=uu=0,or=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?St.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function me(){if(Xt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var n=Ae===null?St.memoizedState:Ae.next;if(n!==null)Ae=n,Xt=t;else{if(t===null)throw St.alternate===null?Error(r(467)):Error(r(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ae===null?St.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(t){var n=Tl;return Tl+=1,or===null&&(or=[]),t=Ym(or,t,n),n=St,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?jg:Uf),t}function fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Al(t);if(t.$$typeof===pt)return ke(t)}throw Error(r(438,String(t)))}function wf(t){var n=null,a=St.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=cu(),St.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function Oi(t,n){return typeof n=="function"?n(t):n}function hu(t){var n=me();return Rf(n,Xt,t)}function Rf(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=g=null,R=null,B=n,F=!1;do{var K=B.lane&-536870913;if(K!==B.lane?(It&K)===K:(xi&K)===K){var k=B.revertLane;if(k===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),K===nr&&(F=!0);else if((xi&k)===k){B=B.next,k===nr&&(F=!0);continue}else K={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(E=R=K,g=h):R=R.next=K,St.lanes|=k,pa|=k;K=B.action,ds&&a(h,K),h=B.hasEagerState?B.eagerState:a(h,K)}else k={lane:K,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(E=R=k,g=h):R=R.next=k,St.lanes|=K,pa|=K;B=B.next}while(B!==null&&B!==n);if(R===null?g=h:R.next=E,!fn(h,t.memoizedState)&&(Se=!0,F&&(a=ir,a!==null)))throw a;t.memoizedState=h,t.baseState=g,t.baseQueue=R,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Cf(t){var n=me(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,h=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do h=t(h,g.action),g=g.next;while(g!==c);fn(h,n.memoizedState)||(Se=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function ag(t,n,a){var l=St,c=me(),h=Ot;if(h){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!fn((Xt||c).memoizedState,a);if(g&&(c.memoizedState=a,Se=!0),c=c.queue,Nf(lg.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,ur(9,{destroy:void 0},rg.bind(null,l,c,a,n),null),Wt===null)throw Error(r(349));h||(xi&127)!==0||sg(l,n,a)}return a}function sg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=St.updateQueue,n===null?(n=cu(),St.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function rg(t,n,a,l){n.value=a,n.getSnapshot=l,og(n)&&ug(t)}function lg(t,n,a){return a(function(){og(n)&&ug(t)})}function og(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!fn(t,a)}catch{return!0}}function ug(t){var n=as(t,2);n!==null&&ln(n,t,2)}function If(t){var n=$e();if(typeof t=="function"){var a=t;if(t=a(),ds){vn(!0);try{a()}finally{vn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:t},n}function cg(t,n,a,l){return t.baseState=a,Rf(t,Xt,typeof l=="function"?l:Oi)}function KE(t,n,a,l,c){if(gu(t))throw Error(r(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};G.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,fg(n,h)):(h.next=a.next,n.pending=a.next=h)}}function fg(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=G.T,g={};G.T=g;try{var E=a(c,l),R=G.S;R!==null&&R(g,E),hg(t,n,E)}catch(B){Df(t,n,B)}finally{h!==null&&g.types!==null&&(h.types=g.types),G.T=h}}else try{h=a(c,l),hg(t,n,h)}catch(B){Df(t,n,B)}}function hg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){dg(t,n,l)},function(l){return Df(t,n,l)}):dg(t,n,a)}function dg(t,n,a){n.status="fulfilled",n.value=a,mg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,fg(t,a)))}function Df(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,mg(n),n=n.next;while(n!==l)}t.action=null}function mg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function gg(t,n){return n}function pg(t,n){if(Ot){var a=Wt.formState;if(a!==null){t:{var l=St;if(Ot){if(ee){e:{for(var c=ee,h=In;c.nodeType!==8;){if(!h){c=null;break e}if(c=Nn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){ee=Nn(c.nextSibling),l=c.data==="F!";break t}}la(l)}l=!1}l&&(n=a[0])}}return a=$e(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gg,lastRenderedState:n},a.queue=l,a=zg.bind(null,St,l),l.dispatch=a,l=If(!1),h=zf.bind(null,St,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=KE.bind(null,St,c,h,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function yg(t){var n=me();return _g(n,Xt,t)}function _g(t,n,a){if(n=Rf(t,n,gg)[0],t=hu(Oi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Al(n)}catch(g){throw g===ar?nu:g}else l=n;n=me();var c=n.queue,h=c.dispatch;return a!==n.memoizedState&&(St.flags|=2048,ur(9,{destroy:void 0},XE.bind(null,c,a),null)),[l,h,t]}function XE(t,n){t.action=n}function vg(t){var n=me(),a=Xt;if(a!==null)return _g(n,a,t);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ur(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=cu(),St.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Eg(){return me().memoizedState}function du(t,n,a,l){var c=$e();St.flags|=t,c.memoizedState=ur(1|n,{destroy:void 0},a,l===void 0?null:l)}function mu(t,n,a,l){var c=me();l=l===void 0?null:l;var h=c.memoizedState.inst;Xt!==null&&l!==null&&Ef(l,Xt.memoizedState.deps)?c.memoizedState=ur(n,h,a,l):(St.flags|=t,c.memoizedState=ur(1|n,h,a,l))}function Tg(t,n){du(8390656,8,t,n)}function Nf(t,n){mu(2048,8,t,n)}function ZE(t){St.flags|=4;var n=St.updateQueue;if(n===null)n=cu(),St.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Ag(t){var n=me().memoizedState;return ZE({ref:n,nextImpl:t}),function(){if((qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Sg(t,n){return mu(4,2,t,n)}function bg(t,n){return mu(4,4,t,n)}function wg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Rg(t,n,a){a=a!=null?a.concat([t]):null,mu(4,4,wg.bind(null,n,t),a)}function Vf(){}function Cg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Ef(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Ig(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Ef(n,l[1]))return l[0];if(l=t(),ds){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,n],l}function xf(t,n,a){return a===void 0||(xi&1073741824)!==0&&(It&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Dp(),St.lanes|=t,pa|=t,a)}function Dg(t,n,a,l){return fn(a,n)?a:rr.current!==null?(t=xf(t,a,l),fn(t,n)||(Se=!0),t):(xi&42)===0||(xi&1073741824)!==0&&(It&261930)===0?(Se=!0,t.memoizedState=a):(t=Dp(),St.lanes|=t,pa|=t,n)}function Ng(t,n,a,l,c){var h=nt.p;nt.p=h!==0&&8>h?h:8;var g=G.T,E={};G.T=E,zf(t,!1,n,a);try{var R=c(),B=G.S;if(B!==null&&B(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=FE(R,l);Sl(t,n,F,yn(t))}else Sl(t,n,l,yn(t))}catch(K){Sl(t,n,{then:function(){},status:"rejected",reason:K},yn())}finally{nt.p=h,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function JE(){}function Of(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=Vg(t).queue;Ng(t,c,n,ut,a===null?JE:function(){return xg(t),a(l)})}function Vg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:ut},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function xg(t){var n=Vg(t);n.next===null&&(n=t.alternate.memoizedState),Sl(t,n.next.queue,{},yn())}function Mf(){return ke(kl)}function Og(){return me().memoizedState}function Mg(){return me().memoizedState}function $E(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=yn();t=ca(a);var l=fa(n,t,a);l!==null&&(ln(l,n,a),_l(l,n,a)),n={cache:uf()},t.payload=n;return}n=n.return}}function WE(t,n,a){var l=yn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},gu(t)?Ug(n,a):(a=Jc(t,n,a,l),a!==null&&(ln(a,t,l),Lg(a,n,l)))}function zg(t,n,a){var l=yn();Sl(t,n,a,l)}function Sl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(gu(t))Ug(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,E=h(g,a);if(c.hasEagerState=!0,c.eagerState=E,fn(E,g))return Xo(t,n,c,0),Wt===null&&Ko(),!1}catch{}finally{}if(a=Jc(t,n,c,l),a!==null)return ln(a,t,l),Lg(a,n,l),!0}return!1}function zf(t,n,a,l){if(l={lane:2,revertLane:dh(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},gu(t)){if(n)throw Error(r(479))}else n=Jc(t,a,l,2),n!==null&&ln(n,t,2)}function gu(t){var n=t.alternate;return t===St||n!==null&&n===St}function Ug(t,n){lr=ou=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Lg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Fr(t,a)}}var bl={readContext:ke,use:fu,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe};bl.useEffectEvent=oe;var jg={readContext:ke,use:fu,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:Tg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,du(4194308,4,wg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return du(4194308,4,t,n)},useInsertionEffect:function(t,n){du(4,2,t,n)},useMemo:function(t,n){var a=$e();n=n===void 0?null:n;var l=t();if(ds){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=$e();if(a!==void 0){var c=a(n);if(ds){vn(!0);try{a(n)}finally{vn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=WE.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=If(t);var n=t.queue,a=zg.bind(null,St,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Vf,useDeferredValue:function(t,n){var a=$e();return xf(a,t,n)},useTransition:function(){var t=If(!1);return t=Ng.bind(null,St,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=St,c=$e();if(Ot){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Wt===null)throw Error(r(349));(It&127)!==0||sg(l,n,a)}c.memoizedState=a;var h={value:a,getSnapshot:n};return c.queue=h,Tg(lg.bind(null,l,h,t),[t]),l.flags|=2048,ur(9,{destroy:void 0},rg.bind(null,l,h,a,n),null),a},useId:function(){var t=$e(),n=Wt.identifierPrefix;if(Ot){var a=mi,l=di;a=(l&~(1<<32-fe(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=uu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=QE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Mf,useFormState:pg,useActionState:pg,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=zf.bind(null,St,!0,a),a.dispatch=n,[t,n]},useMemoCache:wf,useCacheRefresh:function(){return $e().memoizedState=$E.bind(null,St)},useEffectEvent:function(t){var n=$e(),a={impl:t};return n.memoizedState=a,function(){if((qt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Uf={readContext:ke,use:fu,useCallback:Cg,useContext:ke,useEffect:Nf,useImperativeHandle:Rg,useInsertionEffect:Sg,useLayoutEffect:bg,useMemo:Ig,useReducer:hu,useRef:Eg,useState:function(){return hu(Oi)},useDebugValue:Vf,useDeferredValue:function(t,n){var a=me();return Dg(a,Xt.memoizedState,t,n)},useTransition:function(){var t=hu(Oi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Al(t),n]},useSyncExternalStore:ag,useId:Og,useHostTransitionStatus:Mf,useFormState:yg,useActionState:yg,useOptimistic:function(t,n){var a=me();return cg(a,Xt,t,n)},useMemoCache:wf,useCacheRefresh:Mg};Uf.useEffectEvent=Ag;var Bg={readContext:ke,use:fu,useCallback:Cg,useContext:ke,useEffect:Nf,useImperativeHandle:Rg,useInsertionEffect:Sg,useLayoutEffect:bg,useMemo:Ig,useReducer:Cf,useRef:Eg,useState:function(){return Cf(Oi)},useDebugValue:Vf,useDeferredValue:function(t,n){var a=me();return Xt===null?xf(a,t,n):Dg(a,Xt.memoizedState,t,n)},useTransition:function(){var t=Cf(Oi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Al(t),n]},useSyncExternalStore:ag,useId:Og,useHostTransitionStatus:Mf,useFormState:vg,useActionState:vg,useOptimistic:function(t,n){var a=me();return Xt!==null?cg(a,Xt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:wf,useCacheRefresh:Mg};Bg.useEffectEvent=Ag;function Lf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:b({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var jf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=yn(),c=ca(l);c.payload=n,a!=null&&(c.callback=a),n=fa(t,c,l),n!==null&&(ln(n,t,l),_l(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=yn(),c=ca(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=fa(t,c,l),n!==null&&(ln(n,t,l),_l(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=yn(),l=ca(a);l.tag=2,n!=null&&(l.callback=n),n=fa(t,l,a),n!==null&&(ln(n,t,a),_l(n,t,a))}};function kg(t,n,a,l,c,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,g):n.prototype&&n.prototype.isPureReactComponent?!cl(a,l)||!cl(c,h):!0}function Pg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&jf.enqueueReplaceState(n,n.state,null)}function ms(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=b({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function qg(t){Yo(t)}function Hg(t){console.error(t)}function Gg(t){Yo(t)}function pu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Fg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Bf(t,n,a){return a=ca(a),a.tag=3,a.payload={element:null},a.callback=function(){pu(t,n)},a}function Qg(t){return t=ca(t),t.tag=3,t}function Yg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){Fg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Fg(n,a,l),typeof c!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function tT(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&er(n,a,c,!0),a=dn.current,a!==null){switch(a.tag){case 31:case 13:return Dn===null?Iu():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===iu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),ch(t,l,c)),!1;case 22:return a.flags|=65536,l===iu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),ch(t,l,c)),!1}throw Error(r(435,a.tag))}return ch(t,l,c),Iu(),!1}if(Ot)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==af&&(t=Error(r(422),{cause:l}),dl(wn(t,a)))):(l!==af&&(n=Error(r(423),{cause:l}),dl(wn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=wn(l,a),c=Bf(t.stateNode,l,c),gf(t,c),ue!==4&&(ue=2)),!1;var h=Error(r(520),{cause:l});if(h=wn(h,a),xl===null?xl=[h]:xl.push(h),ue!==4&&(ue=2),n===null)return!0;l=wn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Bf(a.stateNode,l,t),gf(a,t),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ya===null||!ya.has(h))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Qg(c),Yg(c,t,a,l),gf(a,c),!1}a=a.return}while(a!==null);return!1}var kf=Error(r(461)),Se=!1;function Pe(t,n,a,l){n.child=t===null?Jm(n,null,a,l):hs(n,t.child,a,l)}function Kg(t,n,a,l,c){a=a.render;var h=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return os(n),l=Tf(t,n,a,g,h,c),E=Af(),t!==null&&!Se?(Sf(t,n,c),Mi(t,n,c)):(Ot&&E&&ef(n),n.flags|=1,Pe(t,n,l,c),n.child)}function Xg(t,n,a,l,c){if(t===null){var h=a.type;return typeof h=="function"&&!$c(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,Zg(t,n,h,l,c)):(t=Jo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Kf(t,c)){var g=h.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(g,l)&&t.ref===n.ref)return Mi(t,n,c)}return n.flags|=1,t=Ii(h,l),t.ref=n.ref,t.return=n,n.child=t}function Zg(t,n,a,l,c){if(t!==null){var h=t.memoizedProps;if(cl(h,l)&&t.ref===n.ref)if(Se=!1,n.pendingProps=l=h,Kf(t,c))(t.flags&131072)!==0&&(Se=!0);else return n.lanes=t.lanes,Mi(t,n,c)}return Pf(t,n,a,l,c)}function Jg(t,n,a,l){var c=l.children,h=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~h}else l=0,n.child=null;return $g(t,n,h,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&eu(n,h!==null?h.cachePool:null),h!==null?tg(n,h):yf(),eg(n);else return l=n.lanes=536870912,$g(t,n,h!==null?h.baseLanes|a:a,a,l)}else h!==null?(eu(n,h.cachePool),tg(n,h),da(),n.memoizedState=null):(t!==null&&eu(n,null),yf(),da());return Pe(t,n,c,a),n.child}function wl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function $g(t,n,a,l,c){var h=ff();return h=h===null?null:{parent:Te._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&eu(n,null),yf(),eg(n),t!==null&&er(t,n,l,!0),n.childLanes=c,null}function yu(t,n){return n=vu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Wg(t,n,a){return hs(n,t.child,null,a),t=yu(n,n.pendingProps),t.flags|=2,mn(n),n.memoizedState=null,t}function eT(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ot){if(l.mode==="hidden")return t=yu(n,l),n.lanes=536870912,wl(null,t);if(vf(n),(t=ee)?(t=fy(t,In),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:sa!==null?{id:di,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},a=Um(t),a.return=n,n.child=a,Be=n,ee=null)):t=null,t===null)throw la(n);return n.lanes=536870912,null}return yu(n,l)}var h=t.memoizedState;if(h!==null){var g=h.dehydrated;if(vf(n),c)if(n.flags&256)n.flags&=-257,n=Wg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Se||er(t,n,a,!1),c=(a&t.childLanes)!==0,Se||c){if(l=Wt,l!==null&&(g=Qr(l,a),g!==0&&g!==h.retryLane))throw h.retryLane=g,as(t,g),ln(l,t,g),kf;Iu(),n=Wg(t,n,a)}else t=h.treeContext,ee=Nn(g.nextSibling),Be=n,Ot=!0,ra=null,In=!1,t!==null&&Bm(n,t),n=yu(n,l),n.flags|=4096;return n}return t=Ii(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function _u(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Pf(t,n,a,l,c){return os(n),a=Tf(t,n,a,l,void 0,c),l=Af(),t!==null&&!Se?(Sf(t,n,c),Mi(t,n,c)):(Ot&&l&&ef(n),n.flags|=1,Pe(t,n,a,c),n.child)}function tp(t,n,a,l,c,h){return os(n),n.updateQueue=null,a=ig(n,l,a,c),ng(t),l=Af(),t!==null&&!Se?(Sf(t,n,h),Mi(t,n,h)):(Ot&&l&&ef(n),n.flags|=1,Pe(t,n,a,h),n.child)}function ep(t,n,a,l,c){if(os(n),n.stateNode===null){var h=Js,g=a.contextType;typeof g=="object"&&g!==null&&(h=ke(g)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=jf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},df(n),g=a.contextType,h.context=typeof g=="object"&&g!==null?ke(g):Js,h.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Lf(n,a,g,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&jf.enqueueReplaceState(h,h.state,null),El(n,l,h,c),vl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,R=ms(a,E);h.props=R;var B=h.context,F=a.contextType;g=Js,typeof F=="object"&&F!==null&&(g=ke(F));var K=a.getDerivedStateFromProps;F=typeof K=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||B!==g)&&Pg(n,h,l,g),ua=!1;var k=n.memoizedState;h.state=k,El(n,l,h,c),vl(),B=n.memoizedState,E||k!==B||ua?(typeof K=="function"&&(Lf(n,a,K,l),B=n.memoizedState),(R=ua||kg(n,a,R,l,k,B,g))?(F||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=g,l=R):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,mf(t,n),g=n.memoizedProps,F=ms(a,g),h.props=F,K=n.pendingProps,k=h.context,B=a.contextType,R=Js,typeof B=="object"&&B!==null&&(R=ke(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==K||k!==R)&&Pg(n,h,l,R),ua=!1,k=n.memoizedState,h.state=k,El(n,l,h,c),vl();var q=n.memoizedState;g!==K||k!==q||ua||t!==null&&t.dependencies!==null&&Wo(t.dependencies)?(typeof E=="function"&&(Lf(n,a,E,l),q=n.memoizedState),(F=ua||kg(n,a,F,l,k,q,R)||t!==null&&t.dependencies!==null&&Wo(t.dependencies))?(B||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,q,R),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,q,R)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),h.props=l,h.state=q,h.context=R,l=F):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,_u(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=hs(n,t.child,null,c),n.child=hs(n,null,a,c)):Pe(t,n,a,c),n.memoizedState=h.state,t=n.child):t=Mi(t,n,c),t}function np(t,n,a,l){return rs(),n.flags|=256,Pe(t,n,a,l),n.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(t){return{baseLanes:t,cachePool:Fm()}}function Gf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=pn),t}function ip(t,n,a){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(de.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ot){if(c?ha(n):da(),(t=ee)?(t=fy(t,In),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:sa!==null?{id:di,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},a=Um(t),a.return=n,n.child=a,Be=n,ee=null)):t=null,t===null)throw la(n);return Rh(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(da(),c=n.mode,E=vu({mode:"hidden",children:E},c),l=ss(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Hf(a),l.childLanes=Gf(t,g,a),n.memoizedState=qf,wl(null,l)):(ha(n),Ff(n,E))}var R=t.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(h)n.flags&256?(ha(n),n.flags&=-257,n=Qf(t,n,a)):n.memoizedState!==null?(da(),n.child=t.child,n.flags|=128,n=null):(da(),E=l.fallback,c=n.mode,l=vu({mode:"visible",children:l.children},c),E=ss(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,hs(n,t.child,null,a),l=n.child,l.memoizedState=Hf(a),l.childLanes=Gf(t,g,a),n.memoizedState=qf,n=wl(null,l));else if(ha(n),Rh(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(r(419)),l.stack="",l.digest=g,dl({value:l,source:null,stack:null}),n=Qf(t,n,a)}else if(Se||er(t,n,a,!1),g=(a&t.childLanes)!==0,Se||g){if(g=Wt,g!==null&&(l=Qr(g,a),l!==0&&l!==R.retryLane))throw R.retryLane=l,as(t,l),ln(g,t,l),kf;wh(E)||Iu(),n=Qf(t,n,a)}else wh(E)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,ee=Nn(E.nextSibling),Be=n,Ot=!0,ra=null,In=!1,t!==null&&Bm(n,t),n=Ff(n,l.children),n.flags|=4096);return n}return c?(da(),E=l.fallback,c=n.mode,R=t.child,B=R.sibling,l=Ii(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,B!==null?E=Ii(B,E):(E=ss(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,wl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Hf(a):(c=E.cachePool,c!==null?(R=Te._currentValue,c=c.parent!==R?{parent:R,pool:R}:c):c=Fm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=Gf(t,g,a),n.memoizedState=qf,wl(t.child,l)):(ha(n),a=t.child,t=a.sibling,a=Ii(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Ff(t,n){return n=vu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function vu(t,n){return t=hn(22,t,null,n),t.lanes=0,t}function Qf(t,n,a){return hs(n,t.child,null,a),t=Ff(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ap(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),lf(t.return,n,a)}function Yf(t,n,a,l,c,h){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:h}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=h)}function sp(t,n,a){var l=n.pendingProps,c=l.revealOrder,h=l.tail;l=l.children;var g=de.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,J(de,g),Pe(t,n,l,a),l=Ot?hl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ap(t,a,n);else if(t.tag===19)ap(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&lu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Yf(n,!1,c,a,h,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&lu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Yf(n,!0,a,null,h,l);break;case"together":Yf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Mi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),pa|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(er(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Ii(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ii(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Kf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Wo(t)))}function nT(t,n,a){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),oa(n,Te,t.memoizedState.cache),rs();break;case 27:case 5:ka(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:oa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,vf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ha(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ip(t,n,a):(ha(n),t=Mi(t,n,a),t!==null?t.sibling:null);ha(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(er(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return sp(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(de,de.current),l)break;return null;case 22:return n.lanes=0,Jg(t,n,a,n.pendingProps);case 24:oa(n,Te,t.memoizedState.cache)}return Mi(t,n,a)}function rp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Se=!0;else{if(!Kf(t,a)&&(n.flags&128)===0)return Se=!1,nT(t,n,a);Se=(t.flags&131072)!==0}else Se=!1,Ot&&(n.flags&1048576)!==0&&jm(n,hl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=cs(n.elementType),n.type=t,typeof t=="function")$c(t)?(l=ms(t,l),n.tag=1,n=ep(null,n,t,l,a)):(n.tag=0,n=Pf(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===Mt){n.tag=11,n=Kg(null,n,t,l,a);break t}else if(c===I){n.tag=14,n=Xg(null,n,t,l,a);break t}}throw n=$t(t)||t,Error(r(306,n,""))}}return n;case 0:return Pf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=ms(l,n.pendingProps),ep(t,n,l,c,a);case 3:t:{if(Ie(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,mf(t,n),El(n,l,null,a);var g=n.memoizedState;if(l=g.cache,oa(n,Te,l),l!==h.cache&&of(n,[Te],a,!0),vl(),l=g.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=np(t,n,l,a);break t}else if(l!==c){c=wn(Error(r(424)),n),dl(c),n=np(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ee=Nn(t.firstChild),Be=n,Ot=!0,ra=null,In=!0,a=Jm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(rs(),l===c){n=Mi(t,n,a);break t}Pe(t,n,l,a)}n=n.child}return n;case 26:return _u(t,n),t===null?(a=yy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ot||(a=n.type,t=n.pendingProps,l=zu(ht.current).createElement(a),l[_e]=n,l[Oe]=t,qe(l,a,t),ve(l),n.stateNode=l):n.memoizedState=yy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ka(n),t===null&&Ot&&(l=n.stateNode=my(n.type,n.pendingProps,ht.current),Be=n,In=!0,c=ee,Ta(n.type)?(Ch=c,ee=Nn(l.firstChild)):ee=c),Pe(t,n,n.pendingProps.children,a),_u(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ot&&((c=l=ee)&&(l=xT(l,n.type,n.pendingProps,In),l!==null?(n.stateNode=l,Be=n,ee=Nn(l.firstChild),In=!1,c=!0):c=!1),c||la(n)),ka(n),c=n.type,h=n.pendingProps,g=t!==null?t.memoizedProps:null,l=h.children,Ah(c,h)?l=null:g!==null&&Ah(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Tf(t,n,YE,null,null,a),kl._currentValue=c),_u(t,n),Pe(t,n,l,a),n.child;case 6:return t===null&&Ot&&((t=a=ee)&&(a=OT(a,n.pendingProps,In),a!==null?(n.stateNode=a,Be=n,ee=null,t=!0):t=!1),t||la(n)),null;case 13:return ip(t,n,a);case 4:return Ie(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=hs(n,null,l,a):Pe(t,n,l,a),n.child;case 11:return Kg(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,oa(n,n.type,l.value),Pe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,os(n),c=ke(c),l=l(c),n.flags|=1,Pe(t,n,l,a),n.child;case 14:return Xg(t,n,n.type,n.pendingProps,a);case 15:return Zg(t,n,n.type,n.pendingProps,a);case 19:return sp(t,n,a);case 31:return eT(t,n,a);case 22:return Jg(t,n,a,n.pendingProps);case 24:return os(n),l=ke(Te),t===null?(c=ff(),c===null&&(c=Wt,h=uf(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=a),c=h),n.memoizedState={parent:l,cache:c},df(n),oa(n,Te,c)):((t.lanes&a)!==0&&(mf(t,n),El(n,null,null,a),vl()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),oa(n,Te,l)):(l=h.cache,oa(n,Te,l),l!==c.cache&&of(n,[Te],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function zi(t){t.flags|=4}function Xf(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Op())t.flags|=8192;else throw fs=iu,hf}else t.flags&=-16777217}function lp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ay(n))if(Op())t.flags|=8192;else throw fs=iu,hf}function Eu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ro():536870912,t.lanes|=n,dr|=n)}function Rl(t,n){if(!Ot)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function iT(t,n,a){var l=n.pendingProps;switch(nf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Vi(Te),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(tr(n)?zi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sf())),ne(n),null;case 26:var c=n.type,h=n.memoizedState;return t===null?(zi(n),h!==null?(ne(n),lp(n,h)):(ne(n),Xf(n,c,null,l,a))):h?h!==t.memoizedState?(zi(n),ne(n),lp(n,h)):(ne(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&zi(n),ne(n),Xf(n,c,t,l,a)),null;case 27:if(xs(n),a=ht.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ne(n),null}t=$.current,tr(n)?km(n):(t=my(c,l,a),n.stateNode=t,zi(n))}return ne(n),null;case 5:if(xs(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ne(n),null}if(h=$.current,tr(n))km(n);else{var g=zu(ht.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}h[_e]=n,h[Oe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=h;t:switch(qe(h,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&zi(n)}}return ne(n),Xf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&zi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=ht.current,tr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Be,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||iy(t.nodeValue,a)),t||la(n,!0)}else t=zu(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ne(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=tr(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[_e]=n}else rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),t=!1}else a=sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=tr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[_e]=n}else rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Eu(n,n.updateQueue),ne(n),null);case 4:return ae(),t===null&&yh(n.stateNode.containerInfo),ne(n),null;case 10:return Vi(n.type),ne(n),null;case 19:if(U(de),l=n.memoizedState,l===null)return ne(n),null;if(c=(n.flags&128)!==0,h=l.rendering,h===null)if(c)Rl(l,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=lu(t),h!==null){for(n.flags|=128,Rl(l,!1),t=h.updateQueue,n.updateQueue=t,Eu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)zm(a,t),a=a.sibling;return J(de,de.current&1|2),Ot&&Di(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>wu&&(n.flags|=128,c=!0,Rl(l,!1),n.lanes=4194304)}else{if(!c)if(t=lu(h),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,Eu(n,t),Rl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Ot)return ne(n),null}else 2*Ze()-l.renderingStartTime>wu&&a!==536870912&&(n.flags|=128,c=!0,Rl(l,!1),n.lanes=4194304);l.isBackwards?(h.sibling=n.child,n.child=h):(t=l.last,t!==null?t.sibling=h:n.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,a=de.current,J(de,c?a&1|2:a&1),Ot&&Di(n,l.treeForkCount),t):(ne(n),null);case 22:case 23:return mn(n),_f(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&Eu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&U(us),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Vi(Te),ne(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function aT(t,n){switch(nf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Vi(Te),ae(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return xs(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(r(340));rs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));rs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return U(de),null;case 4:return ae(),null;case 10:return Vi(n.type),null;case 22:case 23:return mn(n),_f(),t!==null&&U(us),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Vi(Te),null;case 25:return null;default:return null}}function op(t,n){switch(nf(n),n.tag){case 3:Vi(Te),ae();break;case 26:case 27:case 5:xs(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:U(de);break;case 10:Vi(n.type);break;case 22:case 23:mn(n),_f(),t!==null&&U(us);break;case 24:Vi(Te)}}function Cl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var h=a.create,g=a.inst;l=h(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Yt(n,n.return,E)}}function ma(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var R=a,B=E;try{B()}catch(F){Yt(c,R,F)}}}l=l.next}while(l!==h)}}catch(F){Yt(n,n.return,F)}}function up(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Wm(n,a)}catch(l){Yt(t,t.return,l)}}}function cp(t,n,a){a.props=ms(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(t,n,l)}}function Il(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Yt(t,n,c)}}function gi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Yt(t,n,c)}else a.current=null}function fp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Yt(t,t.return,c)}}function Zf(t,n,a){try{var l=t.stateNode;RT(l,t.type,a,n),l[Oe]=n}catch(c){Yt(t,t.return,c)}}function hp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ta(t.type)||t.tag===4}function Jf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||hp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ta(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $f(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=jn));else if(l!==4&&(l===27&&Ta(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for($f(t,n,a),t=t.sibling;t!==null;)$f(t,n,a),t=t.sibling}function Tu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ta(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Tu(t,n,a),t=t.sibling;t!==null;)Tu(t,n,a),t=t.sibling}function dp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);qe(n,l,a),n[_e]=t,n[Oe]=a}catch(h){Yt(t,t.return,h)}}var Ui=!1,be=!1,Wf=!1,mp=typeof WeakSet=="function"?WeakSet:Set,ze=null;function sT(t,n){if(t=t.containerInfo,Eh=qu,t=Rm(t),Fc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break t}var g=0,E=-1,R=-1,B=0,F=0,K=t,k=null;e:for(;;){for(var q;K!==a||c!==0&&K.nodeType!==3||(E=g+c),K!==h||l!==0&&K.nodeType!==3||(R=g+l),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)k=K,K=q;for(;;){if(K===t)break e;if(k===a&&++B===c&&(E=g),k===h&&++F===l&&(R=g),(q=K.nextSibling)!==null)break;K=k,k=K.parentNode}K=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Th={focusedElem:t,selectionRange:a},qu=!1,ze=n;ze!==null;)if(n=ze,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ze=t;else for(;ze!==null;){switch(n=ze,h=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=n,c=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var rt=ms(a.type,c);t=l.getSnapshotBeforeUpdate(rt,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(dt){Yt(a,a.return,dt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)bh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,ze=t;break}ze=n.return}}function gp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ji(t,a),l&4&&Cl(5,a);break;case 1:if(ji(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Yt(a,a.return,g)}else{var c=ms(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(a,a.return,g)}}l&64&&up(a),l&512&&Il(a,a.return);break;case 3:if(ji(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Wm(t,n)}catch(g){Yt(a,a.return,g)}}break;case 27:n===null&&l&4&&dp(a);case 26:case 5:ji(t,a),n===null&&l&4&&fp(a),l&512&&Il(a,a.return);break;case 12:ji(t,a);break;case 31:ji(t,a),l&4&&_p(t,a);break;case 13:ji(t,a),l&4&&vp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=mT.bind(null,a),MT(t,a))));break;case 22:if(l=a.memoizedState!==null||Ui,!l){n=n!==null&&n.memoizedState!==null||be,c=Ui;var h=be;Ui=l,(be=n)&&!h?Bi(t,a,(a.subtreeFlags&8772)!==0):ji(t,a),Ui=c,be=h}break;case 30:break;default:ji(t,a)}}function pp(t){var n=t.alternate;n!==null&&(t.alternate=null,pp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ls(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var re=null,nn=!1;function Li(t,n,a){for(a=a.child;a!==null;)yp(t,n,a),a=a.sibling}function yp(t,n,a){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Mn,a)}catch{}switch(a.tag){case 26:be||gi(a,n),Li(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:be||gi(a,n);var l=re,c=nn;Ta(a.type)&&(re=a.stateNode,nn=!1),Li(t,n,a),Ll(a.stateNode),re=l,nn=c;break;case 5:be||gi(a,n);case 6:if(l=re,c=nn,re=null,Li(t,n,a),re=l,nn=c,re!==null)if(nn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(h){Yt(a,n,h)}else try{re.removeChild(a.stateNode)}catch(h){Yt(a,n,h)}break;case 18:re!==null&&(nn?(t=re,uy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Tr(t)):uy(re,a.stateNode));break;case 4:l=re,c=nn,re=a.stateNode.containerInfo,nn=!0,Li(t,n,a),re=l,nn=c;break;case 0:case 11:case 14:case 15:ma(2,a,n),be||ma(4,a,n),Li(t,n,a);break;case 1:be||(gi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&cp(a,n,l)),Li(t,n,a);break;case 21:Li(t,n,a);break;case 22:be=(l=be)||a.memoizedState!==null,Li(t,n,a),be=l;break;default:Li(t,n,a)}}function _p(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Tr(t)}catch(a){Yt(n,n.return,a)}}}function vp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Tr(t)}catch(a){Yt(n,n.return,a)}}function rT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new mp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new mp),n;default:throw Error(r(435,t.tag))}}function Au(t,n){var a=rT(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=gT.bind(null,t,l);l.then(c,c)}})}function an(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],h=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ta(E.type)){re=E.stateNode,nn=!1;break t}break;case 5:re=E.stateNode,nn=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(re===null)throw Error(r(160));yp(h,g,c),re=null,nn=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ep(n,t),n=n.sibling}var Gn=null;function Ep(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),sn(t),l&4&&(ma(3,t,t.return),Cl(3,t),ma(5,t,t.return));break;case 1:an(n,t),sn(t),l&512&&(be||a===null||gi(a,a.return)),l&64&&Ui&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Gn;if(an(n,t),sn(t),l&512&&(be||a===null||gi(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[ei]||h[_e]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),qe(h,l,a),h[_e]=t,ve(h),l=h;break t;case"link":var g=Ey("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(h=g[E],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}h=c.createElement(l),qe(h,l,a),c.head.appendChild(h);break;case"meta":if(g=Ey("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(h=g[E],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}h=c.createElement(l),qe(h,l,a),c.head.appendChild(h);break;default:throw Error(r(468,l))}h[_e]=t,ve(h),l=h}t.stateNode=l}else Ty(c,t.type,t.stateNode);else t.stateNode=vy(c,l,t.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?Ty(c,t.type,t.stateNode):vy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Zf(t,t.memoizedProps,a.memoizedProps)}break;case 27:an(n,t),sn(t),l&512&&(be||a===null||gi(a,a.return)),a!==null&&l&4&&Zf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(an(n,t),sn(t),l&512&&(be||a===null||gi(a,a.return)),t.flags&32){c=t.stateNode;try{en(c,"")}catch(rt){Yt(t,t.return,rt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Zf(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Wf=!0);break;case 6:if(an(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(rt){Yt(t,t.return,rt)}}break;case 3:if(ju=null,c=Gn,Gn=Uu(n.containerInfo),an(n,t),Gn=c,sn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Tr(n.containerInfo)}catch(rt){Yt(t,t.return,rt)}Wf&&(Wf=!1,Tp(t));break;case 4:l=Gn,Gn=Uu(t.stateNode.containerInfo),an(n,t),sn(t),Gn=l;break;case 12:an(n,t),sn(t);break;case 31:an(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Au(t,l)));break;case 13:an(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bu=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Au(t,l)));break;case 22:c=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,B=Ui,F=be;if(Ui=B||c,be=F||R,an(n,t),be=F,Ui=B,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||R||Ui||be||gs(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(h=R.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,k=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(rt){Yt(R,R.return,rt)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(rt){Yt(R,R.return,rt)}}}else if(n.tag===18){if(a===null){R=n;try{var q=R.stateNode;c?cy(q,!0):cy(R.stateNode,!1)}catch(rt){Yt(R,R.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Au(t,a))));break;case 19:an(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Au(t,l)));break;case 30:break;case 21:break;default:an(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(hp(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,h=Jf(t);Tu(t,h,c);break;case 5:var g=a.stateNode;a.flags&32&&(en(g,""),a.flags&=-33);var E=Jf(t);Tu(t,E,g);break;case 3:case 4:var R=a.stateNode.containerInfo,B=Jf(t);$f(t,B,R);break;default:throw Error(r(161))}}catch(F){Yt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Tp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Tp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gp(t,n.alternate,n),n=n.sibling}function gs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ma(4,n,n.return),gs(n);break;case 1:gi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&cp(n,n.return,a),gs(n);break;case 27:Ll(n.stateNode);case 26:case 5:gi(n,n.return),gs(n);break;case 22:n.memoizedState===null&&gs(n);break;case 30:gs(n);break;default:gs(n)}t=t.sibling}}function Bi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:Bi(c,h,a),Cl(4,h);break;case 1:if(Bi(c,h,a),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Yt(l,l.return,B)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)$m(R[c],E)}catch(B){Yt(l,l.return,B)}}a&&g&64&&up(h),Il(h,h.return);break;case 27:dp(h);case 26:case 5:Bi(c,h,a),a&&l===null&&g&4&&fp(h),Il(h,h.return);break;case 12:Bi(c,h,a);break;case 31:Bi(c,h,a),a&&g&4&&_p(c,h);break;case 13:Bi(c,h,a),a&&g&4&&vp(c,h);break;case 22:h.memoizedState===null&&Bi(c,h,a),Il(h,h.return);break;case 30:break;default:Bi(c,h,a)}n=n.sibling}}function th(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ml(a))}function eh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ml(t))}function Fn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ap(t,n,a,l),n=n.sibling}function Ap(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(t,n,a,l),c&2048&&Cl(9,n);break;case 1:Fn(t,n,a,l);break;case 3:Fn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ml(t)));break;case 12:if(c&2048){Fn(t,n,a,l),t=n.stateNode;try{var h=n.memoizedProps,g=h.id,E=h.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Yt(n,n.return,R)}}else Fn(t,n,a,l);break;case 31:Fn(t,n,a,l);break;case 13:Fn(t,n,a,l);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?Fn(t,n,a,l):Dl(t,n):h._visibility&2?Fn(t,n,a,l):(h._visibility|=2,cr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&th(g,n);break;case 24:Fn(t,n,a,l),c&2048&&eh(n.alternate,n);break;default:Fn(t,n,a,l)}}function cr(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=t,g=n,E=a,R=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:cr(h,g,E,R,c),Cl(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?cr(h,g,E,R,c):Dl(h,g):(F._visibility|=2,cr(h,g,E,R,c)),c&&B&2048&&th(g.alternate,g);break;case 24:cr(h,g,E,R,c),c&&B&2048&&eh(g.alternate,g);break;default:cr(h,g,E,R,c)}n=n.sibling}}function Dl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Dl(a,l),c&2048&&th(l.alternate,l);break;case 24:Dl(a,l),c&2048&&eh(l.alternate,l);break;default:Dl(a,l)}n=n.sibling}}var Nl=8192;function fr(t,n,a){if(t.subtreeFlags&Nl)for(t=t.child;t!==null;)Sp(t,n,a),t=t.sibling}function Sp(t,n,a){switch(t.tag){case 26:fr(t,n,a),t.flags&Nl&&t.memoizedState!==null&&QT(a,Gn,t.memoizedState,t.memoizedProps);break;case 5:fr(t,n,a);break;case 3:case 4:var l=Gn;Gn=Uu(t.stateNode.containerInfo),fr(t,n,a),Gn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Nl,Nl=16777216,fr(t,n,a),Nl=l):fr(t,n,a));break;default:fr(t,n,a)}}function bp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Vl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,Rp(l,t)}bp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wp(t),t=t.sibling}function wp(t){switch(t.tag){case 0:case 11:case 15:Vl(t),t.flags&2048&&ma(9,t,t.return);break;case 3:Vl(t);break;case 12:Vl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Su(t)):Vl(t);break;default:Vl(t)}}function Su(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,Rp(l,t)}bp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ma(8,n,n.return),Su(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Su(n));break;default:Su(n)}t=t.sibling}}function Rp(t,n){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:ma(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=t;ze!==null;){l=ze;var c=l.sibling,h=l.return;if(pp(l),l===a){ze=null;break t}if(c!==null){c.return=h,ze=c;break t}ze=h}}}var lT={getCacheForType:function(t){var n=ke(Te),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return ke(Te).controller.signal}},oT=typeof WeakMap=="function"?WeakMap:Map,qt=0,Wt=null,Rt=null,It=0,Qt=0,gn=null,ga=!1,hr=!1,nh=!1,ki=0,ue=0,pa=0,ps=0,ih=0,pn=0,dr=0,xl=null,rn=null,ah=!1,bu=0,Cp=0,wu=1/0,Ru=null,ya=null,Ne=0,_a=null,mr=null,Pi=0,sh=0,rh=null,Ip=null,Ol=0,lh=null;function yn(){return(qt&2)!==0&&It!==0?It&-It:G.T!==null?dh():Co()}function Dp(){if(pn===0)if((It&536870912)===0||Ot){var t=Ha;Ha<<=1,(Ha&3932160)===0&&(Ha=262144),pn=t}else pn=536870912;return t=dn.current,t!==null&&(t.flags|=32),pn}function ln(t,n,a){(t===Wt&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(gr(t,0),va(t,It,pn,!1)),Ga(t,a),((qt&2)===0||t!==Wt)&&(t===Wt&&((qt&2)===0&&(ps|=a),ue===4&&va(t,It,pn,!1)),pi(t))}function Np(t,n,a){if((qt&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||zn(t,n),c=l?fT(t,n):uh(t,n,!0),h=l;do{if(c===0){hr&&!l&&va(t,n,0,!1);break}else{if(a=t.current.alternate,h&&!uT(a)){c=uh(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=xl;var R=E.current.memoizedState.isDehydrated;if(R&&(gr(E,g).flags|=256),g=uh(E,g,!1),g!==2){if(nh&&!R){E.errorRecoveryDisabledLanes|=h,ps|=h,c=4;break t}h=rn,rn=c,h!==null&&(rn===null?rn=h:rn.push.apply(rn,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){gr(t,0),va(t,n,0,!0);break}t:{switch(l=t,h=c,h){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:va(l,n,pn,!ga);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=bu+300-Ze(),10<c)){if(va(l,n,pn,!ga),$n(l,0,!0)!==0)break t;Pi=n,l.timeoutHandle=ly(Vp.bind(null,l,a,rn,Ru,ah,n,pn,ps,dr,ga,h,"Throttled",-0,0),c);break t}Vp(l,a,rn,Ru,ah,n,pn,ps,dr,ga,h,null,-0,0)}}break}while(!0);pi(t)}function Vp(t,n,a,l,c,h,g,E,R,B,F,K,k,q){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},Sp(n,h,K);var rt=(h&62914560)===h?bu-Ze():(h&4194048)===h?Cp-Ze():0;if(rt=YT(K,rt),rt!==null){Pi=h,t.cancelPendingCommit=rt(Bp.bind(null,t,n,h,a,l,c,g,E,R,F,K,null,k,q)),va(t,h,g,!B);return}}Bp(t,n,h,a,l,c,g,E,R)}function uT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],h=c.getSnapshot;c=c.value;try{if(!fn(h(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function va(t,n,a,l){n&=~ih,n&=~ps,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-fe(c),g=1<<h;l[h]=-1,c&=~g}a!==0&&Fa(t,a,n)}function Cu(){return(qt&6)===0?(Ml(0),!1):!0}function oh(){if(Rt!==null){if(Qt===0)var t=Rt.return;else t=Rt,Ni=ls=null,bf(t),sr=null,pl=0,t=Rt;for(;t!==null;)op(t.alternate,t),t=t.return;Rt=null}}function gr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,DT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Pi=0,oh(),Wt=t,Rt=a=Ii(t.current,null),It=n,Qt=0,gn=null,ga=!1,hr=zn(t,n),nh=!1,dr=pn=ih=ps=pa=ue=0,rn=xl=null,ah=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-fe(l),h=1<<c;n|=t[c],l&=~h}return ki=n,Ko(),a}function xp(t,n){St=null,G.H=bl,n===ar||n===nu?(n=Km(),Qt=3):n===hf?(n=Km(),Qt=4):Qt=n===kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Rt===null&&(ue=1,pu(t,wn(n,t.current)))}function Op(){var t=dn.current;return t===null?!0:(It&4194048)===It?Dn===null:(It&62914560)===It||(It&536870912)!==0?t===Dn:!1}function Mp(){var t=G.H;return G.H=bl,t===null?bl:t}function zp(){var t=G.A;return G.A=lT,t}function Iu(){ue=4,ga||(It&4194048)!==It&&dn.current!==null||(hr=!0),(pa&134217727)===0&&(ps&134217727)===0||Wt===null||va(Wt,It,pn,!1)}function uh(t,n,a){var l=qt;qt|=2;var c=Mp(),h=zp();(Wt!==t||It!==n)&&(Ru=null,gr(t,n)),n=!1;var g=ue;t:do try{if(Qt!==0&&Rt!==null){var E=Rt,R=gn;switch(Qt){case 8:oh(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var B=Qt;if(Qt=0,gn=null,pr(t,E,R,B),a&&hr){g=0;break t}break;default:B=Qt,Qt=0,gn=null,pr(t,E,R,B)}}cT(),g=ue;break}catch(F){xp(t,F)}while(!0);return n&&t.shellSuspendCounter++,Ni=ls=null,qt=l,G.H=c,G.A=h,Rt===null&&(Wt=null,It=0,Ko()),g}function cT(){for(;Rt!==null;)Up(Rt)}function fT(t,n){var a=qt;qt|=2;var l=Mp(),c=zp();Wt!==t||It!==n?(Ru=null,wu=Ze()+500,gr(t,n)):hr=zn(t,n);t:do try{if(Qt!==0&&Rt!==null){n=Rt;var h=gn;e:switch(Qt){case 1:Qt=0,gn=null,pr(t,n,h,1);break;case 2:case 9:if(Qm(h)){Qt=0,gn=null,Lp(n);break}n=function(){Qt!==2&&Qt!==9||Wt!==t||(Qt=7),pi(t)},h.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Qm(h)?(Qt=0,gn=null,Lp(n)):(Qt=0,gn=null,pr(t,n,h,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var E=Rt;if(g?Ay(g):E.stateNode.complete){Qt=0,gn=null;var R=E.sibling;if(R!==null)Rt=R;else{var B=E.return;B!==null?(Rt=B,Du(B)):Rt=null}break e}}Qt=0,gn=null,pr(t,n,h,5);break;case 6:Qt=0,gn=null,pr(t,n,h,6);break;case 8:oh(),ue=6;break t;default:throw Error(r(462))}}hT();break}catch(F){xp(t,F)}while(!0);return Ni=ls=null,G.H=l,G.A=c,qt=a,Rt!==null?0:(Wt=null,It=0,Ko(),ue)}function hT(){for(;Rt!==null&&!jc();)Up(Rt)}function Up(t){var n=rp(t.alternate,t,ki);t.memoizedProps=t.pendingProps,n===null?Du(t):Rt=n}function Lp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=tp(a,n,n.pendingProps,n.type,void 0,It);break;case 11:n=tp(a,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:bf(n);default:op(a,n),n=Rt=zm(n,ki),n=rp(a,n,ki)}t.memoizedProps=t.pendingProps,n===null?Du(t):Rt=n}function pr(t,n,a,l){Ni=ls=null,bf(n),sr=null,pl=0;var c=n.return;try{if(tT(t,c,n,a,It)){ue=1,pu(t,wn(a,t.current)),Rt=null;return}}catch(h){if(c!==null)throw Rt=c,h;ue=1,pu(t,wn(a,t.current)),Rt=null;return}n.flags&32768?(Ot||l===1?t=!0:hr||(It&536870912)!==0?t=!1:(ga=t=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),jp(n,t)):Du(n)}function Du(t){var n=t;do{if((n.flags&32768)!==0){jp(n,ga);return}t=n.return;var a=iT(n.alternate,n,ki);if(a!==null){Rt=a;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);ue===0&&(ue=5)}function jp(t,n){do{var a=aT(t.alternate,t);if(a!==null){a.flags&=32767,Rt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=a}while(t!==null);ue=6,Rt=null}function Bp(t,n,a,l,c,h,g,E,R){t.cancelPendingCommit=null;do Nu();while(Ne!==0);if((qt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(h=n.lanes|n.childLanes,h|=Zc,Pc(t,a,h,g,E,R),t===Wt&&(Rt=Wt=null,It=0),mr=n,_a=t,Pi=a,sh=h,rh=c,Ip=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pT(Xi,function(){return Gp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=nt.p,nt.p=2,g=qt,qt|=4;try{sT(t,n,a)}finally{qt=g,nt.p=c,G.T=l}}Ne=1,kp(),Pp(),qp()}}function kp(){if(Ne===1){Ne=0;var t=_a,n=mr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=nt.p;nt.p=2;var c=qt;qt|=4;try{Ep(n,t);var h=Th,g=Rm(t.containerInfo),E=h.focusedElem,R=h.selectionRange;if(g!==E&&E&&E.ownerDocument&&wm(E.ownerDocument.documentElement,E)){if(R!==null&&Fc(E)){var B=R.start,F=R.end;if(F===void 0&&(F=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(F,E.value.length);else{var K=E.ownerDocument||document,k=K&&K.defaultView||window;if(k.getSelection){var q=k.getSelection(),rt=E.textContent.length,dt=Math.min(R.start,rt),Jt=R.end===void 0?dt:Math.min(R.end,rt);!q.extend&&dt>Jt&&(g=Jt,Jt=dt,dt=g);var M=bm(E,dt),N=bm(E,Jt);if(M&&N&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var j=K.createRange();j.setStart(M.node,M.offset),q.removeAllRanges(),dt>Jt?(q.addRange(j),q.extend(N.node,N.offset)):(j.setEnd(N.node,N.offset),q.addRange(j))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}qu=!!Eh,Th=Eh=null}finally{qt=c,nt.p=l,G.T=a}}t.current=n,Ne=2}}function Pp(){if(Ne===2){Ne=0;var t=_a,n=mr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=nt.p;nt.p=2;var c=qt;qt|=4;try{gp(t,n.alternate,n)}finally{qt=c,nt.p=l,G.T=a}}Ne=3}}function qp(){if(Ne===4||Ne===3){Ne=0,Eo();var t=_a,n=mr,a=Pi,l=Ip;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,mr=_a=null,Hp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ya=null),bi(a),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Mn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=nt.p,nt.p=2,G.T=null;try{for(var h=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];h(E.value,{componentStack:E.stack})}}finally{G.T=n,nt.p=c}}(Pi&3)!==0&&Nu(),pi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===lh?Ol++:(Ol=0,lh=t):Ol=0,Ml(0)}}function Hp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ml(n)))}function Nu(){return kp(),Pp(),qp(),Gp()}function Gp(){if(Ne!==5)return!1;var t=_a,n=sh;sh=0;var a=bi(Pi),l=G.T,c=nt.p;try{nt.p=32>a?32:a,G.T=null,a=rh,rh=null;var h=_a,g=Pi;if(Ne=0,mr=_a=null,Pi=0,(qt&6)!==0)throw Error(r(331));var E=qt;if(qt|=4,wp(h.current),Ap(h,h.current,g,a),qt=E,Ml(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Mn,h)}catch{}return!0}finally{nt.p=c,G.T=l,Hp(t,n)}}function Fp(t,n,a){n=wn(a,n),n=Bf(t.stateNode,n,2),t=fa(t,n,2),t!==null&&(Ga(t,2),pi(t))}function Yt(t,n,a){if(t.tag===3)Fp(t,t,a);else for(;n!==null;){if(n.tag===3){Fp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ya===null||!ya.has(l))){t=wn(a,t),a=Qg(2),l=fa(n,a,2),l!==null&&(Yg(a,l,n,t),Ga(l,2),pi(l));break}}n=n.return}}function ch(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new oT;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(nh=!0,c.add(a),t=dT.bind(null,t,n,a),n.then(t,t))}function dT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Wt===t&&(It&a)===a&&(ue===4||ue===3&&(It&62914560)===It&&300>Ze()-bu?(qt&2)===0&&gr(t,0):ih|=a,dr===It&&(dr=0)),pi(t)}function Qp(t,n){n===0&&(n=Ro()),t=as(t,n),t!==null&&(Ga(t,n),pi(t))}function mT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Qp(t,a)}function gT(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Qp(t,a)}function pT(t,n){return De(t,n)}var Vu=null,yr=null,fh=!1,xu=!1,hh=!1,Ea=0;function pi(t){t!==yr&&t.next===null&&(yr===null?Vu=yr=t:yr=yr.next=t),xu=!0,fh||(fh=!0,_T())}function Ml(t,n){if(!hh&&xu){hh=!0;do for(var a=!1,l=Vu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var g=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-fe(42|t)+1)-1,h&=c&~(g&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,Zp(l,h))}else h=It,h=$n(l,l===Wt?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||zn(l,h)||(a=!0,Zp(l,h));l=l.next}while(a);hh=!1}}function yT(){Yp()}function Yp(){xu=fh=!1;var t=0;Ea!==0&&IT()&&(t=Ea);for(var n=Ze(),a=null,l=Vu;l!==null;){var c=l.next,h=Kp(l,n);h===0?(l.next=null,a===null?Vu=c:a.next=c,c===null&&(yr=a)):(a=l,(t!==0||(h&3)!==0)&&(xu=!0)),l=c}Ne!==0&&Ne!==5||Ml(t),Ea!==0&&(Ea=0)}function Kp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-fe(h),E=1<<g,R=c[g];R===-1?((E&a)===0||(E&l)!==0)&&(c[g]=kc(E,n)):R<=n&&(t.expiredLanes|=E),h&=~E}if(n=Wt,a=It,a=$n(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ki(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||zn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Ki(l),bi(a)){case 2:case 8:a=Gr;break;case 32:a=Xi;break;case 268435456:a=To;break;default:a=Xi}return l=Xp.bind(null,t),a=De(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Ki(l),t.callbackPriority=2,t.callbackNode=null,2}function Xp(t,n){if(Ne!==0&&Ne!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Nu()&&t.callbackNode!==a)return null;var l=It;return l=$n(t,t===Wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Np(t,l,n),Kp(t,Ze()),t.callbackNode!=null&&t.callbackNode===a?Xp.bind(null,t):null)}function Zp(t,n){if(Nu())return null;Np(t,n,!0)}function _T(){NT(function(){(qt&6)!==0?De(Hr,yT):Yp()})}function dh(){if(Ea===0){var t=nr;t===0&&(t=Zn,Zn<<=1,(Zn&261888)===0&&(Zn=256)),Ea=t}return Ea}function Jp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ps(""+t)}function $p(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function vT(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var h=Jp((c[Oe]||null).action),g=l.submitter;g&&(n=(n=g[Oe]||null)?Jp(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var E=new ui("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ea!==0){var R=g?$p(c,g):new FormData(c);Of(a,{pending:!0,data:R,method:c.method,action:h},null,R)}}else typeof h=="function"&&(E.preventDefault(),R=g?$p(c,g):new FormData(c),Of(a,{pending:!0,data:R,method:c.method,action:h},h,R))},currentTarget:c}]})}}for(var mh=0;mh<Xc.length;mh++){var gh=Xc[mh],ET=gh.toLowerCase(),TT=gh[0].toUpperCase()+gh.slice(1);Hn(ET,"on"+TT)}Hn(Dm,"onAnimationEnd"),Hn(Nm,"onAnimationIteration"),Hn(Vm,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(LE,"onTransitionRun"),Hn(jE,"onTransitionStart"),Hn(BE,"onTransitionCancel"),Hn(xm,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function Wp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],R=E.instance,B=E.currentTarget;if(E=E.listener,R!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=B;try{h(c)}catch(F){Yo(F)}c.currentTarget=null,h=R}else for(g=0;g<l.length;g++){if(E=l[g],R=E.instance,B=E.currentTarget,E=E.listener,R!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=B;try{h(c)}catch(F){Yo(F)}c.currentTarget=null,h=R}}}}function Ct(t,n){var a=n[Us];a===void 0&&(a=n[Us]=new Set);var l=t+"__bubble";a.has(l)||(ty(n,t,2,!1),a.add(l))}function ph(t,n,a){var l=0;n&&(l|=4),ty(a,t,l,n)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function yh(t){if(!t[Ou]){t[Ou]=!0,Yr.forEach(function(a){a!=="selectionchange"&&(AT.has(a)||ph(a,!1,t),ph(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ou]||(n[Ou]=!0,ph("selectionchange",!1,n))}}function ty(t,n,a,l){switch(Dy(n)){case 2:var c=ZT;break;case 8:c=JT;break;default:c=xh}a=c.bind(null,n,a,t),c=void 0,!Za||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function _h(t,n,a,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ni(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=h=g;continue t}E=E.parentNode}}l=l.return}ea(function(){var B=h,F=Tn(a),K=[];t:{var k=Om.get(t);if(k!==void 0){var q=ui,rt=t;switch(t){case"keypress":if($a(a)===0)break t;case"keydown":case"keyup":q=Go;break;case"focusin":rt="focus",q=ts;break;case"focusout":rt="blur",q=ts;break;case"beforeblur":case"afterblur":q=ts;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=zo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Dm:case Nm:case Vm:q=Lo;break;case xm:q=T;break;case"scroll":case"scrollend":q=sl;break;case"wheel":q=P;break;case"copy":case"cut":case"paste":q=jo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ci;break;case"toggle":case"beforetoggle":q=At}var dt=(n&4)!==0,Jt=!dt&&(t==="scroll"||t==="scrollend"),M=dt?k!==null?k+"Capture":null:k;dt=[];for(var N=B,j;N!==null;){var Q=N;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||M===null||(Q=Bn(N,M),Q!=null&&dt.push(Ul(N,Q,j))),Jt)break;N=N.return}0<dt.length&&(k=new q(k,rt,null,a,F),K.push({event:k,listeners:dt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",k&&a!==nl&&(rt=a.relatedTarget||a.fromElement)&&(ni(rt)||rt[ti]))break t;if((q||k)&&(k=F.window===F?F:(k=F.ownerDocument)?k.defaultView||k.parentWindow:window,q?(rt=a.relatedTarget||a.toElement,q=B,rt=rt?ni(rt):null,rt!==null&&(Jt=f(rt),dt=rt.tag,rt!==Jt||dt!==5&&dt!==27&&dt!==6)&&(rt=null)):(q=null,rt=B),q!==rt)){if(dt=rl,Q="onMouseLeave",M="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(dt=Ci,Q="onPointerLeave",M="onPointerEnter",N="pointer"),Jt=q==null?k:un(q),j=rt==null?k:un(rt),k=new dt(Q,N+"leave",q,a,F),k.target=Jt,k.relatedTarget=j,Q=null,ni(F)===B&&(dt=new dt(M,N+"enter",rt,a,F),dt.target=j,dt.relatedTarget=Jt,Q=dt),Jt=Q,q&&rt)e:{for(dt=ST,M=q,N=rt,j=0,Q=M;Q;Q=dt(Q))j++;Q=0;for(var ct=N;ct;ct=dt(ct))Q++;for(;0<j-Q;)M=dt(M),j--;for(;0<Q-j;)N=dt(N),Q--;for(;j--;){if(M===N||N!==null&&M===N.alternate){dt=M;break e}M=dt(M),N=dt(N)}dt=null}else dt=null;q!==null&&ey(K,k,q,dt,!1),rt!==null&&Jt!==null&&ey(K,Jt,rt,dt,!0)}}t:{if(k=B?un(B):window,q=k.nodeName&&k.nodeName.toLowerCase(),q==="select"||q==="input"&&k.type==="file")var Lt=_m;else if(pm(k))if(vm)Lt=ME;else{Lt=xE;var ot=VE}else q=k.nodeName,!q||q.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?B&&ks(B.elementType)&&(Lt=_m):Lt=OE;if(Lt&&(Lt=Lt(t,B))){ym(K,Lt,a,F);break t}ot&&ot(t,k,B),t==="focusout"&&B&&k.type==="number"&&B.memoizedProps.value!=null&&Wr(k,"number",k.value)}switch(ot=B?un(B):window,t){case"focusin":(pm(ot)||ot.contentEditable==="true")&&(Ks=ot,Qc=B,fl=null);break;case"focusout":fl=Qc=Ks=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,Cm(K,a,F);break;case"selectionchange":if(UE)break;case"keydown":case"keyup":Cm(K,a,F)}var bt;if(Pt)t:{switch(t){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else Ys?es(t,a)&&(Dt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Dt="onCompositionStart");Dt&&(hi&&a.locale!=="ko"&&(Ys||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Ys&&(bt=al()):(oi=F,il="value"in oi?oi.value:oi.textContent,Ys=!0)),ot=Mu(B,Dt),0<ot.length&&(Dt=new fi(Dt,t,null,a,F),K.push({event:Dt,listeners:ot}),bt?Dt.data=bt:(bt=Qs(a),bt!==null&&(Dt.data=bt)))),(bt=Sn?CE(t,a):IE(t,a))&&(Dt=Mu(B,"onBeforeInput"),0<Dt.length&&(ot=new fi("onBeforeInput","beforeinput",null,a,F),K.push({event:ot,listeners:Dt}),ot.data=bt)),vT(K,t,B,a,F)}Wp(K,n)})}function Ul(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Mu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Bn(t,a),c!=null&&l.unshift(Ul(t,c,h)),c=Bn(t,n),c!=null&&l.push(Ul(t,c,h))),t.tag===3)return l;t=t.return}return[]}function ST(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ey(t,n,a,l,c){for(var h=n._reactName,g=[];a!==null&&a!==l;){var E=a,R=E.alternate,B=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||B===null||(R=B,c?(B=Bn(a,h),B!=null&&g.unshift(Ul(a,B,R))):c||(B=Bn(a,h),B!=null&&g.push(Ul(a,B,R)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var bT=/\r\n?/g,wT=/\u0000|\uFFFD/g;function ny(t){return(typeof t=="string"?t:""+t).replace(bT,`
`).replace(wT,"")}function iy(t,n){return n=ny(n),ny(t)===n}function Zt(t,n,a,l,c,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||en(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&en(t,""+l);break;case"className":cn(t,"class",l);break;case"tabIndex":cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(t,a,l);break;case"style":el(t,l,h);break;case"data":if(n!=="object"){cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ps(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Zt(t,n,"name",c.name,c,null),Zt(t,n,"formEncType",c.formEncType,c,null),Zt(t,n,"formMethod",c.formMethod,c,null),Zt(t,n,"formTarget",c.formTarget,c,null)):(Zt(t,n,"encType",c.encType,c,null),Zt(t,n,"method",c.method,c,null),Zt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ps(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=jn);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ps(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),js(t,"popover",l);break;case"xlinkActuate":Ee(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ee(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ee(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ee(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ee(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ee(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":js(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mo.get(a)||a,js(t,a,l))}}function vh(t,n,a,l,c,h){switch(a){case"style":el(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?en(t,l):(typeof l=="number"||typeof l=="bigint")&&en(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),h=t[Oe]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):js(t,a,l)}}}function qe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,h;for(h in a)if(a.hasOwnProperty(h)){var g=a[h];if(g!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(t,n,h,g,a,null)}}c&&Zt(t,n,"srcSet",a.srcSet,a,null),l&&Zt(t,n,"src",a.src,a,null);return;case"input":Ct("invalid",t);var E=h=g=c=null,R=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":c=F;break;case"type":g=F;break;case"checked":R=F;break;case"defaultChecked":B=F;break;case"value":h=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:Zt(t,n,l,F,a,null)}}Vo(t,h,E,R,B,g,c,!1);return;case"select":Ct("invalid",t),l=g=h=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Zt(t,n,c,E,a,null)}n=h,a=g,t.multiple=!!l,n!=null?Ji(t,!!l,n,!1):a!=null&&Ji(t,!!l,a,!0);return;case"textarea":Ct("invalid",t),h=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Zt(t,n,g,E,a,null)}$i(t,l,c,h);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(t,n,R,l,a,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<zl.length;l++)Ct(zl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(t,n,B,l,a,null)}return;default:if(ks(n)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&vh(t,n,F,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Zt(t,n,E,l,a,null))}function RT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,E=null,R=null,B=null,F=null;for(q in a){var K=a[q];if(a.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=K;default:l.hasOwnProperty(q)||Zt(t,n,q,null,l,K)}}for(var k in l){var q=l[k];if(K=a[k],l.hasOwnProperty(k)&&(q!=null||K!=null))switch(k){case"type":h=q;break;case"name":c=q;break;case"checked":B=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==K&&Zt(t,n,k,q,l,K)}}Bs(t,g,E,R,B,F,h,c);return;case"select":q=g=E=k=null;for(h in a)if(R=a[h],a.hasOwnProperty(h)&&R!=null)switch(h){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(h)||Zt(t,n,h,null,l,R)}for(c in l)if(h=l[c],R=a[c],l.hasOwnProperty(c)&&(h!=null||R!=null))switch(c){case"value":k=h;break;case"defaultValue":E=h;break;case"multiple":g=h;default:h!==R&&Zt(t,n,c,h,l,R)}n=E,a=g,l=q,k!=null?Ji(t,!!a,k,!1):!!l!=!!a&&(n!=null?Ji(t,!!a,n,!0):Ji(t,!!a,a?[]:"",!1));return;case"textarea":q=k=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(t,n,E,null,l,c)}for(g in l)if(c=l[g],h=a[g],l.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":k=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==h&&Zt(t,n,g,c,l,h)}xo(t,k,q);return;case"option":for(var rt in a)if(k=a[rt],a.hasOwnProperty(rt)&&k!=null&&!l.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:Zt(t,n,rt,null,l,k)}for(R in l)if(k=l[R],q=a[R],l.hasOwnProperty(R)&&k!==q&&(k!=null||q!=null))switch(R){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Zt(t,n,R,k,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)k=a[dt],a.hasOwnProperty(dt)&&k!=null&&!l.hasOwnProperty(dt)&&Zt(t,n,dt,null,l,k);for(B in l)if(k=l[B],q=a[B],l.hasOwnProperty(B)&&k!==q&&(k!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:Zt(t,n,B,k,l,q)}return;default:if(ks(n)){for(var Jt in a)k=a[Jt],a.hasOwnProperty(Jt)&&k!==void 0&&!l.hasOwnProperty(Jt)&&vh(t,n,Jt,void 0,l,k);for(F in l)k=l[F],q=a[F],!l.hasOwnProperty(F)||k===q||k===void 0&&q===void 0||vh(t,n,F,k,l,q);return}}for(var M in a)k=a[M],a.hasOwnProperty(M)&&k!=null&&!l.hasOwnProperty(M)&&Zt(t,n,M,null,l,k);for(K in l)k=l[K],q=a[K],!l.hasOwnProperty(K)||k===q||k==null&&q==null||Zt(t,n,K,k,l,q)}function ay(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],h=c.transferSize,g=c.initiatorType,E=c.duration;if(h&&E&&ay(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var R=a[l],B=R.startTime;if(B>E)break;var F=R.transferSize,K=R.initiatorType;F&&ay(K)&&(R=R.responseEnd,g+=F*(R<E?1:(E-B)/(R-B)))}if(--l,n+=8*(h+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Eh=null,Th=null;function zu(t){return t.nodeType===9?t:t.ownerDocument}function sy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ry(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ah(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sh=null;function IT(){var t=window.event;return t&&t.type==="popstate"?t===Sh?!1:(Sh=t,!0):(Sh=null,!1)}var ly=typeof setTimeout=="function"?setTimeout:void 0,DT=typeof clearTimeout=="function"?clearTimeout:void 0,oy=typeof Promise=="function"?Promise:void 0,NT=typeof queueMicrotask=="function"?queueMicrotask:typeof oy<"u"?function(t){return oy.resolve(null).then(t).catch(VT)}:ly;function VT(t){setTimeout(function(){throw t})}function Ta(t){return t==="head"}function uy(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),Tr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ll(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ll(a);for(var h=a.firstChild;h;){var g=h.nextSibling,E=h.nodeName;h[ei]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=g}}else a==="body"&&Ll(t.ownerDocument.body);a=c}while(a);Tr(n)}function cy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function bh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bh(a),Ls(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function xT(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ei])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Nn(t.nextSibling),t===null)break}return null}function OT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Nn(t.nextSibling),t===null))return null;return t}function fy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Nn(t.nextSibling),t===null))return null;return t}function wh(t){return t.data==="$?"||t.data==="$~"}function Rh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function MT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Nn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ch=null;function hy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Nn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function dy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function my(t,n,a){switch(n=zu(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Ll(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ls(t)}var Vn=new Map,gy=new Set;function Uu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qi=nt.d;nt.d={f:zT,r:UT,D:LT,C:jT,L:BT,m:kT,X:qT,S:PT,M:HT};function zT(){var t=qi.f(),n=Cu();return t||n}function UT(t){var n=En(t);n!==null&&n.tag===5&&n.type==="form"?xg(n):qi.r(t)}var _r=typeof document>"u"?null:document;function py(t,n,a){var l=_r;if(l&&typeof n=="string"&&n){var c=tn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),gy.has(c)||(gy.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),qe(n,"link",t),ve(n),l.head.appendChild(n)))}}function LT(t){qi.D(t),py("dns-prefetch",t,null)}function jT(t,n){qi.C(t,n),py("preconnect",t,n)}function BT(t,n,a){qi.L(t,n,a);var l=_r;if(l&&t&&n){var c='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+tn(a.imageSizes)+'"]')):c+='[href="'+tn(t)+'"]';var h=c;switch(n){case"style":h=vr(t);break;case"script":h=Er(t)}Vn.has(h)||(t=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Vn.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(jl(h))||n==="script"&&l.querySelector(Bl(h))||(n=l.createElement("link"),qe(n,"link",t),ve(n),l.head.appendChild(n)))}}function kT(t,n){qi.m(t,n);var a=_r;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Er(t)}if(!Vn.has(h)&&(t=b({rel:"modulepreload",href:t},n),Vn.set(h,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bl(h)))return}l=a.createElement("link"),qe(l,"link",t),ve(l),a.head.appendChild(l)}}}function PT(t,n,a){qi.S(t,n,a);var l=_r;if(l&&t){var c=ii(l).hoistableStyles,h=vr(t);n=n||"default";var g=c.get(h);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(jl(h)))E.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Vn.get(h))&&Ih(t,a);var R=g=l.createElement("link");ve(R),qe(R,"link",t),R._p=new Promise(function(B,F){R.onload=B,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Lu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(h,g)}}}function qT(t,n){qi.X(t,n);var a=_r;if(a&&t){var l=ii(a).hoistableScripts,c=Er(t),h=l.get(c);h||(h=a.querySelector(Bl(c)),h||(t=b({src:t,async:!0},n),(n=Vn.get(c))&&Dh(t,n),h=a.createElement("script"),ve(h),qe(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function HT(t,n){qi.M(t,n);var a=_r;if(a&&t){var l=ii(a).hoistableScripts,c=Er(t),h=l.get(c);h||(h=a.querySelector(Bl(c)),h||(t=b({src:t,async:!0,type:"module"},n),(n=Vn.get(c))&&Dh(t,n),h=a.createElement("script"),ve(h),qe(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function yy(t,n,a,l){var c=(c=ht.current)?Uu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=vr(a.href),a=ii(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=vr(a.href);var h=ii(c).hoistableStyles,g=h.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=c.querySelector(jl(t)))&&!h._p&&(g.instance=h,g.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),h||GT(c,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Er(a),a=ii(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function vr(t){return'href="'+tn(t)+'"'}function jl(t){return'link[rel="stylesheet"]['+t+"]"}function _y(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function GT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),qe(n,"link",a),ve(n),t.head.appendChild(n))}function Er(t){return'[src="'+tn(t)+'"]'}function Bl(t){return"script[async]"+t}function vy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+tn(a.href)+'"]');if(l)return n.instance=l,ve(l),l;var c=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ve(l),qe(l,"style",c),Lu(l,a.precedence,t),n.instance=l;case"stylesheet":c=vr(a.href);var h=t.querySelector(jl(c));if(h)return n.state.loading|=4,n.instance=h,ve(h),h;l=_y(a),(c=Vn.get(c))&&Ih(l,c),h=(t.ownerDocument||t).createElement("link"),ve(h);var g=h;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),qe(h,"link",l),n.state.loading|=4,Lu(h,a.precedence,t),n.instance=h;case"script":return h=Er(a.src),(c=t.querySelector(Bl(h)))?(n.instance=c,ve(c),c):(l=a,(c=Vn.get(h))&&(l=b({},a),Dh(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ve(c),qe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Lu(l,a.precedence,t));return n.instance}function Lu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Ih(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Dh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ju=null;function Ey(t,n,a){if(ju===null){var l=new Map,c=ju=new Map;c.set(a,l)}else c=ju,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var h=a[c];if(!(h[ei]||h[_e]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(h):l.set(g,[h])}}return l}function Ty(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function FT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ay(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function QT(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=vr(l.href),h=n.querySelector(jl(c));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Bu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=h,ve(h);return}h=n.ownerDocument||n,l=_y(l),(c=Vn.get(c))&&Ih(l,c),h=h.createElement("link"),ve(h);var g=h;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),qe(h,"link",l),a.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Bu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Nh=0;function YT(t,n){return t.stylesheets&&t.count===0&&Pu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Pu(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+n);0<t.imgBytes&&Nh===0&&(Nh=62500*CT());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Pu(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>Nh?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Bu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ku=null;function Pu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ku=new Map,n.forEach(KT,t),ku=null,Bu.call(t))}function KT(t,n){if(!(n.state.loading&4)){var a=ku.get(t);if(a)var l=a.get(null);else{a=new Map,ku.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),h=a.get(g)||l,h===l&&a.set(null,c),a.set(g,c),this.count++,l=Bu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var kl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function XT(t,n,a,l,c,h,g,E,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wn(0),this.hiddenUpdates=Wn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Sy(t,n,a,l,c,h,g,E,R,B,F,K){return t=new XT(t,n,a,g,R,B,F,K,E),n=1,h===!0&&(n|=24),h=hn(3,null,null,n),t.current=h,h.stateNode=t,n=uf(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},df(h),t}function by(t){return t?(t=Js,t):Js}function wy(t,n,a,l,c,h){c=by(c),l.context===null?l.context=c:l.pendingContext=c,l=ca(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=fa(t,l,n),a!==null&&(ln(a,t,n),_l(a,t,n))}function Ry(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Vh(t,n){Ry(t,n),(t=t.alternate)&&Ry(t,n)}function Cy(t){if(t.tag===13||t.tag===31){var n=as(t,67108864);n!==null&&ln(n,t,67108864),Vh(t,67108864)}}function Iy(t){if(t.tag===13||t.tag===31){var n=yn();n=Qa(n);var a=as(t,n);a!==null&&ln(a,t,n),Vh(t,n)}}var qu=!0;function ZT(t,n,a,l){var c=G.T;G.T=null;var h=nt.p;try{nt.p=2,xh(t,n,a,l)}finally{nt.p=h,G.T=c}}function JT(t,n,a,l){var c=G.T;G.T=null;var h=nt.p;try{nt.p=8,xh(t,n,a,l)}finally{nt.p=h,G.T=c}}function xh(t,n,a,l){if(qu){var c=Oh(l);if(c===null)_h(t,n,l,Hu,a),Ny(t,l);else if(WT(c,t,n,a,l))l.stopPropagation();else if(Ny(t,l),n&4&&-1<$T.indexOf(t)){for(;c!==null;){var h=En(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=Jn(h.pendingLanes);if(g!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-fe(g);E.entanglements[1]|=R,g&=~R}pi(h),(qt&6)===0&&(wu=Ze()+500,Ml(0))}}break;case 31:case 13:E=as(h,2),E!==null&&ln(E,h,2),Cu(),Vh(h,2)}if(h=Oh(l),h===null&&_h(t,n,l,Hu,a),h===c)break;c=h}c!==null&&l.stopPropagation()}else _h(t,n,l,null,a)}}function Oh(t){return t=Tn(t),Mh(t)}var Hu=null;function Mh(t){if(Hu=null,t=ni(t),t!==null){var n=f(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Hu=t,null}function Dy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qa()){case Hr:return 2;case Gr:return 8;case Xi:case Bc:return 32;case To:return 268435456;default:return 32}default:return 32}}var zh=!1,Aa=null,Sa=null,ba=null,Pl=new Map,ql=new Map,wa=[],$T="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ny(t,n){switch(t){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":Pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(n.pointerId)}}function Hl(t,n,a,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=En(n),n!==null&&Cy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function WT(t,n,a,l,c){switch(n){case"focusin":return Aa=Hl(Aa,t,n,a,l,c),!0;case"dragenter":return Sa=Hl(Sa,t,n,a,l,c),!0;case"mouseover":return ba=Hl(ba,t,n,a,l,c),!0;case"pointerover":var h=c.pointerId;return Pl.set(h,Hl(Pl.get(h)||null,t,n,a,l,c)),!0;case"gotpointercapture":return h=c.pointerId,ql.set(h,Hl(ql.get(h)||null,t,n,a,l,c)),!0}return!1}function Vy(t){var n=ni(t.target);if(n!==null){var a=f(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Un(t.priority,function(){Iy(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Un(t.priority,function(){Iy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Oh(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);nl=l,a.target.dispatchEvent(l),nl=null}else return n=En(a),n!==null&&Cy(n),t.blockedOn=a,!1;n.shift()}return!0}function xy(t,n,a){Gu(t)&&a.delete(n)}function t1(){zh=!1,Aa!==null&&Gu(Aa)&&(Aa=null),Sa!==null&&Gu(Sa)&&(Sa=null),ba!==null&&Gu(ba)&&(ba=null),Pl.forEach(xy),ql.forEach(xy)}function Fu(t,n){t.blockedOn===n&&(t.blockedOn=null,zh||(zh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,t1)))}var Qu=null;function Oy(t){Qu!==t&&(Qu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Qu===t&&(Qu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Mh(l||a)===null)continue;break}var h=En(a);h!==null&&(t.splice(n,3),n-=3,Of(h,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Tr(t){function n(R){return Fu(R,t)}Aa!==null&&Fu(Aa,t),Sa!==null&&Fu(Sa,t),ba!==null&&Fu(ba,t),Pl.forEach(n),ql.forEach(n);for(var a=0;a<wa.length;a++){var l=wa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<wa.length&&(a=wa[0],a.blockedOn===null);)Vy(a),a.blockedOn===null&&wa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],h=a[l+1],g=c[Oe]||null;if(typeof h=="function")g||Oy(a);else if(g){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[Oe]||null)E=g.formAction;else if(Mh(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Oy(a)}}}function My(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Uh(t){this._internalRoot=t}Yu.prototype.render=Uh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=yn();wy(a,l,t,n,null,null)},Yu.prototype.unmount=Uh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;wy(t.current,2,null,t,null,null),Cu(),n[ti]=null}};function Yu(t){this._internalRoot=t}Yu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Co();t={blockedOn:null,target:t,priority:n};for(var a=0;a<wa.length&&n!==0&&n<wa[a].priority;a++);wa.splice(a,0,t),a===0&&Vy(t)}};var zy=e.version;if(zy!=="19.2.4")throw Error(r(527,zy,"19.2.4"));nt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var e1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{Mn=Ku.inject(e1),Le=Ku}catch{}}return Fl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",c=qg,h=Hg,g=Gg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Sy(t,1,!1,null,null,a,l,null,c,h,g,My),t[ti]=n.current,yh(t),new Uh(n)},Fl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,c="",h=qg,g=Hg,E=Gg,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=Sy(t,1,!0,n,a??null,l,c,R,h,g,E,My),n.context=by(null),a=n.current,l=yn(),l=Qa(l),c=ca(l),c.callback=null,fa(a,c,l),a=l,n.current.lanes=a,Ga(n,a),pi(n),t[ti]=n.current,yh(t),new Yu(n)},Fl.version="19.2.4",Fl}var Fy;function d1(){if(Fy)return Bh.exports;Fy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Bh.exports=h1(),Bh.exports}var m1=d1();const g1=()=>{};var Qy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},p1=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const f=s[i++];e[r++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=s[i++],d=s[i++],p=s[i++],_=((o&7)<<18|(f&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const f=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return e.join("")},yv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const f=s[o],d=o+1<s.length,p=d?s[o+1]:0,_=o+2<s.length,v=_?s[o+2]:0,A=f>>2,b=(f&3)<<4|p>>4;let V=(p&15)<<2|v>>6,Y=v&63;_||(Y=64,d||(V=64)),r.push(i[A],i[b],i[V],i[Y])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(pv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):p1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const f=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const b=o<s.length?i[s.charAt(o)]:64;if(++o,f==null||p==null||v==null||b==null)throw new y1;const V=f<<2|p>>4;if(r.push(V),v!==64){const Y=p<<4&240|v>>2;if(r.push(Y),b!==64){const et=v<<6&192|b;r.push(et)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class y1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _1=function(s){const e=pv(s);return yv.encodeByteArray(e,!0)},rc=function(s){return _1(s).replace(/\./g,"")},v1=function(s){try{return yv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=()=>E1().__FIREBASE_DEFAULTS__,A1=()=>{if(typeof process>"u"||typeof Qy>"u")return;const s=Qy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},S1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&v1(s[1]);return e&&JSON.parse(e)},Cd=()=>{try{return g1()||T1()||A1()||S1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},b1=s=>{var e,i;return(i=(e=Cd())==null?void 0:e.emulatorHosts)==null?void 0:i[s]},w1=s=>{const e=b1(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},_v=()=>{var s;return(s=Cd())==null?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function C1(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,f=s.sub||s.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...s};return[rc(JSON.stringify(i)),rc(JSON.stringify(d)),""].join(".")}const Jl={};function D1(){const s={prod:[],emulator:[]};for(const e of Object.keys(Jl))Jl[e]?s.emulator.push(e):s.prod.push(e);return s}function N1(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Yy=!1;function V1(s,e){if(typeof window>"u"||typeof document>"u"||!Id(window.location.host)||Jl[s]===e||Jl[s]||Yy)return;Jl[s]=e;function i(V){return`__firebase__banner__${V}`}const r="__firebase__banner",f=D1().prod.length>0;function d(){const V=document.getElementById(r);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,Y){V.setAttribute("width","24"),V.setAttribute("id",Y),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function v(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{Yy=!0,d()},V}function A(V,Y){V.setAttribute("id",Y),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function b(){const V=N1(r),Y=i("text"),et=document.getElementById(Y)||document.createElement("span"),W=i("learnmore"),it=document.getElementById(W)||document.createElement("a"),gt=i("preprendIcon"),Et=document.getElementById(gt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const pt=V.element;p(pt),A(it,W);const Mt=v();_(Et,gt),pt.append(Et,et,it,Mt),document.body.appendChild(pt)}f?(et.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,et.innerText="Preview backend running in this workspace."),et.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function O1(){var e;const s=(e=Cd())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function z1(){return!O1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vv(){try{return typeof indexedDB=="object"}catch{return!1}}function Ev(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var f;e(((f=o.error)==null?void 0:f.message)||"")}}catch(i){e(i)}})}function U1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="FirebaseError";class Ba extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=L1,Object.setPrototypeOf(this,Ba.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tc.prototype.create)}}class Tc{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,f=this.errors[e],d=f?j1(f,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Ba(o,p,r)}}function j1(s,e){return s.replace(B1,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const B1=/\{\$([^}]+)}/g;function io(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const f=s[o],d=e[o];if(Ky(f)&&Ky(d)){if(!io(f,d))return!1}else if(f!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Ky(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=1e3,P1=2,q1=14400*1e3,H1=.5;function Xy(s,e=k1,i=P1){const r=e*Math.pow(i,s),o=Math.round(H1*r*(Math.random()-.5)*2);return Math.min(q1,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(s){return s&&s._delegate?s._delegate:s}class Gi{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new R1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q1(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});r.resolve(f)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[f,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(f);r===p&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const f=this.instances.get(r);return f&&e(f,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:F1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F1(s){return s===ys?void 0:s}function Q1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new G1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const K1={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},X1=Ut.INFO,Z1={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},J1=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=Z1[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dd{constructor(e){this.name=e,this._logLevel=X1,this._logHandler=J1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?K1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const $1=(s,e)=>e.some(i=>s instanceof i);let Zy,Jy;function W1(){return Zy||(Zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tA(){return Jy||(Jy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tv=new WeakMap,id=new WeakMap,Av=new WeakMap,Hh=new WeakMap,Nd=new WeakMap;function eA(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",f),s.removeEventListener("error",d)},f=()=>{i(Ia(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",f),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Tv.set(i,s)}).catch(()=>{}),Nd.set(e,s),e}function nA(s){if(id.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",f),s.removeEventListener("error",d),s.removeEventListener("abort",d)},f=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",f),s.addEventListener("error",d),s.addEventListener("abort",d)});id.set(s,e)}let ad={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return id.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Av.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ia(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function iA(s){ad=s(ad)}function aA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Gh(this),e,...i);return Av.set(r,e.sort?e.sort():[e]),Ia(r)}:tA().includes(s)?function(...e){return s.apply(Gh(this),e),Ia(Tv.get(this))}:function(...e){return Ia(s.apply(Gh(this),e))}}function sA(s){return typeof s=="function"?aA(s):(s instanceof IDBTransaction&&nA(s),$1(s,W1())?new Proxy(s,ad):s)}function Ia(s){if(s instanceof IDBRequest)return eA(s);if(Hh.has(s))return Hh.get(s);const e=sA(s);return e!==s&&(Hh.set(s,e),Nd.set(e,s)),e}const Gh=s=>Nd.get(s);function Sv(s,e,{blocked:i,upgrade:r,blocking:o,terminated:f}={}){const d=indexedDB.open(s,e),p=Ia(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Ia(d.result),_.oldVersion,_.newVersion,Ia(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{f&&_.addEventListener("close",()=>f()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const rA=["get","getKey","getAll","getAllKeys","count"],lA=["put","add","delete","clear"],Fh=new Map;function $y(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Fh.get(e))return Fh.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=lA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||rA.includes(i)))return;const f=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),o&&_.done]))[0]};return Fh.set(e,f),f}iA(s=>({...s,get:(e,i,r)=>$y(e,i)||s.get(e,i,r),has:(e,i)=>!!$y(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(uA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function uA(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sd="@firebase/app",Wy="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new Dd("@firebase/app"),cA="@firebase/app-compat",fA="@firebase/analytics-compat",hA="@firebase/analytics",dA="@firebase/app-check-compat",mA="@firebase/app-check",gA="@firebase/auth",pA="@firebase/auth-compat",yA="@firebase/database",_A="@firebase/data-connect",vA="@firebase/database-compat",EA="@firebase/functions",TA="@firebase/functions-compat",AA="@firebase/installations",SA="@firebase/installations-compat",bA="@firebase/messaging",wA="@firebase/messaging-compat",RA="@firebase/performance",CA="@firebase/performance-compat",IA="@firebase/remote-config",DA="@firebase/remote-config-compat",NA="@firebase/storage",VA="@firebase/storage-compat",xA="@firebase/firestore",OA="@firebase/ai",MA="@firebase/firestore-compat",zA="firebase",UA="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="[DEFAULT]",LA={[sd]:"fire-core",[cA]:"fire-core-compat",[hA]:"fire-analytics",[fA]:"fire-analytics-compat",[mA]:"fire-app-check",[dA]:"fire-app-check-compat",[gA]:"fire-auth",[pA]:"fire-auth-compat",[yA]:"fire-rtdb",[_A]:"fire-data-connect",[vA]:"fire-rtdb-compat",[EA]:"fire-fn",[TA]:"fire-fn-compat",[AA]:"fire-iid",[SA]:"fire-iid-compat",[bA]:"fire-fcm",[wA]:"fire-fcm-compat",[RA]:"fire-perf",[CA]:"fire-perf-compat",[IA]:"fire-rc",[DA]:"fire-rc-compat",[NA]:"fire-gcs",[VA]:"fire-gcs-compat",[xA]:"fire-fst",[MA]:"fire-fst-compat",[OA]:"fire-vertex","fire-js":"fire-js",[zA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new Map,jA=new Map,ld=new Map;function t_(s,e){try{s.container.addComponent(e)}catch(i){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function xa(s){const e=s.name;if(ld.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;ld.set(e,s);for(const i of lc.values())t_(i,s);for(const i of jA.values())t_(i,s);return!0}function mo(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function BA(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Da=new Tc("app","Firebase",kA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Da.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=UA;function bv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:rd,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Da.create("bad-app-name",{appName:String(o)});if(i||(i=_v()),!i)throw Da.create("no-options");const f=lc.get(o);if(f){if(io(i,f.options)&&io(r,f.config))return f;throw Da.create("duplicate-app",{appName:o})}const d=new Y1(o);for(const _ of ld.values())d.addComponent(_);const p=new PA(i,r,d);return lc.set(o,p),p}function wv(s=rd){const e=lc.get(s);if(!e&&s===rd&&_v())return bv();if(!e)throw Da.create("no-app",{appName:s});return e}function _i(s,e,i){let r=LA[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),f=e.match(/\s|\//);if(o||f){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(d.join(" "));return}xa(new Gi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="firebase-heartbeat-database",GA=1,ao="firebase-heartbeat-store";let Qh=null;function Rv(){return Qh||(Qh=Sv(HA,GA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ao)}catch(i){console.warn(i)}}}}).catch(s=>{throw Da.create("idb-open",{originalErrorMessage:s.message})})),Qh}async function FA(s){try{const i=(await Rv()).transaction(ao),r=await i.objectStore(ao).get(Cv(s));return await i.done,r}catch(e){if(e instanceof Ba)Fi.warn(e.message);else{const i=Da.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fi.warn(i.message)}}}async function e_(s,e){try{const r=(await Rv()).transaction(ao,"readwrite");await r.objectStore(ao).put(e,Cv(s)),await r.done}catch(i){if(i instanceof Ba)Fi.warn(i.message);else{const r=Da.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Fi.warn(r.message)}}}function Cv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=1024,YA=30;class KA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ZA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=n_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(d=>d.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:o}),this._heartbeatsCache.heartbeats.length>YA){const d=JA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Fi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=n_(),{heartbeatsToSend:r,unsentEntries:o}=XA(this._heartbeatsCache.heartbeats),f=rc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(i){return Fi.warn(i),""}}}function n_(){return new Date().toISOString().substring(0,10)}function XA(s,e=QA){const i=[];let r=s.slice();for(const o of s){const f=i.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),i_(i)>e){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),i_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class ZA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vv()?Ev().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await FA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return e_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return e_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function i_(s){return rc(JSON.stringify({version:2,heartbeats:s})).length}function JA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(s){xa(new Gi("platform-logger",e=>new oA(e),"PRIVATE")),xa(new Gi("heartbeat",e=>new KA(e),"PRIVATE")),_i(sd,Wy,s),_i(sd,Wy,"esm2020"),_i("fire-js","")}$A("");var WA="firebase",tS="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(WA,tS,"app");const Iv="@firebase/installations",Vd="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=1e4,Nv=`w:${Vd}`,Vv="FIS_v2",eS="https://firebaseinstallations.googleapis.com/v1",nS=3600*1e3,iS="installations",aS="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},As=new Tc(iS,aS,sS);function xv(s){return s instanceof Ba&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov({projectId:s}){return`${eS}/projects/${s}/installations`}function Mv(s){return{token:s.token,requestStatus:2,expiresIn:lS(s.expiresIn),creationTime:Date.now()}}async function zv(s,e){const r=(await e.json()).error;return As.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Uv({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function rS(s,{refreshToken:e}){const i=Uv(s);return i.append("Authorization",oS(e)),i}async function Lv(s){const e=await s();return e.status>=500&&e.status<600?s():e}function lS(s){return Number(s.replace("s","000"))}function oS(s){return`${Vv} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uS({appConfig:s,heartbeatServiceProvider:e},{fid:i}){const r=Ov(s),o=Uv(s),f=e.getImmediate({optional:!0});if(f){const v=await f.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={fid:i,authVersion:Vv,appId:s.appId,sdkVersion:Nv},p={method:"POST",headers:o,body:JSON.stringify(d)},_=await Lv(()=>fetch(r,p));if(_.ok){const v=await _.json();return{fid:v.fid||i,registrationStatus:2,refreshToken:v.refreshToken,authToken:Mv(v.authToken)}}else throw await zv("Create Installation",_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(s){return new Promise(e=>{setTimeout(e,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=/^[cdef][\w-]{21}$/,od="";function hS(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const i=dS(s);return fS.test(i)?i:od}catch{return od}}function dS(s){return cS(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=new Map;function kv(s,e){const i=Ac(s);Pv(i,e),mS(i,e)}function Pv(s,e){const i=Bv.get(s);if(i)for(const r of i)r(e)}function mS(s,e){const i=gS();i&&i.postMessage({key:s,fid:e}),pS()}let _s=null;function gS(){return!_s&&"BroadcastChannel"in self&&(_s=new BroadcastChannel("[Firebase] FID Change"),_s.onmessage=s=>{Pv(s.data.key,s.data.fid)}),_s}function pS(){Bv.size===0&&_s&&(_s.close(),_s=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="firebase-installations-database",_S=1,Ss="firebase-installations-store";let Yh=null;function xd(){return Yh||(Yh=Sv(yS,_S,{upgrade:(s,e)=>{switch(e){case 0:s.createObjectStore(Ss)}}})),Yh}async function oc(s,e){const i=Ac(s),o=(await xd()).transaction(Ss,"readwrite"),f=o.objectStore(Ss),d=await f.get(i);return await f.put(e,i),await o.done,(!d||d.fid!==e.fid)&&kv(s,e.fid),e}async function qv(s){const e=Ac(s),r=(await xd()).transaction(Ss,"readwrite");await r.objectStore(Ss).delete(e),await r.done}async function Sc(s,e){const i=Ac(s),o=(await xd()).transaction(Ss,"readwrite"),f=o.objectStore(Ss),d=await f.get(i),p=e(d);return p===void 0?await f.delete(i):await f.put(p,i),await o.done,p&&(!d||d.fid!==p.fid)&&kv(s,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Od(s){let e;const i=await Sc(s.appConfig,r=>{const o=vS(r),f=ES(s,o);return e=f.registrationPromise,f.installationEntry});return i.fid===od?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function vS(s){const e=s||{fid:hS(),registrationStatus:0};return Hv(e)}function ES(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(As.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=TS(s,i);return{installationEntry:i,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:AS(s)}:{installationEntry:e}}async function TS(s,e){try{const i=await uS(s,e);return oc(s.appConfig,i)}catch(i){throw xv(i)&&i.customData.serverCode===409?await qv(s.appConfig):await oc(s.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function AS(s){let e=await a_(s.appConfig);for(;e.registrationStatus===1;)await jv(100),e=await a_(s.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await Od(s);return r||i}return e}function a_(s){return Sc(s,e=>{if(!e)throw As.create("installation-not-found");return Hv(e)})}function Hv(s){return SS(s)?{fid:s.fid,registrationStatus:0}:s}function SS(s){return s.registrationStatus===1&&s.registrationTime+Dv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bS({appConfig:s,heartbeatServiceProvider:e},i){const r=wS(s,i),o=rS(s,i),f=e.getImmediate({optional:!0});if(f){const v=await f.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={installation:{sdkVersion:Nv,appId:s.appId}},p={method:"POST",headers:o,body:JSON.stringify(d)},_=await Lv(()=>fetch(r,p));if(_.ok){const v=await _.json();return Mv(v)}else throw await zv("Generate Auth Token",_)}function wS(s,{fid:e}){return`${Ov(s)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Md(s,e=!1){let i;const r=await Sc(s.appConfig,f=>{if(!Gv(f))throw As.create("not-registered");const d=f.authToken;if(!e&&IS(d))return f;if(d.requestStatus===1)return i=RS(s,e),f;{if(!navigator.onLine)throw As.create("app-offline");const p=NS(f);return i=CS(s,p),p}});return i?await i:r.authToken}async function RS(s,e){let i=await s_(s.appConfig);for(;i.authToken.requestStatus===1;)await jv(100),i=await s_(s.appConfig);const r=i.authToken;return r.requestStatus===0?Md(s,e):r}function s_(s){return Sc(s,e=>{if(!Gv(e))throw As.create("not-registered");const i=e.authToken;return VS(i)?{...e,authToken:{requestStatus:0}}:e})}async function CS(s,e){try{const i=await bS(s,e),r={...e,authToken:i};return await oc(s.appConfig,r),i}catch(i){if(xv(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await qv(s.appConfig);else{const r={...e,authToken:{requestStatus:0}};await oc(s.appConfig,r)}throw i}}function Gv(s){return s!==void 0&&s.registrationStatus===2}function IS(s){return s.requestStatus===2&&!DS(s)}function DS(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+nS}function NS(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function VS(s){return s.requestStatus===1&&s.requestTime+Dv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xS(s){const e=s,{installationEntry:i,registrationPromise:r}=await Od(e);return r?r.catch(console.error):Md(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OS(s,e=!1){const i=s;return await MS(i),(await Md(i,e)).token}async function MS(s){const{registrationPromise:e}=await Od(s);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(s){if(!s||!s.options)throw Kh("App Configuration");if(!s.name)throw Kh("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!s.options[i])throw Kh(i);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Kh(s){return As.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="installations",US="installations-internal",LS=s=>{const e=s.getProvider("app").getImmediate(),i=zS(e),r=mo(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},jS=s=>{const e=s.getProvider("app").getImmediate(),i=mo(e,Fv).getImmediate();return{getId:()=>xS(i),getToken:o=>OS(i,o)}};function BS(){xa(new Gi(Fv,LS,"PUBLIC")),xa(new Gi(US,jS,"PRIVATE"))}BS();_i(Iv,Vd);_i(Iv,Vd,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc="analytics",kS="firebase_id",PS="origin",qS=60*1e3,HS="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We=new Dd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},_n=new Tc("analytics","Analytics",GS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(s){if(!s.startsWith(zd)){const e=_n.create("invalid-gtag-resource",{gtagURL:s});return We.warn(e.message),""}return s}function Qv(s){return Promise.all(s.map(e=>e.catch(i=>i)))}function QS(s,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(s,e)),i}function YS(s,e){const i=QS("firebase-js-sdk-policy",{createScriptURL:FS}),r=document.createElement("script"),o=`${zd}?l=${s}&id=${e}`;r.src=i?i==null?void 0:i.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function KS(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function XS(s,e,i,r,o,f){const d=r[o];try{if(d)await e[d];else{const _=(await Qv(i)).find(v=>v.measurementId===o);_&&await e[_.appId]}}catch(p){We.error(p)}s("config",o,f)}async function ZS(s,e,i,r,o){try{let f=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const p=await Qv(i);for(const _ of d){const v=p.find(b=>b.measurementId===_),A=v&&e[v.appId];if(A)f.push(A);else{f=[];break}}}f.length===0&&(f=Object.values(e)),await Promise.all(f),s("event",r,o||{})}catch(f){We.error(f)}}function JS(s,e,i,r){async function o(f,...d){try{if(f==="event"){const[p,_]=d;await ZS(s,e,i,p,_)}else if(f==="config"){const[p,_]=d;await XS(s,e,i,r,p,_)}else if(f==="consent"){const[p,_]=d;s("consent",p,_)}else if(f==="get"){const[p,_,v]=d;s("get",p,_,v)}else if(f==="set"){const[p]=d;s("set",p)}else s(f,...d)}catch(p){We.error(p)}}return o}function $S(s,e,i,r,o){let f=function(...d){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(f=window[o]),window[o]=JS(f,s,e,i),{gtagCore:f,wrappedGtag:window[o]}}function WS(s){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(zd)&&i.src.includes(s))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=30,eb=1e3;class nb{constructor(e={},i=eb){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Yv=new nb;function ib(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function ab(s){var d;const{appId:e,apiKey:i}=s,r={method:"GET",headers:ib(i)},o=HS.replace("{app-id}",e),f=await fetch(o,r);if(f.status!==200&&f.status!==304){let p="";try{const _=await f.json();(d=_.error)!=null&&d.message&&(p=_.error.message)}catch{}throw _n.create("config-fetch-failed",{httpStatus:f.status,responseMessage:p})}return f.json()}async function sb(s,e=Yv,i){const{appId:r,apiKey:o,measurementId:f}=s.options;if(!r)throw _n.create("no-app-id");if(!o){if(f)return{measurementId:f,appId:r};throw _n.create("no-api-key")}const d=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new ob;return setTimeout(async()=>{p.abort()},qS),Kv({appId:r,apiKey:o,measurementId:f},d,p,e)}async function Kv(s,{throttleEndTimeMillis:e,backoffCount:i},r,o=Yv){var p;const{appId:f,measurementId:d}=s;try{await rb(r,e)}catch(_){if(d)return We.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:f,measurementId:d};throw _}try{const _=await ab(s);return o.deleteThrottleMetadata(f),_}catch(_){const v=_;if(!lb(v)){if(o.deleteThrottleMetadata(f),d)return We.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:f,measurementId:d};throw _}const A=Number((p=v==null?void 0:v.customData)==null?void 0:p.httpStatus)===503?Xy(i,o.intervalMillis,tb):Xy(i,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+A,backoffCount:i+1};return o.setThrottleMetadata(f,b),We.debug(`Calling attemptFetch again in ${A} millis`),Kv(s,b,r,o)}}function rb(s,e){return new Promise((i,r)=>{const o=Math.max(e-Date.now(),0),f=setTimeout(i,o);s.addEventListener(()=>{clearTimeout(f),r(_n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function lb(s){if(!(s instanceof Ba)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class ob{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function ub(s,e,i,r,o){if(o&&o.global){s("event",i,r);return}else{const f=await e,d={...r,send_to:f};s("event",i,d)}}async function cb(s,e,i,r){if(r&&r.global){const o={};for(const f of Object.keys(i))o[`user_properties.${f}`]=i[f];return s("set",o),Promise.resolve()}else{const o=await e;s("config",o,{update:!0,user_properties:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fb(){if(vv())try{await Ev()}catch(s){return We.warn(_n.create("indexeddb-unavailable",{errorInfo:s==null?void 0:s.toString()}).message),!1}else return We.warn(_n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function hb(s,e,i,r,o,f,d){const p=sb(s);p.then(V=>{i[V.measurementId]=V.appId,s.options.measurementId&&V.measurementId!==s.options.measurementId&&We.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>We.error(V)),e.push(p);const _=fb().then(V=>{if(V)return r.getId()}),[v,A]=await Promise.all([p,_]);WS(f)||YS(f,v.measurementId),o("js",new Date);const b=(d==null?void 0:d.config)??{};return b[PS]="firebase",b.update=!0,A!=null&&(b[kS]=A),o("config",v.measurementId,b),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.app=e}_delete(){return delete Rr[this.app.options.appId],Promise.resolve()}}let Rr={},r_=[];const l_={};let Xh="dataLayer",mb="gtag",o_,Ud,u_=!1;function gb(){const s=[];if(M1()&&s.push("This is a browser extension environment."),U1()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,o)=>`(${o+1}) ${r}`).join(" "),i=_n.create("invalid-analytics-context",{errorInfo:e});We.warn(i.message)}}function pb(s,e,i){gb();const r=s.options.appId;if(!r)throw _n.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)We.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw _n.create("no-api-key");if(Rr[r]!=null)throw _n.create("already-exists",{id:r});if(!u_){KS(Xh);const{wrappedGtag:f,gtagCore:d}=$S(Rr,r_,l_,Xh,mb);Ud=f,o_=d,u_=!0}return Rr[r]=hb(s,r_,l_,e,o_,Xh,i),new db(s)}function yb(s=wv()){s=Ai(s);const e=mo(s,uc);return e.isInitialized()?e.getImmediate():_b(s)}function _b(s,e={}){const i=mo(s,uc);if(i.isInitialized()){const o=i.getImmediate();if(io(e,i.getOptions()))return o;throw _n.create("already-initialized")}return i.initialize({options:e})}function vb(s,e,i){s=Ai(s),cb(Ud,Rr[s.app.options.appId],e,i).catch(r=>We.error(r))}function Eb(s,e,i,r){s=Ai(s),ub(Ud,Rr[s.app.options.appId],e,i,r).catch(o=>We.error(o))}const c_="@firebase/analytics",f_="0.10.19";function Tb(){xa(new Gi(uc,(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return pb(r,o,i)},"PUBLIC")),xa(new Gi("analytics-internal",s,"PRIVATE")),_i(c_,f_),_i(c_,f_,"esm2020");function s(e){try{const i=e.getProvider(uc).getImmediate();return{logEvent:(r,o,f)=>Eb(i,r,o,f),setUserProperties:(r,o)=>vb(i,r,o)}}catch(i){throw _n.create("interop-component-reg-failed",{reason:i})}}}Tb();var h_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Na,Xv;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function C(){}C.prototype=S.prototype,I.F=S.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(O,D,z){for(var w=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)w[$t-2]=arguments[$t];return S.prototype[D].apply(O,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,C){C||(C=0);const O=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)O[D]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(D=0;D<16;++D)O[D]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=I.g[0],C=I.g[1],D=I.g[2];let z=I.g[3],w;w=S+(z^C&(D^z))+O[0]+3614090360&4294967295,S=C+(w<<7&4294967295|w>>>25),w=z+(D^S&(C^D))+O[1]+3905402710&4294967295,z=S+(w<<12&4294967295|w>>>20),w=D+(C^z&(S^C))+O[2]+606105819&4294967295,D=z+(w<<17&4294967295|w>>>15),w=C+(S^D&(z^S))+O[3]+3250441966&4294967295,C=D+(w<<22&4294967295|w>>>10),w=S+(z^C&(D^z))+O[4]+4118548399&4294967295,S=C+(w<<7&4294967295|w>>>25),w=z+(D^S&(C^D))+O[5]+1200080426&4294967295,z=S+(w<<12&4294967295|w>>>20),w=D+(C^z&(S^C))+O[6]+2821735955&4294967295,D=z+(w<<17&4294967295|w>>>15),w=C+(S^D&(z^S))+O[7]+4249261313&4294967295,C=D+(w<<22&4294967295|w>>>10),w=S+(z^C&(D^z))+O[8]+1770035416&4294967295,S=C+(w<<7&4294967295|w>>>25),w=z+(D^S&(C^D))+O[9]+2336552879&4294967295,z=S+(w<<12&4294967295|w>>>20),w=D+(C^z&(S^C))+O[10]+4294925233&4294967295,D=z+(w<<17&4294967295|w>>>15),w=C+(S^D&(z^S))+O[11]+2304563134&4294967295,C=D+(w<<22&4294967295|w>>>10),w=S+(z^C&(D^z))+O[12]+1804603682&4294967295,S=C+(w<<7&4294967295|w>>>25),w=z+(D^S&(C^D))+O[13]+4254626195&4294967295,z=S+(w<<12&4294967295|w>>>20),w=D+(C^z&(S^C))+O[14]+2792965006&4294967295,D=z+(w<<17&4294967295|w>>>15),w=C+(S^D&(z^S))+O[15]+1236535329&4294967295,C=D+(w<<22&4294967295|w>>>10),w=S+(D^z&(C^D))+O[1]+4129170786&4294967295,S=C+(w<<5&4294967295|w>>>27),w=z+(C^D&(S^C))+O[6]+3225465664&4294967295,z=S+(w<<9&4294967295|w>>>23),w=D+(S^C&(z^S))+O[11]+643717713&4294967295,D=z+(w<<14&4294967295|w>>>18),w=C+(z^S&(D^z))+O[0]+3921069994&4294967295,C=D+(w<<20&4294967295|w>>>12),w=S+(D^z&(C^D))+O[5]+3593408605&4294967295,S=C+(w<<5&4294967295|w>>>27),w=z+(C^D&(S^C))+O[10]+38016083&4294967295,z=S+(w<<9&4294967295|w>>>23),w=D+(S^C&(z^S))+O[15]+3634488961&4294967295,D=z+(w<<14&4294967295|w>>>18),w=C+(z^S&(D^z))+O[4]+3889429448&4294967295,C=D+(w<<20&4294967295|w>>>12),w=S+(D^z&(C^D))+O[9]+568446438&4294967295,S=C+(w<<5&4294967295|w>>>27),w=z+(C^D&(S^C))+O[14]+3275163606&4294967295,z=S+(w<<9&4294967295|w>>>23),w=D+(S^C&(z^S))+O[3]+4107603335&4294967295,D=z+(w<<14&4294967295|w>>>18),w=C+(z^S&(D^z))+O[8]+1163531501&4294967295,C=D+(w<<20&4294967295|w>>>12),w=S+(D^z&(C^D))+O[13]+2850285829&4294967295,S=C+(w<<5&4294967295|w>>>27),w=z+(C^D&(S^C))+O[2]+4243563512&4294967295,z=S+(w<<9&4294967295|w>>>23),w=D+(S^C&(z^S))+O[7]+1735328473&4294967295,D=z+(w<<14&4294967295|w>>>18),w=C+(z^S&(D^z))+O[12]+2368359562&4294967295,C=D+(w<<20&4294967295|w>>>12),w=S+(C^D^z)+O[5]+4294588738&4294967295,S=C+(w<<4&4294967295|w>>>28),w=z+(S^C^D)+O[8]+2272392833&4294967295,z=S+(w<<11&4294967295|w>>>21),w=D+(z^S^C)+O[11]+1839030562&4294967295,D=z+(w<<16&4294967295|w>>>16),w=C+(D^z^S)+O[14]+4259657740&4294967295,C=D+(w<<23&4294967295|w>>>9),w=S+(C^D^z)+O[1]+2763975236&4294967295,S=C+(w<<4&4294967295|w>>>28),w=z+(S^C^D)+O[4]+1272893353&4294967295,z=S+(w<<11&4294967295|w>>>21),w=D+(z^S^C)+O[7]+4139469664&4294967295,D=z+(w<<16&4294967295|w>>>16),w=C+(D^z^S)+O[10]+3200236656&4294967295,C=D+(w<<23&4294967295|w>>>9),w=S+(C^D^z)+O[13]+681279174&4294967295,S=C+(w<<4&4294967295|w>>>28),w=z+(S^C^D)+O[0]+3936430074&4294967295,z=S+(w<<11&4294967295|w>>>21),w=D+(z^S^C)+O[3]+3572445317&4294967295,D=z+(w<<16&4294967295|w>>>16),w=C+(D^z^S)+O[6]+76029189&4294967295,C=D+(w<<23&4294967295|w>>>9),w=S+(C^D^z)+O[9]+3654602809&4294967295,S=C+(w<<4&4294967295|w>>>28),w=z+(S^C^D)+O[12]+3873151461&4294967295,z=S+(w<<11&4294967295|w>>>21),w=D+(z^S^C)+O[15]+530742520&4294967295,D=z+(w<<16&4294967295|w>>>16),w=C+(D^z^S)+O[2]+3299628645&4294967295,C=D+(w<<23&4294967295|w>>>9),w=S+(D^(C|~z))+O[0]+4096336452&4294967295,S=C+(w<<6&4294967295|w>>>26),w=z+(C^(S|~D))+O[7]+1126891415&4294967295,z=S+(w<<10&4294967295|w>>>22),w=D+(S^(z|~C))+O[14]+2878612391&4294967295,D=z+(w<<15&4294967295|w>>>17),w=C+(z^(D|~S))+O[5]+4237533241&4294967295,C=D+(w<<21&4294967295|w>>>11),w=S+(D^(C|~z))+O[12]+1700485571&4294967295,S=C+(w<<6&4294967295|w>>>26),w=z+(C^(S|~D))+O[3]+2399980690&4294967295,z=S+(w<<10&4294967295|w>>>22),w=D+(S^(z|~C))+O[10]+4293915773&4294967295,D=z+(w<<15&4294967295|w>>>17),w=C+(z^(D|~S))+O[1]+2240044497&4294967295,C=D+(w<<21&4294967295|w>>>11),w=S+(D^(C|~z))+O[8]+1873313359&4294967295,S=C+(w<<6&4294967295|w>>>26),w=z+(C^(S|~D))+O[15]+4264355552&4294967295,z=S+(w<<10&4294967295|w>>>22),w=D+(S^(z|~C))+O[6]+2734768916&4294967295,D=z+(w<<15&4294967295|w>>>17),w=C+(z^(D|~S))+O[13]+1309151649&4294967295,C=D+(w<<21&4294967295|w>>>11),w=S+(D^(C|~z))+O[4]+4149444226&4294967295,S=C+(w<<6&4294967295|w>>>26),w=z+(C^(S|~D))+O[11]+3174756917&4294967295,z=S+(w<<10&4294967295|w>>>22),w=D+(S^(z|~C))+O[2]+718787259&4294967295,D=z+(w<<15&4294967295|w>>>17),w=C+(z^(D|~S))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+z&4294967295}r.prototype.v=function(I,S){S===void 0&&(S=I.length);const C=S-this.blockSize,O=this.C;let D=this.h,z=0;for(;z<S;){if(D==0)for(;z<=C;)o(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<S;)if(O[D++]=I.charCodeAt(z++),D==this.blockSize){o(this,O),D=0;break}}else for(;z<S;)if(O[D++]=I[z++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=S},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)I[S++]=this.g[C]>>>O&255;return I};function f(I,S){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=S(I)}function d(I,S){this.h=S;const C=[];let O=!0;for(let D=I.length-1;D>=0;D--){const z=I[D]|0;O&&z==S||(C[D]=z,O=!1)}this.g=C}var p={};function _(I){return-128<=I&&I<128?f(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function v(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return it(v(-I));const S=[];let C=1;for(let O=0;I>=C;O++)S[O]=I/C|0,C*=4294967296;return new d(S,0)}function A(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return it(A(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=v(Math.pow(S,8));let O=b;for(let z=0;z<I.length;z+=8){var D=Math.min(8,I.length-z);const w=parseInt(I.substring(z,z+D),S);D<8?(D=v(Math.pow(S,D)),O=O.j(D).add(v(w))):(O=O.j(C),O=O.add(v(w)))}return O}var b=_(0),V=_(1),Y=_(16777216);s=d.prototype,s.m=function(){if(W(this))return-it(this).m();let I=0,S=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);I+=(O>=0?O:4294967296+O)*S,S*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(et(this))return"0";if(W(this))return"-"+it(this).toString(I);const S=v(Math.pow(I,6));var C=this;let O="";for(;;){const D=Mt(C,S).g;C=gt(C,D.j(S));let z=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,et(C))return z+O;for(;z.length<6;)z="0"+z;O=z+O}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function et(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function W(I){return I.h==-1}s.l=function(I){return I=gt(this,I),W(I)?-1:et(I)?0:1};function it(I){const S=I.g.length,C=[];for(let O=0;O<S;O++)C[O]=~I.g[O];return new d(C,~I.h).add(V)}s.abs=function(){return W(this)?it(this):this},s.add=function(I){const S=Math.max(this.g.length,I.g.length),C=[];let O=0;for(let D=0;D<=S;D++){let z=O+(this.i(D)&65535)+(I.i(D)&65535),w=(z>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);O=w>>>16,z&=65535,w&=65535,C[D]=w<<16|z}return new d(C,C[C.length-1]&-2147483648?-1:0)};function gt(I,S){return I.add(it(S))}s.j=function(I){if(et(this)||et(I))return b;if(W(this))return W(I)?it(this).j(it(I)):it(it(this).j(I));if(W(I))return it(this.j(it(I)));if(this.l(Y)<0&&I.l(Y)<0)return v(this.m()*I.m());const S=this.g.length+I.g.length,C=[];for(var O=0;O<2*S;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<I.g.length;D++){const z=this.i(O)>>>16,w=this.i(O)&65535,$t=I.i(D)>>>16,ce=I.i(D)&65535;C[2*O+2*D]+=w*ce,Et(C,2*O+2*D),C[2*O+2*D+1]+=z*ce,Et(C,2*O+2*D+1),C[2*O+2*D+1]+=w*$t,Et(C,2*O+2*D+1),C[2*O+2*D+2]+=z*$t,Et(C,2*O+2*D+2)}for(I=0;I<S;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=S;I<2*S;I++)C[I]=0;return new d(C,0)};function Et(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function pt(I,S){this.g=I,this.h=S}function Mt(I,S){if(et(S))throw Error("division by zero");if(et(I))return new pt(b,b);if(W(I))return S=Mt(it(I),S),new pt(it(S.g),it(S.h));if(W(S))return S=Mt(I,it(S)),new pt(it(S.g),S.h);if(I.g.length>30){if(W(I)||W(S))throw Error("slowDivide_ only works with positive integers.");for(var C=V,O=S;O.l(I)<=0;)C=Bt(C),O=Bt(O);var D=wt(C,1),z=wt(O,1);for(O=wt(O,2),C=wt(C,2);!et(O);){var w=z.add(O);w.l(I)<=0&&(D=D.add(C),z=w),O=wt(O,1),C=wt(C,1)}return S=gt(I,D.j(S)),new pt(D,S)}for(D=b;I.l(S)>=0;){for(C=Math.max(1,Math.floor(I.m()/S.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),z=v(C),w=z.j(S);W(w)||w.l(I)>0;)C-=O,z=v(C),w=z.j(S);et(z)&&(z=V),D=D.add(z),I=gt(I,w)}return new pt(D,I)}s.B=function(I){return Mt(this,I).h},s.and=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let O=0;O<S;O++)C[O]=this.i(O)&I.i(O);return new d(C,this.h&I.h)},s.or=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let O=0;O<S;O++)C[O]=this.i(O)|I.i(O);return new d(C,this.h|I.h)},s.xor=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let O=0;O<S;O++)C[O]=this.i(O)^I.i(O);return new d(C,this.h^I.h)};function Bt(I){const S=I.g.length+1,C=[];for(let O=0;O<S;O++)C[O]=I.i(O)<<1|I.i(O-1)>>>31;return new d(C,I.h)}function wt(I,S){const C=S>>5;S%=32;const O=I.g.length-C,D=[];for(let z=0;z<O;z++)D[z]=S>0?I.i(z+C)>>>S|I.i(z+C+1)<<32-S:I.i(z+C);return new d(D,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Xv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Na=d}).apply(typeof h_<"u"?h_:typeof self<"u"?self:typeof window<"u"?window:{});var Xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zv,Yl,Jv,tc,ud,$v,Wv,t0;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xu=="object"&&Xu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var y=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in y))break t;y=y[L]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,y){return u.call.apply(u.bind,arguments)}function v(u,m,y){return v=_,v.apply(null,arguments)}function A(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,L,P){for(var tt=Array(arguments.length-2),At=2;At<arguments.length;At++)tt[At-2]=arguments[At];return m.prototype[L].apply(T,tt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function et(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=u.length||0;const P=L.length||0;u.length=y+P;for(let tt=0;tt<P;tt++)u[y+tt]=L[tt]}else u.push(L)}}class W{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function it(u){d.setTimeout(()=>{throw u},0)}function gt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,y){const T=pt.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var pt=new W(()=>new Mt,u=>u.reset());class Mt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Bt,wt=!1,I=new Et,S=()=>{const u=Promise.resolve(void 0);Bt=()=>{u.then(C)}};function C(){for(var u;u=gt();){try{u.h.call(u.g)}catch(y){it(y)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}wt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function $t(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b($t,D),$t.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&$t.Z.h.call(this)},$t.prototype.h=function(){$t.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),G=0;function nt(u,m,y,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function kt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function x(u){const m={};for(const y in u)m[y]=u[y];return m}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(u,m){let y,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(y in T)u[y]=T[y];for(let P=0;P<U.length;P++)y=U[P],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function $(u){this.src=u,this.g={},this.h=0}$.prototype.add=function(u,m,y,T,L){const P=u.toString();u=this.g[P],u||(u=this.g[P]=[],this.h++);const tt=ht(u,m,T,L);return tt>-1?(m=u[tt],y||(m.fa=!1)):(m=new nt(m,this.src,P,!!T,L),m.fa=y,u.push(m)),m};function lt(u,m){const y=m.type;if(y in u.g){var T=u.g[y],L=Array.prototype.indexOf.call(T,m,void 0),P;(P=L>=0)&&Array.prototype.splice.call(T,L,1),P&&(ut(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function ht(u,m,y,T){for(let L=0;L<u.length;++L){const P=u[L];if(!P.da&&P.listener==m&&P.capture==!!y&&P.ha==T)return L}return-1}var Tt="closure_lm_"+(Math.random()*1e6|0),Ie={};function ae(u,m,y,T,L){if(Array.isArray(m)){for(let P=0;P<m.length;P++)ae(u,m[P],y,T,L);return null}return y=qr(y),u&&u[ce]?u.J(m,y,p(T)?!!T.capture:!1,L):ka(u,m,y,!1,T,L)}function ka(u,m,y,T,L,P){if(!m)throw Error("Invalid event type");const tt=p(L)?!!L.capture:!!L;let At=Pa(u);if(At||(u[Tt]=At=new $(u)),y=At.add(m,y,T,tt,P),y.proxy)return y;if(T=xs(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)z||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Xn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function xs(){function u(y){return m.call(u.src,u.listener,y)}const m=kr;return u}function Os(u,m,y,T,L){if(Array.isArray(m))for(var P=0;P<m.length;P++)Os(u,m[P],y,T,L);else T=p(T)?!!T.capture:!!T,y=qr(y),u&&u[ce]?(u=u.i,P=String(m).toString(),P in u.g&&(m=u.g[P],y=ht(m,y,T,L),y>-1&&(ut(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[P],u.h--)))):u&&(u=Pa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ht(m,y,T,L)),(y=u>-1?m[u]:null)&&Ms(y))}function Ms(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ce])lt(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Xn(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Pa(m))?(lt(y,u),y.h==0&&(y.src=null,m[Tt]=null)):ut(u)}}}function Xn(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function kr(u,m){if(u.da)u=!0;else{m=new $t(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&Ms(u),u=y.call(T,m)}return u}function Pa(u){return u=u[Tt],u instanceof $?u:null}var Pr="__closure_events_fn_"+(Math.random()*1e9>>>0);function qr(u){return typeof u=="function"?u:(u[Pr]||(u[Pr]=function(m){return u.handleEvent(m)}),u[Pr])}function pe(){O.call(this),this.i=new $(this),this.M=this,this.G=null}b(pe,O),pe.prototype[ce]=!0,pe.prototype.removeEventListener=function(u,m,y,T){Os(this,u,m,y,T)};function De(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),J(m,L)}L=!0;let P,tt;if(y)for(tt=y.length-1;tt>=0;tt--)P=m.g=y[tt],L=Ki(P,T,!0,m)&&L;if(P=m.g=u,L=Ki(P,T,!0,m)&&L,L=Ki(P,T,!1,m)&&L,y)for(tt=0;tt<y.length;tt++)P=m.g=y[tt],L=Ki(P,T,!1,m)&&L}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)ut(y[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},pe.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function Ki(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let P=0;P<m.length;++P){const tt=m[P];if(tt&&!tt.da&&tt.capture==y){const At=tt.listener,he=tt.ha||tt.src;tt.fa&&lt(u.i,tt),L=At.call(he,T)!==!1&&L}}return L&&!T.defaultPrevented}function jc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Eo(u){u.g=jc(()=>{u.g=null,u.i&&(u.i=!1,Eo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends O{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Eo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qa(u){O.call(this),this.h=u,this.g={}}b(qa,O);var Hr=[];function Gr(u){xt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Ms(m)},u),u.g={}}qa.prototype.N=function(){qa.Z.N.call(this),Gr(this)},qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xi=d.JSON.stringify,Bc=d.JSON.parse,To=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ao(){}function So(){}var Mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){D.call(this,"d")}b(Le,D);function vn(){D.call(this,"c")}b(vn,D);var fe={},bo=null;function zs(){return bo=bo||new pe}fe.Ia="serverreachability";function wo(u){D.call(this,fe.Ia,u)}b(wo,D);function Zn(u){const m=zs();De(m,new wo(m))}fe.STAT_EVENT="statevent";function Ha(u,m){D.call(this,fe.STAT_EVENT,u),this.stat=m}b(Ha,D);function ye(u){const m=zs();De(m,new Ha(m,u))}fe.Ja="timingevent";function Jn(u,m){D.call(this,fe.Ja,u),this.size=m}b(Jn,D);function $n(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function kc(u,m,y,T,L,P){u.info(function(){if(u.g)if(P){var tt="",At=P.split("&");for(let Pt=0;Pt<At.length;Pt++){var he=At[Pt].split("=");if(he.length>1){const se=he[0];he=he[1];const Sn=se.split("_");tt=Sn.length>=2&&Sn[1]=="type"?tt+(se+"="+he+"&"):tt+(se+"=redacted&")}}}else tt=null;else tt=P;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+y+`
`+tt})}function Ro(u,m,y,T,L,P,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+y+`
`+P+" "+tt})}function Wn(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Pc(u,y)+(T?" "+T:"")})}function Ga(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Pc(u,m){if(!u.g)return m;if(!m)return null;try{const P=JSON.parse(m);if(P){for(u=0;u<P.length;u++)if(Array.isArray(P[u])){var y=P[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return Xi(P)}catch{return m}}var Fa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qr;function Qa(){}b(Qa,Ao),Qa.prototype.g=function(){return new XMLHttpRequest},Qr=new Qa;function bi(u){return encodeURIComponent(String(u))}function Co(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Un(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new qa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ln}function Ln(){this.i=null,this.g="",this.h=!1}var _e={},Oe={};function ti(u,m,y){u.M=1,u.A=Ya(Ee(m)),u.u=y,u.R=!0,Us(u,null)}function Us(u,m){u.F=Date.now(),ei(u),u.B=Ee(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ks(y.i,"t",T),u.C=0,y=u.j.L,u.h=new Ln,u.g=qo(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Ze(v(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Hr[0]=L.toString()),L=Hr);for(let P=0;P<L.length;P++){const tt=ae(y,L[P],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Zn(),kc(u.i,u.v,u.B,u.l,u.S,u.u)}Un.prototype.ba=function(u){u=u.target;const m=this.O;m&&kn(u)==3?m.j():this.Y(u)},Un.prototype.Y=function(u){try{if(u==this.g)t:{const At=kn(this.g),he=this.g.ya(),Pt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||At!=4||he==7||(he==8||Pt<=0?Zn(3):Zn(2)),ni(this);var m=this.g.ca();this.X=m;var y=qc(this);if(this.o=m==200,Ro(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var P=T;break e}}P=null}if(u=P)Wn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ii(this,u);else{this.o=!1,this.m=3,ye(12),un(this),En(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<y.length;)if(se=Do(this,y),se==Oe){At==4&&(this.m=4,ye(14),u=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(se==_e){this.m=4,ye(15),Wn(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else Wn(this.i,this.l,se,null),ii(this,se);if(Io(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||y.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)Wn(this.i,this.l,y,"[Invalid Chunked Response]"),un(this),En(this);else if(y.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),ll(tt),tt.P=!0,ye(11))}}else Wn(this.i,this.l,y,null),ii(this,y);At==4&&un(this),this.o&&!this.K&&(At==4?jo(this.j,this):(this.o=!1,ei(this)))}else Ri(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),un(this),En(this)}}}catch{}finally{}};function qc(u){if(!Io(u))return u.g.la();const m=je(u.g);if(m==="")return"";let y="";const T=m.length,L=kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return un(u),En(u),"";u.h.i=new d.TextDecoder}for(let P=0;P<T;P++)u.h.h=!0,y+=u.h.i.decode(m[P],{stream:!(L&&P==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Io(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Do(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Oe:(y=Number(m.substring(y,T)),isNaN(y)?_e:(T+=1,T+y>m.length?Oe:(m=m.slice(T,T+y),u.C=T+y,m)))}Un.prototype.cancel=function(){this.K=!0,un(this)};function ei(u){u.T=Date.now()+u.H,Ls(u,u.H)}function Ls(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=$n(v(u.aa,u),m)}function ni(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Un.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ga(this.i,this.B),this.M!=2&&(Zn(),ye(17)),un(this),this.m=2,En(this)):Ls(this,this.T-u)};function En(u){u.j.I==0||u.K||jo(u.j,u)}function un(u){ni(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Gr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ii(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||si(y.h,u))){if(!u.L&&si(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)Fs(y),ia(y);else break t;ts(y),ye(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=$n(v(y.Va,y),6e3));ai(y.h)<=1&&y.ta&&(y.ta=void 0)}else fi(y,11)}else if((u.L||y.g==u)&&Fs(y),!w(m))for(L=y.Ba.g.parse(m),m=0;m<L.length;m++){let Pt=L[m];const se=Pt[0];if(!(se<=y.K))if(y.K=se,Pt=Pt[1],y.I==2)if(Pt[0]=="c"){y.M=Pt[1],y.ba=Pt[2];const Sn=Pt[3];Sn!=null&&(y.ka=Sn,y.j.info("VER="+y.ka));const hi=Pt[4];hi!=null&&(y.za=hi,y.j.info("SVER="+y.za));const Pn=Pt[5];Pn!=null&&typeof Pn=="number"&&Pn>0&&(T=1.5*Pn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const qn=u.g;if(qn){const es=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(es){var P=T.h;P.g||es.indexOf("spdy")==-1&&es.indexOf("quic")==-1&&es.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Xr(P,P.h),P.h=null))}if(T.G){const Qs=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qs&&(T.wa=Qs,Ft(T.J,T.G,Qs))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var tt=u;if(T.na=Po(T,T.L?T.ba:null,T.W),tt.L){Zr(T.h,tt);var At=tt,he=T.O;he&&(At.H=he),At.D&&(ni(At),ei(At)),T.g=tt}else Uo(T);y.i.length>0&&ci(y)}else Pt[0]!="stop"&&Pt[0]!="close"||fi(y,7);else y.I==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?fi(y,7):sl(y):Pt[0]!="noop"&&y.l&&y.l.qa(Pt),y.A=0)}}Zn(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function Yr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function si(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Xr(u,m){u.g?u.g.add(m):u.h=m}function Zr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Yr.prototype.cancel=function(){if(this.i=Jr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Jr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return Y(u.i)}var No=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function js(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let L,P=null;T>=0?(L=u[y].substring(0,T),P=u[y].substring(T+1)):L=u[y],m(L,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof cn?(this.l=u.l,Me(this,u.j),this.o=u.o,this.g=u.g,Zi(this,u.u),this.h=u.h,$r(this,Mo(u.i)),this.m=u.m):u&&(m=String(u).match(No))?(this.l=!1,Me(this,m[1]||"",!0),this.o=ri(m[2]||""),this.g=ri(m[3]||"",!0),Zi(this,m[4]),this.h=ri(m[5]||"",!0),$r(this,m[6]||"",!0),this.m=ri(m[7]||"")):(this.l=!1,this.i=new $i(null,this.l))}cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ka(m,Bs,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ka(m,Bs,!0),"@"),u.push(bi(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Ka(y,y.charAt(0)=="/"?Wr:Vo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Ka(y,xo)),u.join("")},cn.prototype.resolve=function(u){const m=Ee(this);let y=!!u.j;y?Me(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)Zi(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const P=[];for(let tt=0;tt<L.length;){const At=L[tt++];At=="."?T&&tt==L.length&&P.push(""):At==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),T&&tt==L.length&&P.push("")):(P.push(At),T=!0)}T=P.join("/")}else T=L}return y?m.h=T:y=u.i.toString()!=="",y?$r(m,Mo(u.i)):y=!!u.m,y&&(m.m=u.m),m};function Ee(u){return new cn(u)}function Me(u,m,y){u.j=y?ri(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Zi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function $r(u,m,y){m instanceof $i?(u.i=m,Ps(u.i,u.l)):(y||(m=Ka(m,Ji)),u.i=new $i(m,u.l))}function Ft(u,m,y){u.i.set(m,y)}function Ya(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ri(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ka(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,tn),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Bs=/[#\/\?@]/g,Vo=/[#\?:]/g,Wr=/[#\?]/g,Ji=/[#\?@]/g,xo=/#/g;function $i(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function en(u){u.g||(u.g=new Map,u.h=0,u.i&&js(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}s=$i.prototype,s.add=function(u,m){en(this),this.i=null,u=Wi(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Oo(u,m){en(u),m=Wi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function tl(u,m){return en(u),m=Wi(u,m),u.g.has(m)}s.forEach=function(u,m){en(this),this.g.forEach(function(y,T){y.forEach(function(L){u.call(m,L,T,this)},this)},this)};function el(u,m){en(u);let y=[];if(typeof m=="string")tl(u,m)&&(y=y.concat(u.g.get(Wi(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}s.set=function(u,m){return en(this),this.i=null,u=Wi(this,u),tl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=el(this,u),u.length>0?String(u[0]):m):m};function ks(u,m,y){Oo(u,m),y.length>0&&(u.i=null,u.g.set(Wi(u,m),Y(y)),u.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const L=bi(y);y=el(this,y);for(let P=0;P<y.length;P++){let tt=L;y[P]!==""&&(tt+="="+bi(y[P])),u.push(tt)}}return this.i=u.join("&")};function Mo(u){const m=new $i;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Wi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ps(u,m){m&&!u.j&&(en(u),u.i=null,u.g.forEach(function(y,T){const L=T.toLowerCase();T!=L&&(Oo(this,T),ks(this,L,y))},u)),u.j=m}function jn(u,m){const y=new zn;if(d.Image){const T=new Image;T.onload=A(Tn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Tn,y,"TestLoadImage: error",!1,m,T),T.onabort=A(Tn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Tn,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function nl(u,m){const y=new zn,T=new AbortController,L=setTimeout(()=>{T.abort(),Tn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(P=>{clearTimeout(L),P.ok?Tn(y,"TestPingServer: ok",!0,m):Tn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Tn(y,"TestPingServer: error",!1,m)})}function Tn(u,m,y,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(y)}catch{}}function ta(){this.g=new To}function li(u){this.i=u.Sb||null,this.h=u.ab||!1}b(li,Ao),li.prototype.g=function(){return new Xa(this.i,this.h)};function Xa(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Xa,pe),s=Xa.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ea(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qs(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function qs(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ea(this):Bn(this),this.readyState==3&&qs(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ea(this))},s.Na=function(u){this.g&&(this.response=u,ea(this))},s.ga=function(){this.g&&ea(this)};function ea(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return xt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function Za(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=An(y),typeof u=="string"?y!=null&&bi(y):Ft(u,m,y))}function Kt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Kt,pe);var oi=/^https?$/i,il=["POST","PUT"];s=Kt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qr.g(),this.g.onreadystatechange=V(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(P){Ja(this,P);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)y.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const P of T.keys())y.set(P,T.get(P));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(P=>P.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(il,m,void 0)>=0)||T||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,tt]of y)this.g.setRequestHeader(P,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(P){Ja(this,P)}};function Ja(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,al(u),wi(u)}function al(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),wi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),Kt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?$a(this):this.Xa())},s.Xa=function(){$a(this)};function $a(u){if(u.h&&typeof f<"u"){if(u.v&&kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),kn(u)==4){u.h=!1;try{const P=u.ca();t:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=P===0){let tt=String(u.D).match(No)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!oi.test(tt?tt.toLowerCase():"")}y=T}if(y)De(u,"complete"),De(u,"success");else{u.o=6;try{var L=kn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",al(u)}}finally{wi(u)}}}}function wi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||De(u,"ready");try{y.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function kn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return kn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Bc(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ri(u){const m={};u=(u.g&&kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var y=Co(u[T]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const P=m[L]||[];m[L]=P,P.push(y)}kt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ui(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function na(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ui("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ui("baseRetryDelayMs",5e3,u),this.Za=ui("retryDelaySeedMs",1e4,u),this.Ta=ui("forwardChannelMaxRetries",2,u),this.va=ui("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Yr(u&&u.concurrentRequestLimit),this.Ba=new ta,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=na.prototype,s.ka=8,s.I=1,s.connect=function(u,m,y,T){ye(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=Po(this,null,this.W),ci(this)};function sl(u){if(Hs(u),u.I==3){var m=u.V++,y=Ee(u.J);if(Ft(y,"SID",u.M),Ft(y,"RID",m),Ft(y,"TYPE","terminate"),Wa(u,y),m=new Un(u,u.j,m),m.M=2,m.A=Ya(Ee(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=qo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ei(m)}ko(u)}function ia(u){u.g&&(ll(u),u.g.cancel(),u.g=null)}function Hs(u){ia(u),u.v&&(d.clearTimeout(u.v),u.v=null),Fs(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ci(u){if(!Kr(u.h)&&!u.m){u.m=!0;var m=u.Ea;Bt||S(),wt||(Bt(),wt=!0),I.add(m,u),u.D=0}}function Gs(u,m){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=$n(v(u.Ea,u,m),Bo(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Un(this,this.j,u);let P=this.o;if(this.U&&(P?(P=x(P),J(P,this.U)):P=this.U),this.u!==null||this.R||(L.J=P,P=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=zo(this,L,m),y=Ee(this.J),Ft(y,"RID",u),Ft(y,"CVER",22),this.G&&Ft(y,"X-HTTP-Session-Id",this.G),Wa(this,y),P&&(this.R?m="headers="+bi(An(P))+"&"+m:this.u&&Za(y,this.u,P)),Xr(this.h,L),this.Ra&&Ft(y,"TYPE","init"),this.S?(Ft(y,"$req",m),Ft(y,"SID","null"),L.U=!0,ti(L,y,null)):ti(L,y,m),this.I=2}}else this.I==3&&(u?rl(this,u):this.i.length==0||Kr(this.h)||rl(this))};function rl(u,m){var y;m?y=m.l:y=u.V++;const T=Ee(u.J);Ft(T,"SID",u.M),Ft(T,"RID",y),Ft(T,"AID",u.K),Wa(u,T),u.u&&u.o&&Za(T,u.u,u.o),y=new Un(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=zo(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Xr(u.h,y),ti(y,T,m)}function Wa(u,m){u.H&&xt(u.H,function(y,T){Ft(m,T,y)}),u.l&&xt({},function(y,T){Ft(m,T,y)})}function zo(u,m,y){y=Math.min(u.i.length,y);const T=u.l?v(u.l.Ka,u.l,u):null;t:{var L=u.i;let At=-1;for(;;){const he=["count="+y];At==-1?y>0?(At=L[0].g,he.push("ofs="+At)):At=0:he.push("ofs="+At);let Pt=!0;for(let se=0;se<y;se++){var P=L[se].g;const Sn=L[se].map;if(P-=At,P<0)At=Math.max(0,L[se].g-100),Pt=!1;else try{P="req"+P+"_"||"";try{var tt=Sn instanceof Map?Sn:Object.entries(Sn);for(const[hi,Pn]of tt){let qn=Pn;p(Pn)&&(qn=Xi(Pn)),he.push(P+hi+"="+encodeURIComponent(qn))}}catch(hi){throw he.push(P+"type="+encodeURIComponent("_badmap")),hi}}catch{T&&T(Sn)}}if(Pt){tt=he.join("&");break t}}tt=void 0}return u=u.i.splice(0,y),m.G=u,tt}function Uo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Bt||S(),wt||(Bt(),wt=!0),I.add(m,u),u.A=0}}function ts(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=$n(v(u.Da,u),Bo(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Lo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=$n(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),ia(this),Lo(this))};function ll(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Lo(u){u.g=new Un(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),Wa(u,m),u.u&&u.o&&Za(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=Ya(Ee(m)),y.u=null,y.R=!0,Us(y,u)}s.Va=function(){this.C!=null&&(this.C=null,ia(this),ts(this),ye(19))};function Fs(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function jo(u,m){var y=null;if(u.g==m){Fs(u),ll(u),u.g=null;var T=2}else if(si(u.h,m))y=m.G,Zr(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=zs(),De(T,new Jn(T,y)),ci(u)}else Uo(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Gs(u,m)||T==2&&ts(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),L){case 1:fi(u,5);break;case 4:fi(u,10);break;case 3:fi(u,6);break;default:fi(u,2)}}}function Bo(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function fi(u,m){if(u.j.info("Error code "+m),m==2){var y=v(u.bb,u),T=u.Ua;const L=!T;T=new cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(T,"https"),Ya(T),L?jn(T.toString(),y):nl(T.toString(),y)}else ye(2);u.I=0,u.l&&u.l.pa(m),ko(u),Hs(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function ko(u){if(u.I=0,u.ja=[],u.l){const m=Jr(u.h);(m.length!=0||u.i.length!=0)&&(et(u.ja,m),et(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function Po(u,m,y){var T=y instanceof cn?Ee(y):new cn(y);if(T.g!="")m&&(T.g=m+"."+T.g),Zi(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const P=new cn(null);T&&Me(P,T),m&&(P.g=m),L&&Zi(P,L),y&&(P.h=y),T=P}return y=u.G,m=u.wa,y&&m&&Ft(T,y,m),Ft(T,"VER",u.ka),Wa(u,T),T}function qo(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new li({ab:y})):new Kt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ho(){}s=Ho.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function aa(){}aa.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){pe.call(this),this.g=new na(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ci(this)}b(Je,pe),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){sl(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=Xi(u),u=y);m.i.push(new ve(m.Ya++,u)),m.I==3&&ci(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,Je.Z.N.call(this)};function Go(u){Le.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Go,Le);function Fo(){vn.call(this),this.status=1}b(Fo,vn);function Ci(u){this.g=u}b(Ci,Ho),Ci.prototype.ra=function(){De(this.g,"a")},Ci.prototype.qa=function(u){De(this.g,new Go(u))},Ci.prototype.pa=function(u){De(this.g,new Fo)},Ci.prototype.oa=function(){De(this.g,"b")},aa.prototype.createWebChannel=aa.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,t0=function(){return new aa},Wv=function(){return zs()},$v=fe,ud={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fa.NO_ERROR=0,Fa.TIMEOUT=8,Fa.HTTP_ERROR=6,tc=Fa,Fr.COMPLETE="complete",Jv=Fr,So.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,Yl=So,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,Zv=Kt}).apply(typeof Xu<"u"?Xu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zr="12.9.0";function Ab(s){zr=s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new Dd("@firebase/firestore");function Ar(){return bs.logLevel}function st(s,...e){if(bs.logLevel<=Ut.DEBUG){const i=e.map(Ld);bs.debug(`Firestore (${zr}): ${s}`,...i)}}function Qi(s,...e){if(bs.logLevel<=Ut.ERROR){const i=e.map(Ld);bs.error(`Firestore (${zr}): ${s}`,...i)}}function ws(s,...e){if(bs.logLevel<=Ut.WARN){const i=e.map(Ld);bs.warn(`Firestore (${zr}): ${s}`,...i)}}function Ld(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,e0(s,r,i)}function e0(s,e,i){let r=`FIRESTORE (${zr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Qi(r),new Error(r)}function Gt(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||e0(e,o,r)}function vt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Ba{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class bb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class wb{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0,42304);let r=this.i;const o=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let f=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Es,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=f;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Es)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string",31837,{l:r}),new n0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class Rb{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Cb{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new Rb(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class d_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ib{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,BA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Gt(this.o===void 0,3512);const r=f=>{f.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.m;return this.m=f.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable((()=>r(f)))};const o=f=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((f=>o(f))),setTimeout((()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?o(f):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new d_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new d_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=Db(40);for(let f=0;f<o.length;++f)r.length<20&&o[f]<i&&(r+=e.charAt(o[f]%62))}return r}}function Nt(s,e){return s<e?-1:s>e?1:0}function cd(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),f=e.charAt(r);if(o!==f)return Zh(o)===Zh(f)?Nt(o,f):Zh(o)?1:-1}return Nt(s.length,e.length)}const Nb=55296,Vb=57343;function Zh(s){const e=s.charCodeAt(0);return e>=Nb&&e<=Vb}function Nr(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="__name__";class yi{constructor(e,i,r){i===void 0?i=0:i>e.length&&mt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&mt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return yi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const f=yi.compareSegments(e.get(o),i.get(o));if(f!==0)return f}return Nt(e.length,i.length)}static compareSegments(e,i){const r=yi.isNumericId(e),o=yi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?yi.extractNumericId(e).compare(yi.extractNumericId(i)):cd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Na.fromString(e.substring(4,e.length-2))}}class te extends yi{construct(e,i,r){return new te(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new at(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const xb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends yi{construct(e,i,r){return new Ge(e,i,r)}static isValidIdentifier(e){return xb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===m_}static keyField(){return new Ge([m_])}static fromServerFormat(e){const i=[];let r="",o=0;const f=()=>{if(r.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new at(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new at(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(f(),o++)}if(f(),d)throw new at(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(i)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(te.fromString(e))}static fromName(e){return new ft(te.fromString(e).popFirst(5))}static empty(){return new ft(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new te(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(s,e,i){if(!i)throw new at(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Ob(s,e,i,r){if(e===!0&&r===!0)throw new at(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function g_(s){if(!ft.isDocumentKey(s))throw new at(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function p_(s){if(ft.isDocumentKey(s))throw new at(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function a0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function bc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":mt(12329,{type:typeof s})}function $l(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new at(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=bc(s);throw new at(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(s,e){const i={typeString:s};return e&&(i.value=e),i}function go(s,e){if(!a0(s))throw new at(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,f="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(f!==void 0&&d!==f.value){i=`Expected '${r}' field to equal '${f.value}'`;break}}if(i)throw new at(X.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=-62135596800,__=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(e){return ie.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*__);return new ie(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<y_)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/__}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(go(e,ie._jsonSchema))return new ie(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-y_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ce("string",ie._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new ie(0,0))}static max(){return new yt(new ie(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=-1;function Mb(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=yt.fromTimestamp(r===1e9?new ie(i+1,0):new ie(i,r));return new Oa(o,ft.empty(),e)}function zb(s){return new Oa(s.readTime,s.key,so)}class Oa{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Oa(yt.min(),ft.empty(),so)}static max(){return new Oa(yt.max(),ft.empty(),so)}}function Ub(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,e.documentKey),i!==0?i:Nt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ur(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==Lb)throw s;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(r,o)},this.catchCallback=f=>{this.wrapFailure(i,f).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let o=0,f=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++f,d&&f===o&&i()}),(_=>r(_)))})),d=!0,f===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((o=>o?Z.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,f)=>{r.push(i.call(this,o,f))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,o)=>{const f=e.length,d=new Array(f);let p=0;for(let _=0;_<f;_++){const v=_;i(e[v]).next((A=>{d[v]=A,++p,p===f&&r(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new Z(((r,o)=>{const f=()=>{e()===!0?i().next((()=>{f()}),o):r()};f()}))}}function Bb(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Lr(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=-1;function Rc(s){return s==null}function cc(s){return s===0&&1/s==-1/0}function kb(s){return typeof s=="number"&&Number.isInteger(s)&&!cc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="";function Pb(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=v_(e)),e=qb(s.get(i),e);return v_(e)}function qb(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const f=s.charAt(o);switch(f){case"\0":i+="";break;case s0:i+="";break;default:i+=f}}return i}function v_(s){return s+s0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Cs(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function r0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e,i){this.comparator=e,this.root=i||He.EMPTY}insert(e,i){return new le(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}}class Zu{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?r(e.key,i):1,i&&o&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,i,r,o,f){this.key=e,this.value=i,this.color=r??He.RED,this.left=o??He.EMPTY,this.right=f??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,f){return new He(e??this.key,i??this.value,r??this.color,o??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const f=r(e,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(e,i,r),null):f===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return He.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw mt(27949);return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(e,i,r,o,f){return this}insert(e,i,r){return new He(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.comparator=e,this.data=new le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new T_(this.data.getIterator())}getIteratorFrom(e){return new T_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=r.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new xe(this.comparator);return i.data=e,i}}class T_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new Qn([])}unionWith(e){let i=new xe(Ge.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Qn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Nr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new l0("Invalid base64 string: "+f):f}})(e);return new Fe(i)}static fromUint8Array(e){const i=(function(o){let f="";for(let d=0;d<o.length;++d)f+=String.fromCharCode(o[d]);return f})(e);return new Fe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const Hb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ma(s){if(Gt(!!s,39018),typeof s=="string"){let e=0;const i=Hb.exec(s);if(Gt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function za(s){return typeof s=="string"?Fe.fromBase64String(s):Fe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="server_timestamp",u0="__type__",c0="__previous_value__",f0="__local_write_time__";function kd(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[u0])==null?void 0:r.stringValue)===o0}function Cc(s){const e=s.mapValue.fields[c0];return kd(e)?Cc(e):e}function ro(s){const e=Ma(s.mapValue.fields[f0].timestampValue);return new ie(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,i,r,o,f,d,p,_,v,A,b){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A,this.apiKey=b}}const fc="(default)";class lo{constructor(e,i){this.projectId=e,this.database=i||fc}static empty(){return new lo("","")}get isDefaultDatabase(){return this.database===fc}isEqual(e){return e instanceof lo&&e.projectId===this.projectId&&e.database===this.database}}function Fb(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new at(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lo(s.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="__type__",Qb="__max__",Ju={mapValue:{}},d0="__vector__",hc="value";function Ua(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?kd(s)?4:Kb(s)?9007199254740991:Yb(s)?10:11:mt(28295,{value:s})}function Si(s,e){if(s===e)return!0;const i=Ua(s);if(i!==Ua(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ro(s).isEqual(ro(e));case 3:return(function(o,f){if(typeof o.timestampValue=="string"&&typeof f.timestampValue=="string"&&o.timestampValue.length===f.timestampValue.length)return o.timestampValue===f.timestampValue;const d=Ma(o.timestampValue),p=Ma(f.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,f){return za(o.bytesValue).isEqual(za(f.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,f){return ge(o.geoPointValue.latitude)===ge(f.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(f.geoPointValue.longitude)})(s,e);case 2:return(function(o,f){if("integerValue"in o&&"integerValue"in f)return ge(o.integerValue)===ge(f.integerValue);if("doubleValue"in o&&"doubleValue"in f){const d=ge(o.doubleValue),p=ge(f.doubleValue);return d===p?cc(d)===cc(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return Nr(s.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return(function(o,f){const d=o.mapValue.fields||{},p=f.mapValue.fields||{};if(E_(d)!==E_(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Si(d[_],p[_])))return!1;return!0})(s,e);default:return mt(52216,{left:s})}}function oo(s,e){return(s.values||[]).find((i=>Si(i,e)))!==void 0}function Vr(s,e){if(s===e)return 0;const i=Ua(s),r=Ua(e);if(i!==r)return Nt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(s.booleanValue,e.booleanValue);case 2:return(function(f,d){const p=ge(f.integerValue||f.doubleValue),_=ge(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,e);case 3:return A_(s.timestampValue,e.timestampValue);case 4:return A_(ro(s),ro(e));case 5:return cd(s.stringValue,e.stringValue);case 6:return(function(f,d){const p=za(f),_=za(d);return p.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(f,d){const p=f.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const A=Nt(p[v],_[v]);if(A!==0)return A}return Nt(p.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(f,d){const p=Nt(ge(f.latitude),ge(d.latitude));return p!==0?p:Nt(ge(f.longitude),ge(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return S_(s.arrayValue,e.arrayValue);case 10:return(function(f,d){var V,Y,et,W;const p=f.fields||{},_=d.fields||{},v=(V=p[hc])==null?void 0:V.arrayValue,A=(Y=_[hc])==null?void 0:Y.arrayValue,b=Nt(((et=v==null?void 0:v.values)==null?void 0:et.length)||0,((W=A==null?void 0:A.values)==null?void 0:W.length)||0);return b!==0?b:S_(v,A)})(s.mapValue,e.mapValue);case 11:return(function(f,d){if(f===Ju.mapValue&&d===Ju.mapValue)return 0;if(f===Ju.mapValue)return 1;if(d===Ju.mapValue)return-1;const p=f.fields||{},_=Object.keys(p),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let b=0;b<_.length&&b<A.length;++b){const V=cd(_[b],A[b]);if(V!==0)return V;const Y=Vr(p[_[b]],v[A[b]]);if(Y!==0)return Y}return Nt(_.length,A.length)})(s.mapValue,e.mapValue);default:throw mt(23264,{he:i})}}function A_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Nt(s,e);const i=Ma(s),r=Ma(e),o=Nt(i.seconds,r.seconds);return o!==0?o:Nt(i.nanos,r.nanos)}function S_(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const f=Vr(i[o],r[o]);if(f)return f}return Nt(i.length,r.length)}function xr(s){return fd(s)}function fd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Ma(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return za(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ft.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const f of i.values||[])o?o=!1:r+=",",r+=fd(f);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",f=!0;for(const d of r)f?f=!1:o+=",",o+=`${d}:${fd(i.fields[d])}`;return o+"}"})(s.mapValue):mt(61005,{value:s})}function ec(s){switch(Ua(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cc(s);return e?16+ec(e):16;case 5:return 2*s.stringValue.length;case 6:return za(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,f)=>o+ec(f)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Cs(r.fields,((f,d)=>{o+=f.length+ec(d)})),o})(s.mapValue);default:throw mt(13486,{value:s})}}function b_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function hd(s){return!!s&&"integerValue"in s}function Pd(s){return!!s&&"arrayValue"in s}function w_(s){return!!s&&"nullValue"in s}function R_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function nc(s){return!!s&&"mapValue"in s}function Yb(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[h0])==null?void 0:r.stringValue)===d0}function Wl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Cs(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Wl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Wl(s.arrayValue.values[i]);return e}return{...s}}function Kb(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Qb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!nc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(i)}setAll(e){let i=Ge.emptyPath(),r={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=Wl(d):o.push(p.lastSegment())}));const f=this.getFieldsMap(i);this.applyChanges(f,r,o)}delete(e){const i=this.field(e.popLast());nc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];nc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Cs(i,((o,f)=>e[o]=f));for(const o of r)delete e[o]}clone(){return new xn(Wl(this.value))}}function m0(s){const e=[];return Cs(s.fields,((i,r)=>{const o=new Ge([i]);if(nc(r)){const f=m0(r.mapValue).fields;if(f.length===0)e.push(o);else for(const d of f)e.push(o.child(d))}else e.push(o)})),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,r,o,f,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=f,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Xe(e,0,yt.min(),yt.min(),yt.min(),xn.empty(),0)}static newFoundDocument(e,i,r,o){return new Xe(e,1,i,yt.min(),r,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,yt.min(),yt.min(),xn.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,yt.min(),yt.min(),xn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i){this.position=e,this.inclusive=i}}function C_(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const f=e[o],d=s.position[o];if(f.field.isKeyField()?r=ft.comparator(ft.fromName(d.referenceValue),i.key):r=Vr(d,i.data.field(f.field)),f.dir==="desc"&&(r*=-1),r!==0)break}return r}function I_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Si(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,i="asc"){this.field=e,this.dir=i}}function Xb(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{}class Re extends g0{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new Jb(e,i,r):i==="array-contains"?new t2(e,r):i==="in"?new e2(e,r):i==="not-in"?new n2(e,r):i==="array-contains-any"?new i2(e,r):new Re(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new $b(e,r):new Wb(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Vr(i,this.value)):i!==null&&Ua(this.value)===Ua(i)&&this.matchesComparison(Vr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends g0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Kn(e,i)}matches(e){return p0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function p0(s){return s.op==="and"}function y0(s){return Zb(s)&&p0(s)}function Zb(s){for(const e of s.filters)if(e instanceof Kn)return!1;return!0}function dd(s){if(s instanceof Re)return s.field.canonicalString()+s.op.toString()+xr(s.value);if(y0(s))return s.filters.map((e=>dd(e))).join(",");{const e=s.filters.map((i=>dd(i))).join(",");return`${s.op}(${e})`}}function _0(s,e){return s instanceof Re?(function(r,o){return o instanceof Re&&r.op===o.op&&r.field.isEqual(o.field)&&Si(r.value,o.value)})(s,e):s instanceof Kn?(function(r,o){return o instanceof Kn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((f,d,p)=>f&&_0(d,o.filters[p])),!0):!1})(s,e):void mt(19439)}function v0(s){return s instanceof Re?(function(i){return`${i.field.canonicalString()} ${i.op} ${xr(i.value)}`})(s):s instanceof Kn?(function(i){return i.op.toString()+" {"+i.getFilters().map(v0).join(" ,")+"}"})(s):"Filter"}class Jb extends Re{constructor(e,i,r){super(e,i,r),this.key=ft.fromName(r.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class $b extends Re{constructor(e,i){super(e,"in",i),this.keys=E0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Wb extends Re{constructor(e,i){super(e,"not-in",i),this.keys=E0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function E0(s,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((r=>ft.fromName(r.referenceValue)))}class t2 extends Re{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Pd(i)&&oo(i.arrayValue,this.value)}}class e2 extends Re{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&oo(this.value.arrayValue,i)}}class n2 extends Re{constructor(e,i){super(e,"not-in",i)}matches(e){if(oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!oo(this.value.arrayValue,i)}}class i2 extends Re{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Pd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>oo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,i=null,r=[],o=[],f=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=f,this.startAt=d,this.endAt=p,this.Te=null}}function D_(s,e=null,i=[],r=[],o=null,f=null,d=null){return new a2(s,e,i,r,o,f,d)}function qd(s){const e=vt(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>dd(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(f){return f.field.canonicalString()+f.dir})(r))).join(","),Rc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>xr(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>xr(r))).join(",")),e.Te=i}return e.Te}function Hd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Xb(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!_0(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!I_(s.startAt,e.startAt)&&I_(s.endAt,e.endAt)}function md(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,i=null,r=[],o=[],f=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=f,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function s2(s,e,i,r,o,f,d,p){return new jr(s,e,i,r,o,f,d,p)}function Gd(s){return new jr(s)}function N_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function r2(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function T0(s){return s.collectionGroup!==null}function to(s){const e=vt(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const f of e.explicitOrderBy)e.Ie.push(f),i.add(f.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new xe(Ge.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((f=>{i.has(f.canonicalString())||f.isKeyField()||e.Ie.push(new uo(f,r))})),i.has(Ge.keyField().canonicalString())||e.Ie.push(new uo(Ge.keyField(),r))}return e.Ie}function vi(s){const e=vt(s);return e.Ee||(e.Ee=l2(e,to(s))),e.Ee}function l2(s,e){if(s.limitType==="F")return D_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const f=o.dir==="desc"?"asc":"desc";return new uo(o.field,f)}));const i=s.endAt?new dc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new dc(s.startAt.position,s.startAt.inclusive):null;return D_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function gd(s,e){const i=s.filters.concat([e]);return new jr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function o2(s,e){const i=s.explicitOrderBy.concat([e]);return new jr(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function pd(s,e,i){return new jr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Ic(s,e){return Hd(vi(s),vi(e))&&s.limitType===e.limitType}function A0(s){return`${qd(vi(s))}|lt:${s.limitType}`}function Sr(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>v0(o))).join(", ")}]`),Rc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>xr(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>xr(o))).join(",")),`Target(${r})`})(vi(s))}; limitType=${s.limitType})`}function Dc(s,e){return e.isFoundDocument()&&(function(r,o){const f=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(f):ft.isDocumentKey(r.path)?r.path.isEqual(f):r.path.isImmediateParentOf(f)})(s,e)&&(function(r,o){for(const f of to(r))if(!f.field.isKeyField()&&o.data.field(f.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const f of r.filters)if(!f.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,p,_){const v=C_(d,p,_);return d.inclusive?v<=0:v<0})(r.startAt,to(r),o)||r.endAt&&!(function(d,p,_){const v=C_(d,p,_);return d.inclusive?v>=0:v>0})(r.endAt,to(r),o))})(s,e)}function u2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function S0(s){return(e,i)=>{let r=!1;for(const o of to(s)){const f=c2(o,e,i);if(f!==0)return f;r=r||o.field.isKeyField()}return 0}}function c2(s,e,i){const r=s.field.isKeyField()?ft.comparator(e.key,i.key):(function(f,d,p){const _=d.data.field(f),v=p.data.field(f);return _!==null&&v!==null?Vr(_,v):mt(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return mt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,f]of r)if(this.equalsFn(o,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],e))return void(o[f]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,((i,r)=>{for(const[o,f]of r)e(o,f)}))}isEmpty(){return r0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=new le(ft.comparator);function Yi(){return f2}const b0=new le(ft.comparator);function Kl(...s){let e=b0;for(const i of s)e=e.insert(i.key,i);return e}function w0(s){let e=b0;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function vs(){return eo()}function R0(){return eo()}function eo(){return new Is((s=>s.toString()),((s,e)=>s.isEqual(e)))}const h2=new le(ft.comparator),d2=new xe(ft.comparator);function Vt(...s){let e=d2;for(const i of s)e=e.add(i);return e}const m2=new xe(Nt);function g2(){return m2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(e)?"-0":e}}function C0(s){return{integerValue:""+s}}function p2(s,e){return kb(e)?C0(e):Fd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this._=void 0}}function y2(s,e,i){return s instanceof co?(function(o,f){const d={fields:{[u0]:{stringValue:o0},[f0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return f&&kd(f)&&(f=Cc(f)),f&&(d.fields[c0]=f),{mapValue:d}})(i,e):s instanceof fo?D0(s,e):s instanceof ho?N0(s,e):(function(o,f){const d=I0(o,f),p=V_(d)+V_(o.Ae);return hd(d)&&hd(o.Ae)?C0(p):Fd(o.serializer,p)})(s,e)}function _2(s,e,i){return s instanceof fo?D0(s,e):s instanceof ho?N0(s,e):i}function I0(s,e){return s instanceof mc?(function(r){return hd(r)||(function(f){return!!f&&"doubleValue"in f})(r)})(e)?e:{integerValue:0}:null}class co extends Nc{}class fo extends Nc{constructor(e){super(),this.elements=e}}function D0(s,e){const i=V0(e);for(const r of s.elements)i.some((o=>Si(o,r)))||i.push(r);return{arrayValue:{values:i}}}class ho extends Nc{constructor(e){super(),this.elements=e}}function N0(s,e){let i=V0(e);for(const r of s.elements)i=i.filter((o=>!Si(o,r)));return{arrayValue:{values:i}}}class mc extends Nc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function V_(s){return ge(s.integerValue||s.doubleValue)}function V0(s){return Pd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,i){this.field=e,this.transform=i}}function E2(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof fo&&o instanceof fo||r instanceof ho&&o instanceof ho?Nr(r.elements,o.elements,Si):r instanceof mc&&o instanceof mc?Si(r.Ae,o.Ae):r instanceof co&&o instanceof co})(s.transform,e.transform)}class T2{constructor(e,i){this.version=e,this.transformResults=i}}class Hi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Hi}static exists(e){return new Hi(void 0,e)}static updateTime(e){return new Hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ic(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Vc{}function x0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new M0(s.key,Hi.none()):new po(s.key,s.data,Hi.none());{const i=s.data,r=xn.empty();let o=new xe(Ge.comparator);for(let f of e.fields)if(!o.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?r.delete(f):r.set(f,d),o=o.add(f)}return new Ds(s.key,r,new Qn(o.toArray()),Hi.none())}}function A2(s,e,i){s instanceof po?(function(o,f,d){const p=o.value.clone(),_=O_(o.fieldTransforms,f,d.transformResults);p.setAll(_),f.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof Ds?(function(o,f,d){if(!ic(o.precondition,f))return void f.convertToUnknownDocument(d.version);const p=O_(o.fieldTransforms,f,d.transformResults),_=f.data;_.setAll(O0(o)),_.setAll(p),f.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(o,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function no(s,e,i,r){return s instanceof po?(function(f,d,p,_){if(!ic(f.precondition,d))return p;const v=f.value.clone(),A=M_(f.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,e,i,r):s instanceof Ds?(function(f,d,p,_){if(!ic(f.precondition,d))return p;const v=M_(f.fieldTransforms,_,d),A=d.data;return A.setAll(O0(f)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map((b=>b.field)))})(s,e,i,r):(function(f,d,p){return ic(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function S2(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),f=I0(r.transform,o||null);f!=null&&(i===null&&(i=xn.empty()),i.set(r.field,f))}return i||null}function x_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Nr(r,o,((f,d)=>E2(f,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class po extends Vc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ds extends Vc{constructor(e,i,r,o,f=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function O0(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function O_(s,e,i){const r=new Map;Gt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const f=s[o],d=f.transform,p=e.data.field(f.field);r.set(f.field,_2(d,p,i[o]))}return r}function M_(s,e,i){const r=new Map;for(const o of s){const f=o.transform,d=i.data.field(o.field);r.set(o.field,y2(f,d,e))}return r}class M0 extends Vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class b2 extends Vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(e.key)&&A2(f,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=no(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=no(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=R0();return this.mutations.forEach((o=>{const f=e.get(o.key),d=f.overlayedDocument;let p=this.applyToLocalView(d,f.mutatedFields);p=i.has(o.key)?null:p;const _=x0(d,p);_!==null&&r.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(yt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Vt())}isEqual(e){return this.batchId===e.batchId&&Nr(this.mutations,e.mutations,((i,r)=>x_(i,r)))&&Nr(this.baseMutations,e.baseMutations,((i,r)=>x_(i,r)))}}class Qd{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Gt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return h2})();const f=e.mutations;for(let d=0;d<f.length;d++)o=o.insert(f[d].key,r[d].version);return new Qd(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,zt;function I2(s){switch(s){case X.OK:return mt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return mt(15467,{code:s})}}function z0(s){if(s===void 0)return Qi("GRPC error has no .code"),X.UNKNOWN;switch(s){case we.OK:return X.OK;case we.CANCELLED:return X.CANCELLED;case we.UNKNOWN:return X.UNKNOWN;case we.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case we.INTERNAL:return X.INTERNAL;case we.UNAVAILABLE:return X.UNAVAILABLE;case we.UNAUTHENTICATED:return X.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case we.NOT_FOUND:return X.NOT_FOUND;case we.ALREADY_EXISTS:return X.ALREADY_EXISTS;case we.PERMISSION_DENIED:return X.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case we.ABORTED:return X.ABORTED;case we.OUT_OF_RANGE:return X.OUT_OF_RANGE;case we.UNIMPLEMENTED:return X.UNIMPLEMENTED;case we.DATA_LOSS:return X.DATA_LOSS;default:return mt(39323,{code:s})}}(zt=we||(we={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new Na([4294967295,4294967295],0);function z_(s){const e=D2().encode(s),i=new Xv;return i.update(e),new Uint8Array(i.digest())}function U_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new Na([i,r],0),new Na([o,f],0)]}class Yd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Xl(`Invalid padding: ${i}`);if(r<0)throw new Xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Na.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Na.fromNumber(r)));return o.compare(N2)===1&&(o=new Na([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=z_(e),[r,o]=U_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(r,o,f);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new Yd(f,o,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=z_(e),[r,o]=U_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(r,o,f);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,i,r,o,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,yo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new xc(yt.min(),o,new le(Nt),Yi(),Vt())}}class yo{constructor(e,i,r,o,f){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new yo(r,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class U0{constructor(e,i){this.targetId=e,this.Ce=i}}class L0{constructor(e,i,r=Fe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class L_{constructor(){this.ve=0,this.Fe=j_(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Vt(),i=Vt(),r=Vt();return this.Fe.forEach(((o,f)=>{switch(f){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:mt(38017,{changeType:f})}})),new yo(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=j_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class V2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yi(),this.He=$u(),this.Je=$u(),this.Ze=new le(Nt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:mt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const f=o.target;if(md(f))if(r===0){const d=new ft(f.path);this.et(i,d,Xe.newNoDocument(d,yt.min()))}else Gt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:f=0}=i;let d,p;try{d=za(r).toUint8Array()}catch(_){if(_ instanceof l0)return ws("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Yd(d,o,f)}catch(_){return ws(_ instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((f=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(p)||(this.et(i,f,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((f,d)=>{const p=this.ot(d);if(p){if(f.current&&md(p.target)){const _=new ft(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Xe.newNoDocument(_,e))}f.Be&&(i.set(d,f.ke()),f.Ke())}}));let r=Vt();this.Je.forEach(((f,d)=>{let p=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(f))})),this.je.forEach(((f,d)=>d.setReadTime(e)));const o=new xc(e,i,this.Ze,this.je,r);return this.je=Yi(),this.He=$u(),this.Je=$u(),this.Ze=new le(Nt),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new L_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new xe(Nt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new xe(Nt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new L_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function $u(){return new le(ft.comparator)}function j_(){return new le(ft.comparator)}const x2={asc:"ASCENDING",desc:"DESCENDING"},O2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M2={and:"AND",or:"OR"};class z2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function yd(s,e){return s.useProto3Json||Rc(e)?e:{value:e}}function gc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function U2(s,e){return gc(s,e.toTimestamp())}function Ei(s){return Gt(!!s,49232),yt.fromTimestamp((function(i){const r=Ma(i);return new ie(r.seconds,r.nanos)})(s))}function Kd(s,e){return _d(s,e).canonicalString()}function _d(s,e){const i=(function(o){return new te(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function B0(s){const e=te.fromString(s);return Gt(G0(e),10190,{key:e.toString()}),e}function vd(s,e){return Kd(s.databaseId,e.path)}function Jh(s,e){const i=B0(e);if(i.get(1)!==s.databaseId.projectId)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(P0(i))}function k0(s,e){return Kd(s.databaseId,e)}function L2(s){const e=B0(s);return e.length===4?te.emptyPath():P0(e)}function Ed(s){return new te(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function P0(s){return Gt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function B_(s,e,i){return{name:vd(s,e),fields:i.value.mapValue.fields}}function j2(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:mt(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],f=(function(v,A){return v.useProto3Json?(Gt(A===void 0||typeof A=="string",58123),Fe.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Fe.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(v){const A=v.code===void 0?X.UNKNOWN:z0(v.code);return new at(A,v.message||"")})(d);i=new L0(r,o,f,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Jh(s,r.document.name),f=Ei(r.document.updateTime),d=r.document.createTime?Ei(r.document.createTime):yt.min(),p=new xn({mapValue:{fields:r.document.fields}}),_=Xe.newFoundDocument(o,f,d,p),v=r.targetIds||[],A=r.removedTargetIds||[];i=new ac(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Jh(s,r.document),f=r.readTime?Ei(r.readTime):yt.min(),d=Xe.newNoDocument(o,f),p=r.removedTargetIds||[];i=new ac([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Jh(s,r.document),f=r.removedTargetIds||[];i=new ac([],f,o,null)}else{if(!("filter"in e))return mt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:f}=r,d=new C2(o,f),p=r.targetId;i=new U0(p,d)}}return i}function B2(s,e){let i;if(e instanceof po)i={update:B_(s,e.key,e.value)};else if(e instanceof M0)i={delete:vd(s,e.key)};else if(e instanceof Ds)i={update:B_(s,e.key,e.data),updateMask:K2(e.fieldMask)};else{if(!(e instanceof b2))return mt(16599,{dt:e.type});i={verify:vd(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(f,d){const p=d.transform;if(p instanceof co)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof fo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ho)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof mc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw mt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,f){return f.updateTime!==void 0?{updateTime:U2(o,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:mt(27497)})(s,e.precondition)),i}function k2(s,e){return s&&s.length>0?(Gt(e!==void 0,14353),s.map((i=>(function(o,f){let d=o.updateTime?Ei(o.updateTime):Ei(f);return d.isEqual(yt.min())&&(d=Ei(f)),new T2(d,o.transformResults||[])})(i,e)))):[]}function P2(s,e){return{documents:[k0(s,e.path)]}}function q2(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=k0(s,o);const f=(function(v){if(v.length!==0)return H0(Kn.create(v,"and"))})(e.filters);f&&(i.structuredQuery.where=f);const d=(function(v){if(v.length!==0)return v.map((A=>(function(V){return{field:br(V.field),direction:F2(V.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=yd(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function H2(s){let e=L2(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Gt(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let f=[];i.where&&(f=(function(b){const V=q0(b);return V instanceof Kn&&y0(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((V=>(function(et){return new uo(wr(et.field),(function(it){switch(it){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(et.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let V;return V=typeof b=="object"?b.value:b,Rc(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(b){const V=!!b.before,Y=b.values||[];return new dc(Y,V)})(i.startAt));let v=null;return i.endAt&&(v=(function(b){const V=!b.before,Y=b.values||[];return new dc(Y,V)})(i.endAt)),s2(e,o,d,f,p,"F",_,v)}function G2(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function q0(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=wr(i.unaryFilter.field);return Re.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=wr(i.unaryFilter.field);return Re.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=wr(i.unaryFilter.field);return Re.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=wr(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Re.create(wr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Kn.create(i.compositeFilter.filters.map((r=>q0(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(s):mt(30097,{filter:s})}function F2(s){return x2[s]}function Q2(s){return O2[s]}function Y2(s){return M2[s]}function br(s){return{fieldPath:s.canonicalString()}}function wr(s){return Ge.fromServerFormat(s.fieldPath)}function H0(s){return s instanceof Re?(function(i){if(i.op==="=="){if(R_(i.value))return{unaryFilter:{field:br(i.field),op:"IS_NAN"}};if(w_(i.value))return{unaryFilter:{field:br(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(R_(i.value))return{unaryFilter:{field:br(i.field),op:"IS_NOT_NAN"}};if(w_(i.value))return{unaryFilter:{field:br(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:br(i.field),op:Q2(i.op),value:i.value}}})(s):s instanceof Kn?(function(i){const r=i.getFilters().map((o=>H0(o)));return r.length===1?r[0]:{compositeFilter:{op:Y2(i.op),filters:r}}})(s):mt(54877,{filter:s})}function K2(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function G0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function F0(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,i,r,o,f=yt.min(),d=yt.min(),p=Fe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new Ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.yt=e}}function Z2(s){const e=H2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?pd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.Sn=new $2}addToCollectionParentIndex(e,i){return this.Sn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Oa.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Oa.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class $2{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new xe(te.comparator),f=!o.has(r);return this.index[i]=o.add(r),f}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new xe(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q0=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(Q0,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Or(0)}static ar(){return new Or(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="LruGarbageCollector",W2=1048576;function q_([s,e],[i,r]){const o=Nt(s,i);return o===0?Nt(e,r):o}class tw{constructor(e){this.Pr=e,this.buffer=new xe(q_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();q_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ew{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){st(P_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Lr(i)?st(P_,"Ignoring IndexedDB error during garbage collection: ",i):await Ur(i)}await this.Ar(3e5)}))}}class nw{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(wc.ce);const r=new tw(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(k_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,f,d,p,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(r=b,p=Date.now(),this.removeTargets(e,r,i)))).next((b=>(f=b,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(v=Date.now(),Ar()<=Ut.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${f} targets in `+(_-p)+`ms
	Removed ${b} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:f,documentsRemoved:b}))))}}function iw(s,e){return new nw(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.changes=new Is((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&no(r.mutation,o,Qn.empty(),ie.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Vt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Vt()){const o=vs();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((f=>{let d=Kl();return f.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=vs();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Vt())))}populateOverlays(e,i,r){const o=[];return r.forEach((f=>{i.has(f)||o.push(f)})),this.documentOverlayCache.getOverlays(e,o).next((f=>{f.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,o){let f=Yi();const d=eo(),p=(function(){return eo()})();return i.forEach(((_,v)=>{const A=r.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof Ds)?f=f.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),no(A.mutation,v,A.mutation.getFieldMask(),ie.now())):d.set(v.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,f).next((_=>(_.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>p.set(v,new sw(A,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=eo();let o=new le(((d,p)=>d-p)),f=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let A=r.get(_)||Qn.empty();A=p.applyToLocalView(v,A),r.set(_,A);const b=(o.get(p.batchId)||Vt()).add(_);o=o.insert(p.batchId,b)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,A=_.value,b=R0();A.forEach((V=>{if(!f.has(V)){const Y=x0(i.get(V),r.get(V));Y!==null&&b.set(V,Y),f=f.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,b))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return r2(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):T0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((f=>{const d=o-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-f.size):Z.resolve(vs());let p=so,_=f;return d.next((v=>Z.forEach(v,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),f.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next((V=>{_=_.insert(A,V)}))))).next((()=>this.populateOverlays(e,v,f))).next((()=>this.computeViews(e,_,v,Vt()))).next((A=>({batchId:p,changes:w0(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next((r=>{let o=Kl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const f=i.collectionGroup;let d=Kl();return this.indexManager.getCollectionParents(e,f).next((p=>Z.forEach(p,(_=>{const v=(function(b,V){return new jr(V,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,_.child(f));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((A=>{A.forEach(((b,V)=>{d=d.insert(b,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,f,o)))).next((d=>{f.forEach(((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let p=Kl();return d.forEach(((_,v)=>{const A=f.get(_);A!==void 0&&no(A.mutation,v,Qn.empty(),ie.now()),Dc(i,v)&&(p=p.insert(_,v))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return Z.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ei(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:Z2(o.bundledQuery),readTime:Ei(o.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.overlays=new le(ft.comparator),this.Lr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=vs();return Z.forEach(i,(o=>this.getOverlay(e,o).next((f=>{f!==null&&r.set(o,f)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,f)=>{this.bt(e,i,f)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((f=>this.overlays=this.overlays.remove(f))),this.Lr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const o=vs(),f=i.length+1,d=new ft(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===f&&_.largestBatchId>r&&o.set(_.getKey(),_)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let f=new le(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let A=f.get(v.largestBatchId);A===null&&(A=vs(),f=f.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const p=vs(),_=f.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,A)=>p.set(v,A))),!(p.size()>=o)););return Z.resolve(p)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new R2(i,r));let f=this.Lr.get(i);f===void 0&&(f=Vt(),this.Lr.set(i,f)),this.Lr.set(i,f.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this.kr=new xe(Ue.Kr),this.qr=new xe(Ue.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new Ue(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new Ue(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new ft(new te([])),r=new Ue(i,e),o=new Ue(i,e+1),f=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),f.push(d.key)})),f}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ft(new te([])),r=new Ue(i,e),o=new Ue(i,e+1);let f=Vt();return this.qr.forEachInRange([r,o],(d=>{f=f.add(d.key)})),f}containsKey(e){const i=new Ue(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ue{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ft.comparator(e.key,i.key)||Nt(e.Hr,i.Hr)}static Ur(e,i){return Nt(e.Hr,i.Hr)||ft.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new xe(Ue.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const f=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new w2(f,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new Ue(p.key,f)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),f=o<0?0:o;return Z.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Bd:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),f=[];return this.Jr.forEachInRange([r,o],(d=>{const p=this.Zr(d.Hr);f.push(p)})),Z.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new xe(Nt);return i.forEach((o=>{const f=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([f,d],(p=>{r=r.add(p.Hr)}))})),Z.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let f=r;ft.isDocumentKey(f)||(f=f.child(""));const d=new Ue(new ft(f),0);let p=new xe(Nt);return this.Jr.forEachWhile((_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(p=p.add(_.Hr)),!0)}),d),Z.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Gt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Z.forEach(i.mutations,(o=>{const f=new Ue(o.key,i.batchId);return r=r.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new Ue(i,0),o=this.Jr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this.ti=e,this.docs=(function(){return new le(ft.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),f=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let r=Yi();return i.forEach((o=>{const f=this.docs.get(o);r=r.insert(o,f?f.document.mutableCopy():Xe.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let f=Yi();const d=i.path,p=new ft(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||Ub(zb(A),r)<=0||(o.has(A.key)||Dc(i,A))&&(f=f.insert(A.key,A.mutableCopy()))}return Z.resolve(f)}getAllFromCollectionGroup(e,i,r,o){mt(9500)}ni(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new hw(this)}getSize(e){return Z.resolve(this.size)}}class hw extends aw{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.persistence=e,this.ri=new Is((i=>qd(i)),Hd),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.ii=0,this.si=new Xd,this.targetCount=0,this.oi=Or._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),Z.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Or(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.lr(i),Z.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let o=0;const f=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.ri.delete(d),f.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),Z.waitFor(f).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,f=[];return o&&i.forEach((d=>{f.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this.si.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,i){this._i={},this.overlays={},this.ai=new wc(0),this.ui=!1,this.ui=!0,this.ci=new uw,this.referenceDelegate=e(this),this.li=new dw(this),this.indexManager=new J2,this.remoteDocumentCache=(function(o){return new fw(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new X2(i),this.Pi=new lw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new ow,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new cw(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){st("MemoryPersistence","Starting transaction:",e);const o=new mw(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((f=>this.referenceDelegate.Ii(o).next((()=>f)))).toPromise().then((f=>(o.raiseOnCommittedEvent(),f)))}Ei(e,i){return Z.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class mw extends jb{constructor(e){super(),this.currentSequenceNumber=e}}class Zd{constructor(e){this.persistence=e,this.Ri=new Xd,this.Ai=null}static Vi(e){return new Zd(e)}get di(){if(this.Ai)return this.Ai;throw mt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((f=>this.di.add(f.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(r=>{const o=ft.fromPath(r);return this.mi(e,o).next((f=>{f||i.removeEntry(o,yt.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class pc{constructor(e,i){this.persistence=e,this.fi=new Is((r=>Pb(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=iw(this,i)}static Vi(e,i){return new pc(e,i)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return Z.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((f=>f?Z.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),f=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(r++,f.removeEntry(d,yt.min()))})))).next((()=>f.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ec(e.data.value)),i}wr(e,i,r){return Z.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=Vt(),o=Vt();for(const f of i.docChanges)switch(f.type){case 0:r=r.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new Jd(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return z1()?8:Bb(x1())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const f={result:null};return this.gs(e,i).next((d=>{f.result=d})).next((()=>{if(!f.result)return this.ps(e,i,o,r).next((d=>{f.result=d}))})).next((()=>{if(f.result)return;const d=new gw;return this.ys(e,i,d).next((p=>{if(f.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>f.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(Ar()<=Ut.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Sr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(Ar()<=Ut.DEBUG&&st("QueryEngine","Query:",Sr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Ar()<=Ut.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Sr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(i))):Z.resolve())}gs(e,i){if(N_(i))return Z.resolve(null);let r=vi(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=pd(i,null,"F"),r=vi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((f=>{const d=Vt(...f);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((_=>{const v=this.bs(i,p);return this.Ss(i,v,d,_.readTime)?this.gs(e,pd(i,null,"F")):this.Ds(e,v,i,_)}))))})))))}ps(e,i,r,o){return N_(i)||o.isEqual(yt.min())?Z.resolve(null):this.fs.getDocuments(e,r).next((f=>{const d=this.bs(i,f);return this.Ss(i,d,r,o)?Z.resolve(null):(Ar()<=Ut.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Sr(i)),this.Ds(e,d,i,Mb(o,so)).next((p=>p)))}))}bs(e,i){let r=new xe(S0(e));return i.forEach(((o,f)=>{Dc(e,f)&&(r=r.add(f))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}ys(e,i,r){return Ar()<=Ut.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Sr(i)),this.fs.getDocumentsMatchingQuery(e,i,Oa.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((f=>(i.forEach((d=>{f=f.insert(d.key,d)})),f)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="LocalStore",yw=3e8;class _w{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new le(Nt),this.Fs=new Is((f=>qd(f)),Hd),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rw(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function vw(s,e,i,r){return new _w(s,e,i,r)}async function K0(s,e){const i=vt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((f=>(o=f,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((f=>{const d=[],p=[];let _=Vt();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of f){p.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(r,_).next((v=>({Ns:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function Ew(s,e){const i=vt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),f=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,v,A){const b=v.batch,V=b.keys();let Y=Z.resolve();return V.forEach((et=>{Y=Y.next((()=>A.getEntry(_,et))).next((W=>{const it=v.docVersions.get(et);Gt(it!==null,48541),W.version.compareTo(it)<0&&(b.applyToRemoteDocument(W,v),W.isValidDocument()&&(W.setReadTime(v.commitVersion),A.addEntry(W)))}))})),Y.next((()=>p.mutationQueue.removeMutationBatch(_,b)))})(i,r,e,f).next((()=>f.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=Vt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function X0(s){const e=vt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function Tw(s,e){const i=vt(s),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(f=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const p=[];e.targetChanges.forEach(((A,b)=>{const V=o.get(b);if(!V)return;p.push(i.li.removeMatchingKeys(f,A.removedDocuments,b).next((()=>i.li.addMatchingKeys(f,A.addedDocuments,b))));let Y=V.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(b)!==null?Y=Y.withResumeToken(Fe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(A.resumeToken,r)),o=o.insert(b,Y),(function(W,it,gt){return W.resumeToken.approximateByteSize()===0||it.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=yw?!0:gt.addedDocuments.size+gt.modifiedDocuments.size+gt.removedDocuments.size>0})(V,Y,A)&&p.push(i.li.updateTargetData(f,Y))}));let _=Yi(),v=Vt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(f,A))})),p.push(Aw(f,d,e.documentUpdates).next((A=>{_=A.Bs,v=A.Ls}))),!r.isEqual(yt.min())){const A=i.li.getLastRemoteSnapshotVersion(f).next((b=>i.li.setTargetsMetadata(f,f.currentSequenceNumber,r)));p.push(A)}return Z.waitFor(p).next((()=>d.apply(f))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,_,v))).next((()=>_))})).then((f=>(i.vs=o,f)))}function Aw(s,e,i){let r=Vt(),o=Vt();return i.forEach((f=>r=r.add(f))),e.getEntries(s,r).next((f=>{let d=Yi();return i.forEach(((p,_)=>{const v=f.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(yt.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):st($d,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)})),{Bs:d,Ls:o}}))}function Sw(s,e){const i=vt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Bd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function bw(s,e){const i=vt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((f=>f?(o=f,Z.resolve(o)):i.li.allocateTargetId(r).next((d=>(o=new Ca(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function Td(s,e,i){const r=vt(s),o=r.vs.get(e),f=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",f,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Lr(d))throw d;st($d,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function H_(s,e,i){const r=vt(s);let o=yt.min(),f=Vt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,A){const b=vt(_),V=b.Fs.get(A);return V!==void 0?Z.resolve(b.vs.get(V)):b.li.getTargetData(v,A)})(r,d,vi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{f=_}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?o:yt.min(),i?f:Vt()))).next((p=>(ww(r,u2(e),p),{documents:p,ks:f})))))}function ww(s,e,i){let r=s.Ms.get(e)||yt.min();i.forEach(((o,f)=>{f.readTime.compareTo(r)>0&&(r=f.readTime)})),s.Ms.set(e,r)}class G_{constructor(){this.activeTargetIds=g2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rw{constructor(){this.vo=new G_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new G_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="ConnectivityMonitor";class Q_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){st(F_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){st(F_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu=null;function Ad(){return Wu===null?Wu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wu++,"0x"+Wu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h="RestConnection",Iw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Dw{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===fc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,f){const d=Ad(),p=this.Qo(e,i.toUriEncodedString());st($h,`Sending RPC '${e}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,o,f);const{host:v}=new URL(p),A=Id(v);return this.zo(e,p,_,r,A).then((b=>(st($h,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw ws($h,`RPC '${e}' ${d} failed with error: `,b,"url: ",p,"request:",r),b}))}jo(e,i,r,o,f,d){return this.Wo(e,i,r,o,f)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,f)=>e[f]=o)),r&&r.headers.forEach(((o,f)=>e[f]=o))}Qo(e,i){const r=Iw[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection",Ql=(s,e,i)=>{s.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Cr extends Dw{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Cr.c_){const e=Wv();Ql(e,$v.STAT_EVENT,(i=>{i.stat===ud.PROXY?st(Ye,"STAT_EVENT: detected buffering proxy"):i.stat===ud.NOPROXY&&st(Ye,"STAT_EVENT: detected no buffering proxy")})),Cr.c_=!0}}zo(e,i,r,o,f){const d=Ad();return new Promise(((p,_)=>{const v=new Zv;v.setWithCredentials(!0),v.listenOnce(Jv.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case tc.NO_ERROR:const b=v.getResponseJson();st(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),p(b);break;case tc.TIMEOUT:st(Ye,`RPC '${e}' ${d} timed out`),_(new at(X.DEADLINE_EXCEEDED,"Request time out"));break;case tc.HTTP_ERROR:const V=v.getStatus();if(st(Ye,`RPC '${e}' ${d} failed with status:`,V,"response text:",v.getResponseText()),V>0){let Y=v.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const et=Y==null?void 0:Y.error;if(et&&et.status&&et.message){const W=(function(gt){const Et=gt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Et)>=0?Et:X.UNKNOWN})(et.status);_(new at(W,et.message))}else _(new at(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new at(X.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{st(Ye,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);st(Ye,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",A,r,15)}))}T_(e,i,r){const o=Ad(),f=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const v=f.join("");st(Ye,`Creating RPC '${e}' stream ${o}: ${v}`,p);const A=d.createWebChannel(v,p);this.I_(A);let b=!1,V=!1;const Y=new Nw({Ho:et=>{V?st(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,et):(b||(st(Ye,`Opening RPC '${e}' stream ${o} transport.`),A.open(),b=!0),st(Ye,`RPC '${e}' stream ${o} sending:`,et),A.send(et))},Jo:()=>A.close()});return Ql(A,Yl.EventType.OPEN,(()=>{V||(st(Ye,`RPC '${e}' stream ${o} transport opened.`),Y.i_())})),Ql(A,Yl.EventType.CLOSE,(()=>{V||(V=!0,st(Ye,`RPC '${e}' stream ${o} transport closed`),Y.o_(),this.E_(A))})),Ql(A,Yl.EventType.ERROR,(et=>{V||(V=!0,ws(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,et.name,"Message:",et.message),Y.o_(new at(X.UNAVAILABLE,"The operation could not be completed")))})),Ql(A,Yl.EventType.MESSAGE,(et=>{var W;if(!V){const it=et.data[0];Gt(!!it,16349);const gt=it,Et=(gt==null?void 0:gt.error)||((W=gt[0])==null?void 0:W.error);if(Et){st(Ye,`RPC '${e}' stream ${o} received error:`,Et);const pt=Et.status;let Mt=(function(I){const S=we[I];if(S!==void 0)return z0(S)})(pt),Bt=Et.message;pt==="NOT_FOUND"&&Bt.includes("database")&&Bt.includes("does not exist")&&Bt.includes(this.databaseId.database)&&ws(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Mt===void 0&&(Mt=X.INTERNAL,Bt="Unknown error status: "+pt+" with message "+Et.message),V=!0,Y.o_(new at(Mt,Bt)),A.close()}else st(Ye,`RPC '${e}' stream ${o} received:`,it),Y.__(it)}})),Cr.u_(),setTimeout((()=>{Y.s_()}),0),Y}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return t0()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(s){return new Cr(s)}function Wh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(s){return new z2(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr.c_=!1;class Z0{constructor(e,i,r=1e3,o=1.5,f=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=f,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="PersistentStream";class J0{constructor(e,i,r,o,f,d,p,_){this.Ci=e,this.b_=r,this.S_=o,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Z0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Qi(i.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new at(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return st(Y_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(st(Y_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xw extends J0{constructor(e,i,r,o,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=f}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=j2(this.serializer,e),r=(function(f){if(!("targetChange"in f))return yt.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Ei(d.readTime):yt.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=Ed(this.serializer),i.addTarget=(function(f,d){let p;const _=d.target;if(p=md(_)?{documents:P2(f,_)}:{query:q2(f,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=j0(f,d.resumeToken);const v=yd(f,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=gc(f,d.snapshotVersion.toTimestamp());const v=yd(f,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const r=G2(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=Ed(this.serializer),i.removeTarget=e,this.K_(i)}}class Ow extends J0{constructor(e,i,r,o,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=f}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=k2(e.writeResults,e.commitTime),r=Ei(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Ed(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>B2(this.serializer,r)))};this.K_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{}class zw extends Mw{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,d])=>this.connection.Wo(e,_d(i,r),o,f,d))).catch((f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new at(X.UNKNOWN,f.toString())}))}jo(e,i,r,o,f){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,_d(i,r),o,d,p,f))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Uw(s,e,i,r){return new zw(s,e,i,r)}class Lw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qi(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="RemoteStore";class jw{constructor(e,i,r,o,f){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=f,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{Ns(this)&&(st(Rs,"Restarting streams for network reachability change."),await(async function(_){const v=vt(_);v.Ea.add(4),await _o(v),v.Va.set("Unknown"),v.Ea.delete(4),await Mc(v)})(this))}))})),this.Va=new Lw(r,o)}}async function Mc(s){if(Ns(s))for(const e of s.Ra)await e(!0)}async function _o(s){for(const e of s.Ra)await e(!1)}function $0(s,e){const i=vt(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),nm(i)?em(i):Br(i).O_()&&tm(i,e))}function Wd(s,e){const i=vt(s),r=Br(i);i.Ia.delete(e),r.O_()&&W0(i,e),i.Ia.size===0&&(r.O_()?r.L_():Ns(i)&&i.Va.set("Unknown"))}function tm(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Br(s).Z_(e)}function W0(s,e){s.da.$e(e),Br(s).X_(e)}function em(s){s.da=new V2({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Br(s).start(),s.Va.ua()}function nm(s){return Ns(s)&&!Br(s).x_()&&s.Ia.size>0}function Ns(s){return vt(s).Ea.size===0}function tE(s){s.da=void 0}async function Bw(s){s.Va.set("Online")}async function kw(s){s.Ia.forEach(((e,i)=>{tm(s,e)}))}async function Pw(s,e){tE(s),nm(s)?(s.Va.ha(e),em(s)):s.Va.set("Unknown")}async function qw(s,e,i){if(s.Va.set("Online"),e instanceof L0&&e.state===2&&e.cause)try{await(async function(o,f){const d=f.cause;for(const p of f.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(s,e)}catch(r){st(Rs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yc(s,r)}else if(e instanceof ac?s.da.Xe(e):e instanceof U0?s.da.st(e):s.da.tt(e),!i.isEqual(yt.min()))try{const r=await X0(s.localStore);i.compareTo(r)>=0&&await(function(f,d){const p=f.da.Tt(d);return p.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=f.Ia.get(v);A&&f.Ia.set(v,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,v)=>{const A=f.Ia.get(_);if(!A)return;f.Ia.set(_,A.withResumeToken(Fe.EMPTY_BYTE_STRING,A.snapshotVersion)),W0(f,_);const b=new Ca(A.target,_,v,A.sequenceNumber);tm(f,b)})),f.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){st(Rs,"Failed to raise snapshot:",r),await yc(s,r)}}async function yc(s,e,i){if(!Lr(e))throw e;s.Ea.add(1),await _o(s),s.Va.set("Offline"),i||(i=()=>X0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{st(Rs,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Mc(s)}))}function eE(s,e){return e().catch((i=>yc(s,i,e)))}async function zc(s){const e=vt(s),i=La(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bd;for(;Hw(e);)try{const o=await Sw(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,Gw(e,o)}catch(o){await yc(e,o)}nE(e)&&iE(e)}function Hw(s){return Ns(s)&&s.Ta.length<10}function Gw(s,e){s.Ta.push(e);const i=La(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function nE(s){return Ns(s)&&!La(s).x_()&&s.Ta.length>0}function iE(s){La(s).start()}async function Fw(s){La(s).ra()}async function Qw(s){const e=La(s);for(const i of s.Ta)e.ea(i.mutations)}async function Yw(s,e,i){const r=s.Ta.shift(),o=Qd.from(r,e,i);await eE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await zc(s)}async function Kw(s,e){e&&La(s).Y_&&await(async function(r,o){if((function(d){return I2(d)&&d!==X.ABORTED})(o.code)){const f=r.Ta.shift();La(r).B_(),await eE(r,(()=>r.remoteSyncer.rejectFailedWrite(f.batchId,o))),await zc(r)}})(s,e),nE(s)&&iE(s)}async function K_(s,e){const i=vt(s);i.asyncQueue.verifyOperationInProgress(),st(Rs,"RemoteStore received new credentials");const r=Ns(i);i.Ea.add(3),await _o(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Mc(i)}async function Xw(s,e){const i=vt(s);e?(i.Ea.delete(2),await Mc(i)):e||(i.Ea.add(2),await _o(i),i.Va.set("Unknown"))}function Br(s){return s.ma||(s.ma=(function(i,r,o){const f=vt(i);return f.sa(),new xw(r,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(s.datastore,s.asyncQueue,{Zo:Bw.bind(null,s),Yo:kw.bind(null,s),t_:Pw.bind(null,s),J_:qw.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),nm(s)?em(s):s.Va.set("Unknown")):(await s.ma.stop(),tE(s))}))),s.ma}function La(s){return s.fa||(s.fa=(function(i,r,o){const f=vt(i);return f.sa(),new Ow(r,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Fw.bind(null,s),t_:Kw.bind(null,s),ta:Qw.bind(null,s),na:Yw.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await zc(s)):(await s.fa.stop(),s.Ta.length>0&&(st(Rs,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,i,r,o,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=f,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,f){const d=Date.now()+r,p=new im(e,i,d,o,f);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function am(s,e){if(Qi("AsyncQueue",`${e}: ${s}`),Lr(s))return new at(X.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{static emptySet(e){return new Ir(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ft.comparator(i.key,r.key):(i,r)=>ft.comparator(i.key,r.key),this.keyedMap=Kl(),this.sortedSet=new le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ir)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=r.getNext().key;if(!o.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Ir;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(){this.ga=new le(ft.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):mt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Mr{constructor(e,i,r,o,f,d,p,_,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,o,f){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Mr(e,i,Ir.emptySet(i),d,r,o,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ic(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Jw{constructor(){this.queries=Z_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=vt(i),f=o.queries;o.queries=Z_(),f.forEach(((d,p)=>{for(const _ of p.ba)_.onError(r)}))})(this,new at(X.ABORTED,"Firestore shutting down"))}}function Z_(){return new Is((s=>A0(s)),Ic)}async function $w(s,e){const i=vt(s);let r=3;const o=e.query;let f=i.queries.get(o);f?!f.Sa()&&e.Da()&&(r=2):(f=new Zw,r=e.Da()?0:1);try{switch(r){case 0:f.wa=await i.onListen(o,!0);break;case 1:f.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=am(d,`Initialization of query '${Sr(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,f),f.ba.push(e),e.va(i.onlineState),f.wa&&e.Fa(f.wa)&&sm(i)}async function Ww(s,e){const i=vt(s),r=e.query;let o=3;const f=i.queries.get(r);if(f){const d=f.ba.indexOf(e);d>=0&&(f.ba.splice(d,1),f.ba.length===0?o=e.Da()?0:1:!f.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function tR(s,e){const i=vt(s);let r=!1;for(const o of e){const f=o.query,d=i.queries.get(f);if(d){for(const p of d.ba)p.Fa(o)&&(r=!0);d.wa=o}}r&&sm(i)}function eR(s,e,i){const r=vt(s),o=r.queries.get(e);if(o)for(const f of o.ba)f.onError(i);r.queries.delete(e)}function sm(s){s.Ca.forEach((e=>{e.next()}))}var Sd,J_;(J_=Sd||(Sd={})).Ma="default",J_.Cache="cache";class nR{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Mr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Mr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e){this.key=e}}class sE{constructor(e){this.key=e}}class iR{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Vt(),this.mutatedKeys=Vt(),this.eu=S0(e),this.tu=new Ir(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new X_,o=i?i.tu:this.tu;let f=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,b)=>{const V=o.get(A),Y=Dc(this.query,b)?b:null,et=!!V&&this.mutatedKeys.has(V.key),W=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let it=!1;V&&Y?V.data.isEqual(Y.data)?et!==W&&(r.track({type:3,doc:Y}),it=!0):this.su(V,Y)||(r.track({type:2,doc:Y}),it=!0,(_&&this.eu(Y,_)>0||v&&this.eu(Y,v)<0)&&(p=!0)):!V&&Y?(r.track({type:0,doc:Y}),it=!0):V&&!Y&&(r.track({type:1,doc:V}),it=!0,(_||v)&&(p=!0)),it&&(Y?(d=d.add(Y),f=W?f.add(A):f.delete(A)):(d=d.delete(A),f=f.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),f=f.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Ss:p,mutatedKeys:f}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const f=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,b)=>(function(Y,et){const W=it=>{switch(it){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Vt:it})}};return W(Y)-W(et)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],_=this.Ya.size===0&&this.current&&!o?1:0,v=_!==this.Xa;return this.Xa=_,d.length!==0||v?{snapshot:new Mr(this.query,e.tu,f,d,e.mutatedKeys,_===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new X_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Vt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new sE(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new aE(r))})),i}cu(e){this.Za=e.ks,this.Ya=Vt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Mr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const rm="SyncEngine";class aR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class sR{constructor(e){this.key=e,this.hu=!1}}class rR{constructor(e,i,r,o,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Is((p=>A0(p)),Ic),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(ft.comparator),this.Au=new Map,this.Vu=new Xd,this.du={},this.mu=new Map,this.fu=Or.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lR(s,e,i=!0){const r=fE(s);let o;const f=r.Tu.get(e);return f?(r.sharedClientState.addLocalQueryTarget(f.targetId),o=f.view.lu()):o=await rE(r,e,i,!0),o}async function oR(s,e){const i=fE(s);await rE(i,e,!0,!1)}async function rE(s,e,i,r){const o=await bw(s.localStore,vi(e)),f=o.targetId,d=s.sharedClientState.addLocalQueryTarget(f,i);let p;return r&&(p=await uR(s,e,f,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&$0(s.remoteStore,o),p}async function uR(s,e,i,r,o){s.pu=(b,V,Y)=>(async function(W,it,gt,Et){let pt=it.view.ru(gt);pt.Ss&&(pt=await H_(W.localStore,it.query,!1).then((({documents:I})=>it.view.ru(I,pt))));const Mt=Et&&Et.targetChanges.get(it.targetId),Bt=Et&&Et.targetMismatches.get(it.targetId)!=null,wt=it.view.applyChanges(pt,W.isPrimaryClient,Mt,Bt);return W_(W,it.targetId,wt.au),wt.snapshot})(s,b,V,Y);const f=await H_(s.localStore,e,!0),d=new iR(e,f.ks),p=d.ru(f.documents),_=yo.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),v=d.applyChanges(p,s.isPrimaryClient,_);W_(s,i,v.au);const A=new aR(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),v.snapshot}async function cR(s,e,i){const r=vt(s),o=r.Tu.get(e),f=r.Iu.get(o.targetId);if(f.length>1)return r.Iu.set(o.targetId,f.filter((d=>!Ic(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Td(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Wd(r.remoteStore,o.targetId),bd(r,o.targetId)})).catch(Ur)):(bd(r,o.targetId),await Td(r.localStore,o.targetId,!0))}async function fR(s,e){const i=vt(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Wd(i.remoteStore,r.targetId))}async function hR(s,e,i){const r=vR(s);try{const o=await(function(d,p){const _=vt(d),v=ie.now(),A=p.reduce(((Y,et)=>Y.add(et.key)),Vt());let b,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let et=Yi(),W=Vt();return _.xs.getEntries(Y,A).next((it=>{et=it,et.forEach(((gt,Et)=>{Et.isValidDocument()||(W=W.add(gt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Y,et))).next((it=>{b=it;const gt=[];for(const Et of p){const pt=S2(Et,b.get(Et.key).overlayedDocument);pt!=null&&gt.push(new Ds(Et.key,pt,m0(pt.value.mapValue),Hi.exists(!0)))}return _.mutationQueue.addMutationBatch(Y,v,gt,p)})).next((it=>{V=it;const gt=it.applyToLocalDocumentSet(b,W);return _.documentOverlayCache.saveOverlays(Y,it.batchId,gt)}))})).then((()=>({batchId:V.batchId,changes:w0(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,_){let v=d.du[d.currentUser.toKey()];v||(v=new le(Nt)),v=v.insert(p,_),d.du[d.currentUser.toKey()]=v})(r,o.batchId,i),await vo(r,o.changes),await zc(r.remoteStore)}catch(o){const f=am(o,"Failed to persist write");i.reject(f)}}async function lE(s,e){const i=vt(s);try{const r=await Tw(i.localStore,e);e.targetChanges.forEach(((o,f)=>{const d=i.Au.get(f);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Gt(d.hu,14607):o.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await vo(i,r,e)}catch(r){await Ur(r)}}function $_(s,e,i){const r=vt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((f,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const _=vt(d);_.onlineState=p;let v=!1;_.queries.forEach(((A,b)=>{for(const V of b.ba)V.va(p)&&(v=!0)})),v&&sm(_)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dR(s,e,i){const r=vt(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),f=o&&o.key;if(f){let d=new le(ft.comparator);d=d.insert(f,Xe.newNoDocument(f,yt.min()));const p=Vt().add(f),_=new xc(yt.min(),new Map,new le(Nt),d,p);await lE(r,_),r.Ru=r.Ru.remove(f),r.Au.delete(e),lm(r)}else await Td(r.localStore,e,!1).then((()=>bd(r,e,i))).catch(Ur)}async function mR(s,e){const i=vt(s),r=e.batch.batchId;try{const o=await Ew(i.localStore,e);uE(i,r,null),oE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await vo(i,o)}catch(o){await Ur(o)}}async function gR(s,e,i){const r=vt(s);try{const o=await(function(d,p){const _=vt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return _.mutationQueue.lookupMutationBatch(v,p).next((b=>(Gt(b!==null,37113),A=b.keys(),_.mutationQueue.removeMutationBatch(v,b)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>_.localDocuments.getDocuments(v,A)))}))})(r.localStore,e);uE(r,e,i),oE(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await vo(r,o)}catch(o){await Ur(o)}}function oE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function uE(s,e,i){const r=vt(s);let o=r.du[r.currentUser.toKey()];if(o){const f=o.get(e);f&&(i?f.reject(i):f.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function bd(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||cE(s,r)}))}function cE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(Wd(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),lm(s))}function W_(s,e,i){for(const r of i)r instanceof aE?(s.Vu.addReference(r.key,e),pR(s,r)):r instanceof sE?(st(rm,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||cE(s,r.key)):mt(19791,{wu:r})}function pR(s,e){const i=e.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(st(rm,"New document in limbo: "+i),s.Eu.add(r),lm(s))}function lm(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ft(te.fromString(e)),r=s.fu.next();s.Au.set(r,new sR(i)),s.Ru=s.Ru.insert(i,r),$0(s.remoteStore,new Ca(vi(Gd(i.path)),r,"TargetPurposeLimboResolution",wc.ce))}}async function vo(s,e,i){const r=vt(s),o=[],f=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,e,i).then((v=>{var A;if((v||i)&&r.isPrimaryClient){const b=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))==null?void 0:A.current;r.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(v){o.push(v);const b=Jd.Es(_.targetId,v);f.push(b)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(_,v){const A=vt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(v,(V=>Z.forEach(V.Ts,(Y=>A.persistence.referenceDelegate.addReference(b,V.targetId,Y))).next((()=>Z.forEach(V.Is,(Y=>A.persistence.referenceDelegate.removeReference(b,V.targetId,Y)))))))))}catch(b){if(!Lr(b))throw b;st($d,"Failed to update sequence numbers: "+b)}for(const b of v){const V=b.targetId;if(!b.fromCache){const Y=A.vs.get(V),et=Y.snapshotVersion,W=Y.withLastLimboFreeSnapshotVersion(et);A.vs=A.vs.insert(V,W)}}})(r.localStore,f))}async function yR(s,e){const i=vt(s);if(!i.currentUser.isEqual(e)){st(rm,"User change. New user:",e.toKey());const r=await K0(i.localStore,e);i.currentUser=e,(function(f,d){f.mu.forEach((p=>{p.forEach((_=>{_.reject(new at(X.CANCELLED,d))}))})),f.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vo(i,r.Ns)}}function _R(s,e){const i=vt(s),r=i.Au.get(e);if(r&&r.hu)return Vt().add(r.key);{let o=Vt();const f=i.Iu.get(e);if(!f)return o;for(const d of f){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function fE(s){const e=vt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=lE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_R.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dR.bind(null,e),e.Pu.J_=tR.bind(null,e.eventManager),e.Pu.yu=eR.bind(null,e.eventManager),e}function vR(s){const e=vt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gR.bind(null,e),e}class _c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return vw(this.persistence,new pw,e.initialUser,this.serializer)}Cu(e){return new Y0(Zd.Vi,this.serializer)}Du(e){return new Rw}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_c.provider={build:()=>new _c};class ER extends _c{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Gt(this.persistence.referenceDelegate instanceof pc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ew(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new Y0((r=>pc.Vi(r,i)),this.serializer)}}class wd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yR.bind(null,this.syncEngine),await Xw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Jw})()}createDatastore(e){const i=Oc(e.databaseInfo.databaseId),r=Vw(e.databaseInfo);return Uw(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,f,d,p){return new jw(r,o,f,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>$_(this.syncEngine,i,0)),(function(){return Q_.v()?new Q_:new Cw})())}createSyncEngine(e,i){return(function(o,f,d,p,_,v,A){const b=new rR(o,f,d,p,_,v);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const f=vt(o);st(Rs,"RemoteStore shutting down."),f.Ea.add(5),await _o(f),f.Aa.shutdown(),f.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}wd.provider={build:()=>new wd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="FirestoreClient";class AR{constructor(e,i,r,o,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=jd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(r,(async d=>{st(ja,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(st(ja,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=am(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function td(s,e){s.asyncQueue.verifyOperationInProgress(),st(ja,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await K0(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function tv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await SR(s);st(ja,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>K_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>K_(e.remoteStore,o))),s._onlineComponents=e}async function SR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(ja,"Using user provided OfflineComponentProvider");try{await td(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;ws("Error using user provided cache. Falling back to memory cache: "+i),await td(s,new _c)}}else st(ja,"Using default OfflineComponentProvider"),await td(s,new ER(void 0));return s._offlineComponents}async function hE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(ja,"Using user provided OnlineComponentProvider"),await tv(s,s._uninitializedComponentsProvider._online)):(st(ja,"Using default OnlineComponentProvider"),await tv(s,new wd))),s._onlineComponents}function bR(s){return hE(s).then((e=>e.syncEngine))}async function ev(s){const e=await hE(s),i=e.eventManager;return i.onListen=lR.bind(null,e.syncEngine),i.onUnlisten=cR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=oR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=fR.bind(null,e.syncEngine),i}function wR(s,e,i,r){const o=new TR(r),f=new nR(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>$w(await ev(s),f))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>Ww(await ev(s),f)))}}function RR(s,e){const i=new Es;return s.asyncQueue.enqueueAndForget((async()=>hR(await bR(s),e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="ComponentProvider",nv=new Map;function IR(s,e,i,r,o){return new Gb(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,dE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="firestore.googleapis.com",iv=!0;class av{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mE,this.ssl=iv}else this.host=e.host,this.ssl=e.ssl??iv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Q0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<W2)throw new at(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ob("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new av(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Sb;switch(r.type){case"firstParty":return new Cb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new at(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=nv.get(i);r&&(st(CR,"Removing Datastore"),nv.delete(i),r.terminate())})(this),Promise.resolve()}}function DR(s,e,i,r={}){var v;s=$l(s,Uc);const o=Id(e),f=s._getSettings(),d={...f,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(C1(`https://${p}`),V1("Firestore",!0)),f.host!==mE&&f.host!==p&&ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...f,host:p,ssl:o,emulatorOptions:r};if(!io(_,d)&&(s._setSettings(_),r.mockUserToken)){let A,b;if(typeof r.mockUserToken=="string")A=r.mockUserToken,b=Ke.MOCK_USER;else{A=I1(r.mockUserToken,(v=s._app)==null?void 0:v.options.projectId);const V=r.mockUserToken.sub||r.mockUserToken.user_id;if(!V)throw new at(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ke(V)}s._authCredentials=new bb(new n0(A,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vs(this.firestore,e,this._query)}}class Ve{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ve(this.firestore,e,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(go(i,Ve._jsonSchema))return new Ve(e,r||null,new ft(te.fromString(i.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:Ce("string",Ve._jsonSchemaVersion),referencePath:Ce("string")};class Va extends Vs{constructor(e,i,r){super(e,i,Gd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ve(this.firestore,null,new ft(e))}withConverter(e){return new Va(this.firestore,e,this._path)}}function ed(s,e,...i){if(s=Ai(s),i0("collection","path",e),s instanceof Uc){const r=te.fromString(e,...i);return p_(r),new Va(s,null,r)}{if(!(s instanceof Ve||s instanceof Va))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(te.fromString(e,...i));return p_(r),new Va(s.firestore,null,r)}}function NR(s,e,...i){if(s=Ai(s),arguments.length===1&&(e=jd.newId()),i0("doc","path",e),s instanceof Uc){const r=te.fromString(e,...i);return g_(r),new Ve(s,null,new ft(r))}{if(!(s instanceof Ve||s instanceof Va))throw new at(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(te.fromString(e,...i));return g_(r),new Ve(s.firestore,s instanceof Va?s.converter:null,new ft(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="AsyncQueue";class rv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Z0(this,"async_queue_retry"),this._c=()=>{const r=Wh();r&&st(sv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Wh();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Wh();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Lr(e))throw e;st(sv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Qi("INTERNAL UNHANDLED ERROR: ",lv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=im.createAndSchedule(this,e,i,r,(f=>this.hc(f)));return this.tc.push(o),o}uc(){this.nc&&mt(47125,{Pc:lv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function lv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class vc extends Uc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new rv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rv(e),this._firestoreClient=void 0,await e}}}function VR(s,e){const i=typeof s=="object"?s:wv(),r=typeof s=="string"?s:fc,o=mo(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const f=w1("firestore");f&&DR(o,...f)}return o}function gE(s){if(s._terminated)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||xR(s),s._firestoreClient}function xR(s){var r,o,f,d;const e=s._freezeSettings(),i=IR(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,(o=s._app)==null?void 0:o.options.apiKey,e);s._componentsProvider||(f=e.localCache)!=null&&f._offlineComponentProvider&&((d=e.localCache)!=null&&d._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new AR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(_){const v=_==null?void 0:_._online.build();return{_offline:_==null?void 0:_._offline.build(v),_online:v}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Fe.fromBase64String(e))}catch(i){throw new at(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new On(Fe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(go(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Ce("string",On._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ti._jsonSchemaVersion}}static fromJSON(e){if(go(e,Ti._jsonSchema))return new Ti(e.latitude,e.longitude)}}Ti._jsonSchemaVersion="firestore/geoPoint/1.0",Ti._jsonSchema={type:Ce("string",Ti._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let f=0;f<r.length;++f)if(r[f]!==o[f])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Yn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(go(e,Yn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Yn(e.vectorValues);throw new at(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yn._jsonSchemaVersion="firestore/vectorValue/1.0",Yn._jsonSchema={type:Ce("string",Yn._jsonSchemaVersion),vectorValues:Ce("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=/^__.*__$/;class MR{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ds(e,this.data,this.fieldMask,i,this.fieldTransforms):new po(e,this.data,i,this.fieldTransforms)}}function yE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{dataSource:s})}}class um{constructor(e,i,r,o,f,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,f===void 0&&this.validatePath(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new um({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Ec(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(yE(this.dataSource)&&OR.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class zR{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Oc(e)}createContext(e,i,r,o=!1){return new um({dataSource:e,methodName:i,targetDoc:r,path:Ge.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _E(s){const e=s._freezeSettings(),i=Oc(s._databaseId);return new zR(s._databaseId,!!e.ignoreUndefinedProperties,i)}function UR(s,e,i,r,o,f={}){const d=s.createContext(f.merge||f.mergeFields?2:0,e,i,o);TE("Data must be an object, but it was:",d,r);const p=vE(r,d);let _,v;if(f.merge)_=new Qn(d.fieldMask),v=d.fieldTransforms;else if(f.mergeFields){const A=[];for(const b of f.mergeFields){const V=Lc(e,b,i);if(!d.contains(V))throw new at(X.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);kR(A,V)||A.push(V)}_=new Qn(A),v=d.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,v=d.fieldTransforms;return new MR(new xn(p),_,v)}class cm extends om{_toFieldTransform(e){return new v2(e.path,new co)}isEqual(e){return e instanceof cm}}function LR(s,e,i,r=!1){return fm(i,s.createContext(r?4:3,e))}function fm(s,e){if(EE(s=Ai(s)))return TE("Unsupported field value:",e,s),vE(s,e);if(s instanceof om)return(function(r,o){if(!yE(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const f=r._toFieldTransform(o);f&&o.fieldTransforms.push(f)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const f=[];let d=0;for(const p of r){let _=fm(p,o.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),f.push(_),d++}return{arrayValue:{values:f}}})(s,e)}return(function(r,o){if((r=Ai(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return p2(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const f=ie.fromDate(r);return{timestampValue:gc(o.serializer,f)}}if(r instanceof ie){const f=new ie(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gc(o.serializer,f)}}if(r instanceof Ti)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof On)return{bytesValue:j0(o.serializer,r._byteString)};if(r instanceof Ve){const f=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(f))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Kd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Yn)return(function(d,p){const _=d instanceof Yn?d.toArray():d;return{mapValue:{fields:{[h0]:{stringValue:d0},[hc]:{arrayValue:{values:_.map((A=>{if(typeof A!="number")throw p.createError("VectorValues must only contain numeric values.");return Fd(p.serializer,A)}))}}}}}})(r,o);if(F0(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${bc(r)}`)})(s,e)}function vE(s,e){const i={};return r0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(s,((r,o)=>{const f=fm(o,e.childContextForField(r));f!=null&&(i[r]=f)})),{mapValue:{fields:i}}}function EE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ie||s instanceof Ti||s instanceof On||s instanceof Ve||s instanceof om||s instanceof Yn||F0(s))}function TE(s,e,i){if(!EE(i)||!a0(i)){const r=bc(i);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function Lc(s,e,i){if((e=Ai(e))instanceof pE)return e._internalPath;if(typeof e=="string")return BR(s,e);throw Ec("Field path arguments must be of type string or ",s,!1,void 0,i)}const jR=new RegExp("[~\\*/\\[\\]]");function BR(s,e,i){if(e.search(jR)>=0)throw Ec(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new pE(...e.split("."))._internalPath}catch{throw Ec(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Ec(s,e,i,r,o){const f=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(f||d)&&(_+=" (found",f&&(_+=` in field ${r}`),d&&(_+=` in document ${o}`),_+=")"),new at(X.INVALID_ARGUMENT,p+s+_)}function kR(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{convertValue(e,i="none"){switch(Ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw mt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Cs(e,((o,f)=>{r[o]=this.convertValue(f,i)})),r}convertVectorValue(e){var r,o,f;const i=(f=(o=(r=e.fields)==null?void 0:r[hc].arrayValue)==null?void 0:o.values)==null?void 0:f.map((d=>ge(d.doubleValue)));return new Yn(i)}convertGeoPoint(e){return new Ti(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Cc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(ro(e));default:return null}}convertTimestamp(e){const i=Ma(e);return new ie(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=te.fromString(e);Gt(G0(r),9688,{name:e});const o=new lo(r.get(1),r.get(3)),f=new ft(r.popFirst(5));return o.isEqual(i)||Qi(`Document ${f} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE extends PR{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ve(this.firestore,null,i)}}function qR(){return new cm("serverTimestamp")}const ov="@firebase/firestore",uv="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const f of r)if(f in o&&typeof o[f]=="function")return!0;return!1})(s,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,i,r,o,f){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const i=this._document.data.field(Lc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class HR extends SE{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new at(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hm{}class bE extends hm{}function fv(s,e,...i){let r=[];e instanceof hm&&r.push(e),r=r.concat(i),(function(f){const d=f.filter((_=>_ instanceof mm)).length,p=f.filter((_=>_ instanceof dm)).length;if(d>1||d>0&&p>0)throw new at(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class dm extends bE{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new dm(e,i,r)}_apply(e){const i=this._parse(e);return wE(e._query,i),new Vs(e.firestore,e.converter,gd(e._query,i))}_parse(e){const i=_E(e.firestore);return(function(f,d,p,_,v,A,b){let V;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){dv(b,A);const et=[];for(const W of b)et.push(hv(_,f,W));V={arrayValue:{values:et}}}else V=hv(_,f,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||dv(b,A),V=LR(p,d,b,A==="in"||A==="not-in");return Re.create(v,A,V)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class mm extends hm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new mm(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Kn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,f){let d=o;const p=f.getFlattenedFilters();for(const _ of p)wE(d,_),d=gd(d,_)})(e._query,i),new Vs(e.firestore,e.converter,gd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gm extends bE{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new gm(e,i)}_apply(e){const i=(function(o,f,d){if(o.startAt!==null)throw new at(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new at(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uo(f,d)})(e._query,this._field,this._direction);return new Vs(e.firestore,e.converter,o2(e._query,i))}}function FR(s,e="asc"){const i=e,r=Lc("orderBy",s);return gm._create(r,i)}function hv(s,e,i){if(typeof(i=Ai(i))=="string"){if(i==="")throw new at(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!T0(e)&&i.indexOf("/")!==-1)throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(te.fromString(i));if(!ft.isDocumentKey(r))throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return b_(s,new ft(r))}if(i instanceof Ve)return b_(s,i._key);throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bc(i)}.`)}function dv(s,e){if(!Array.isArray(s)||s.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wE(s,e){const i=(function(o,f){for(const d of o)for(const p of d.getFlattenedFilters())if(f.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new at(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function QR(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Zl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ts extends SE{constructor(e,i,r,o,f,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Lc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ts._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ts._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ts._jsonSchema={type:Ce("string",Ts._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class sc extends Ts{data(e={}){return super.data(e)}}class Dr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Zl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new sc(this._firestore,this._userDataWriter,r.key,r,new Zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,f){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const _=new sc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Zl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>f||p.type!==3)).map((p=>{const _=new sc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Zl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:YR(p.type),doc:_,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Dr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((f=>{f._document!==null&&(i.push(f._document),r.push(this._userDataWriter.convertObjectMap(f._document.data.value.mapValue.fields,"previous")),o.push(f.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function YR(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:s})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dr._jsonSchemaVersion="firestore/querySnapshot/1.0",Dr._jsonSchema={type:Ce("string",Dr._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};function KR(s,e){const i=$l(s.firestore,vc),r=NR(s),o=QR(s.converter,e),f=_E(s.firestore);return XR(i,[UR(f,"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,Hi.exists(!1))]).then((()=>r))}function mv(s,...e){var v,A,b;s=Ai(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||cv(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(cv(e[r])){const V=e[r];e[r]=(v=V.next)==null?void 0:v.bind(V),e[r+1]=(A=V.error)==null?void 0:A.bind(V),e[r+2]=(b=V.complete)==null?void 0:b.bind(V)}let f,d,p;if(s instanceof Ve)d=$l(s.firestore,vc),p=Gd(s._key.path),f={next:V=>{e[r]&&e[r](ZR(d,s,V))},error:e[r+1],complete:e[r+2]};else{const V=$l(s,Vs);d=$l(V.firestore,vc),p=V._query;const Y=new AE(d);f={next:et=>{e[r]&&e[r](new Dr(d,Y,V,et))},error:e[r+1],complete:e[r+2]},GR(s._query)}const _=gE(d);return wR(_,p,o,f)}function XR(s,e){const i=gE(s);return RR(i,e)}function ZR(s,e,i){const r=i.docs.get(e._key),o=new AE(s);return new Ts(s,o,e._key,r,new Zl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){Ab(qA),xa(new Gi("firestore",((r,{instanceIdentifier:o,options:f})=>{const d=r.getProvider("app").getImmediate(),p=new vc(new wb(r.getProvider("auth-internal")),new Ib(d,r.getProvider("app-check-internal")),Fb(d,o),d);return f={useFetchStreams:i,...f},p._setSettings(f),p}),"PUBLIC").setMultipleInstances(!0)),_i(ov,uv,e),_i(ov,uv,"esm2020")})();const JR={apiKey:"AIzaSyCHAcUzQZe-D8Uk_HV5CgxouLmS5gsoneo",authDomain:"vellor-scents.firebaseapp.com",projectId:"vellor-scents",storageBucket:"vellor-scents.firebasestorage.app",messagingSenderId:"250314839857",appId:"1:250314839857:web:837e8f9226170cada88210",measurementId:"G-N9YNRHL9V2"},RE=bv(JR);yb(RE);const nd=VR(RE),$R=[{id:"1",name:"Vellor Rose Oud",brand:"Vellor Scents",category:"Oriental",price:145,stock:24,imageUrl:"https://images.unsplash.com/photo-1541643600914-78b084683601?auto=format&fit=crop&q=80&w=600",description:"A deep, mysterious blend of velvet rose and precious oud wood, creating an atmosphere of regal elegance.",topNotes:["Damask Rose","Saffron"],middleNotes:["Oud Wood","Praline"],baseNotes:["Vanilla","Clove"]},{id:"2",name:"Azure Breeze",brand:"Vellor Scents",category:"Fresh",price:110,stock:12,imageUrl:"https://images.unsplash.com/photo-1594035910387-fea47794261f?auto=format&fit=crop&q=80&w=600",description:"The crisp air of the Mediterranean coast, captured in a bottle. Sparkling citrus and salty sea spray.",topNotes:["Bergamot","Lemon"],middleNotes:["Sea Salt","Neroli"],baseNotes:["White Musk","Ambergris"]},{id:"3",name:"Sandalwood Sanctum",brand:"Vellor Scents",category:"Woody",price:130,stock:5,imageUrl:"https://images.unsplash.com/photo-1592945403244-b3fbafd7f539?auto=format&fit=crop&q=80&w=600",description:"A spiritual journey through ancient forests. Warm, creamy sandalwood mixed with sacred incense.",topNotes:["Cardamom","Violet"],middleNotes:["Sandalwood","Papyrus"],baseNotes:["Cedar","Leather"]}],WR=({product:s,onClose:e,onAddToCart:i})=>s?H.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:e,children:H.jsx("div",{className:"bg-[#fcfcfa] max-w-lg w-full max-h-[90vh] overflow-y-auto rounded-sm border border-[#c5a059]/20 shadow-2xl",onClick:r=>r.stopPropagation(),children:H.jsxs("div",{className:"p-8",children:[H.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-black text-2xl",children:""}),H.jsx("div",{className:"aspect-[3/4] overflow-hidden bg-white mb-6",children:H.jsx("img",{src:s.imageUrl,alt:s.name,className:"w-full h-full object-cover"})}),H.jsx("p",{className:"text-[10px] uppercase tracking-[0.4em] text-[#c5a059] font-bold mb-2",children:s.category}),H.jsx("h3",{className:"text-2xl font-serif font-bold mb-2",children:s.name}),H.jsx("p",{className:"text-gray-700 text-sm mb-4",children:s.description}),H.jsx("p",{className:"text-[10px] uppercase font-bold text-gray-500 mb-2",children:"Notes"}),H.jsxs("p",{className:"text-[10px] text-gray-600 mb-4",children:["Top: ",s.topNotes.join(", "),"  Mid: ",s.middleNotes.join(", "),"  Base: ",s.baseNotes.join(", ")]}),H.jsxs("p",{className:"text-xl font-medium text-gray-900 mb-6",children:["PKR ",s.price.toLocaleString()]}),H.jsx("button",{onClick:()=>i(s),className:"w-full bg-black text-white py-4 text-[10px] font-bold uppercase tracking-[0.4em] hover:bg-[#c5a059]",children:"Add to Cart"})]})})}):null,tC=({isOpen:s,onClose:e,items:i,onRemove:r,onUpdateQuantity:o,onCheckout:f})=>{if(!s)return null;const d=i.reduce((p,_)=>p+_.price*_.quantity,0);return H.jsx("div",{className:"fixed inset-0 z-50 flex justify-end",onClick:e,children:H.jsx("div",{className:"w-full max-w-md bg-[#fcfcfa] border-l border-[#c5a059]/20 shadow-2xl overflow-y-auto",onClick:p=>p.stopPropagation(),children:H.jsxs("div",{className:"p-6",children:[H.jsxs("div",{className:"flex justify-between items-center mb-6",children:[H.jsx("h2",{className:"text-lg font-serif font-bold uppercase tracking-widest",children:"Your Cart"}),H.jsx("button",{onClick:e,className:"text-gray-500 hover:text-black text-2xl",children:""})]}),i.length===0?H.jsx("p",{className:"text-gray-500 text-sm",children:"Your cart is empty."}):H.jsxs(H.Fragment,{children:[H.jsx("ul",{className:"space-y-4 mb-6",children:i.map(p=>H.jsxs("li",{className:"flex gap-4 border-b border-[#c5a059]/10 pb-4",children:[H.jsx("div",{className:"w-16 h-20 flex-shrink-0 bg-white overflow-hidden",children:H.jsx("img",{src:p.imageUrl,alt:p.name,className:"w-full h-full object-cover"})}),H.jsxs("div",{className:"flex-1 min-w-0",children:[H.jsx("p",{className:"text-[10px] font-serif font-bold truncate",children:p.name}),H.jsxs("p",{className:"text-[10px] text-[#c5a059]",children:["PKR ",p.price.toLocaleString(),"  ",p.quantity]}),H.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[H.jsx("button",{onClick:()=>o(p.id,-1),className:"w-6 h-6 border border-[#c5a059]/30 text-[10px] font-bold",children:""}),H.jsx("span",{className:"text-[10px] w-6 text-center",children:p.quantity}),H.jsx("button",{onClick:()=>o(p.id,1),className:"w-6 h-6 border border-[#c5a059]/30 text-[10px] font-bold",children:"+"}),H.jsx("button",{onClick:()=>r(p.id),className:"text-[9px] text-red-600 ml-2 uppercase",children:"Remove"})]})]})]},p.id))}),H.jsxs("p",{className:"text-sm font-bold mb-4",children:["Total: PKR ",d.toLocaleString()]}),H.jsx("button",{onClick:f,className:"w-full bg-black text-white py-4 text-[10px] font-bold uppercase tracking-[0.4em] hover:bg-[#c5a059]",children:"Checkout"})]})]})})})},eC=({isOpen:s,onClose:e,total:i,onConfirm:r})=>{const[o,f]=Ht.useState(""),[d,p]=Ht.useState(""),[_,v]=Ht.useState(""),[A,b]=Ht.useState(""),[V,Y]=Ht.useState(""),et=W=>{W.preventDefault(),r(o,d,_,A,V)};return s?H.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:e,children:H.jsxs("div",{className:"bg-[#fcfcfa] max-w-md w-full rounded-sm border border-[#c5a059]/20 shadow-2xl p-8",onClick:W=>W.stopPropagation(),children:[H.jsxs("div",{className:"flex justify-between items-center mb-6",children:[H.jsx("h2",{className:"text-lg font-serif font-bold uppercase tracking-widest",children:"Checkout"}),H.jsx("button",{onClick:e,className:"text-gray-500 hover:text-black text-2xl",children:""})]}),H.jsxs("p",{className:"text-sm font-bold mb-6",children:["Total: PKR ",i.toLocaleString()]}),H.jsxs("form",{onSubmit:et,className:"space-y-4",children:[H.jsx("input",{type:"text",placeholder:"Full Name",value:o,onChange:W=>f(W.target.value),required:!0,className:"w-full bg-transparent border-b border-[#dcd0ad] py-2 text-[10px] tracking-widest focus:outline-none"}),H.jsx("input",{type:"tel",placeholder:"WhatsApp Number",value:d,onChange:W=>p(W.target.value),required:!0,className:"w-full bg-transparent border-b border-[#dcd0ad] py-2 text-[10px] tracking-widest focus:outline-none"}),H.jsx("input",{type:"text",placeholder:"Address",value:_,onChange:W=>v(W.target.value),required:!0,className:"w-full bg-transparent border-b border-[#dcd0ad] py-2 text-[10px] tracking-widest focus:outline-none"}),H.jsx("input",{type:"text",placeholder:"Postal Code",value:A,onChange:W=>b(W.target.value),className:"w-full bg-transparent border-b border-[#dcd0ad] py-2 text-[10px] tracking-widest focus:outline-none"}),H.jsx("input",{type:"url",placeholder:"Transaction screenshot URL (optional)",value:V,onChange:W=>Y(W.target.value),className:"w-full bg-transparent border-b border-[#dcd0ad] py-2 text-[10px] tracking-widest focus:outline-none"}),H.jsx("button",{type:"submit",className:"w-full bg-black text-white py-4 text-[10px] font-bold uppercase tracking-[0.4em] hover:bg-[#c5a059]",children:"Place Order"})]})]})}):null},nC=({perfumes:s,orders:e})=>H.jsxs("div",{className:"max-w-6xl mx-auto space-y-12",children:[H.jsx("h2",{className:"text-2xl font-serif font-bold uppercase tracking-widest text-[#c5a059]",children:"Studio Dashboard"}),H.jsxs("section",{children:[H.jsxs("h3",{className:"text-sm font-bold uppercase tracking-widest text-gray-700 mb-4",children:["Collection (",s.length,")"]}),H.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(i=>H.jsxs("div",{className:"border border-[#c5a059]/20 rounded-sm p-4 bg-[#fcfcfa]/80",children:[H.jsx("div",{className:"aspect-[3/4] overflow-hidden bg-white mb-3",children:H.jsx("img",{src:i.imageUrl,alt:i.name,className:"w-full h-full object-cover"})}),H.jsx("p",{className:"text-[10px] font-serif font-bold",children:i.name}),H.jsxs("p",{className:"text-[9px] text-[#c5a059]",children:["PKR ",i.price.toLocaleString(),"  Stock: ",i.stock]})]},i.id))})]}),H.jsxs("section",{children:[H.jsxs("h3",{className:"text-sm font-bold uppercase tracking-widest text-gray-700 mb-4",children:["Orders (",e.length,")"]}),H.jsx("div",{className:"border border-[#c5a059]/20 rounded-sm overflow-hidden bg-[#fcfcfa]/80",children:e.length===0?H.jsx("p",{className:"p-6 text-gray-500 text-sm",children:"No orders yet."}):H.jsx("ul",{className:"divide-y divide-[#c5a059]/10",children:e.map(i=>H.jsxs("li",{className:"p-6",children:[H.jsxs("p",{className:"text-[10px] font-bold",children:[i.customerName??"","  ",i.date??""]}),H.jsxs("p",{className:"text-[9px] text-gray-600",children:[i.whatsappNumber,"  ",i.address]}),H.jsxs("p",{className:"text-[9px] text-[#c5a059]",children:["PKR ",typeof i.totalAmount=="number"?i.totalAmount.toLocaleString():i.totalAmount,"  ",i.status]})]},i.id))})})]})]});function iC(s){try{const i=s.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(window.atob(i).split("").map(o=>"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(r)}catch{return null}}const aC=()=>{const[s,e]=Ht.useState($R),[i,r]=Ht.useState([]),[o,f]=Ht.useState(!1),[d,p]=Ht.useState(null),[_,v]=Ht.useState(""),[A,b]=Ht.useState(""),[V,Y]=Ht.useState([]),[et,W]=Ht.useState(null),[it,gt]=Ht.useState(!1),[Et,pt]=Ht.useState(!1),[Mt,Bt]=Ht.useState(!1),[wt,I]=Ht.useState(""),[S,C]=Ht.useState(!1),O=Ht.useRef(null),D=Ht.useRef(null),[z,w]=Ht.useState(""),[$t,ce]=Ht.useState("");Ht.useEffect(()=>{const U=fv(ed(nd,"perfumes")),J=mv(U,$=>{if(!$.empty){const lt=$.docs.map(ht=>({id:ht.id,...ht.data()}));e(lt)}},$=>console.error("Perfume Sync Error:",$));return()=>J()},[]),Ht.useEffect(()=>{const U=fv(ed(nd,"orders"),FR("createdAt","desc")),J=mv(U,$=>{const lt=$.docs.map(ht=>{var Tt;return{id:ht.id,...ht.data(),date:(Tt=ht.data().createdAt)!=null&&Tt.toDate?ht.data().createdAt.toDate().toLocaleString():"Just now"}});r(lt)},$=>console.error("Order Sync Error:",$));return()=>J()},[]),Ht.useEffect(()=>{if(!o&&!Mt){const U=()=>{window.google?(window.google.accounts.id.initialize({client_id:"689215905696-2u3eak8vjj1jhlof67qpsrc6iufj9gg1.apps.googleusercontent.com",callback:J=>{const $=iC(J.credential);$&&(f(!0),p("customer"),v($.email),b($.name||$.given_name||"Valued Client"))}}),D.current&&window.google.accounts.id.renderButton(D.current,{theme:"outline",size:"large",width:"100%"})):setTimeout(U,100)};U()}},[o,Mt]),Ht.useEffect(()=>{const U=J=>{O.current&&!O.current.contains(J.target)&&C(!1)};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]);const G=Ht.useMemo(()=>V.reduce((U,J)=>U+J.price*J.quantity,0),[V]),nt=Ht.useMemo(()=>{const U=wt.toLowerCase().trim();return U?s.filter(J=>`${J.name} ${J.category} ${J.brand}`.toLowerCase().includes(U)):s},[wt,s]),ut=Ht.useMemo(()=>wt.length>1?nt.slice(0,5):[],[nt,wt]),xt=U=>{U.preventDefault(),z==="admin@vellorscents.com"&&$t==="VellorAdmin2025"?(f(!0),p("admin"),Bt(!0)):alert("Authentication error.")},kt=U=>{Y(J=>J.find(lt=>lt.id===U.id)?J.map(lt=>lt.id===U.id?{...lt,quantity:lt.quantity+1}:lt):[...J,{...U,quantity:1}]),gt(!0)},x=async(U,J,$,lt,ht)=>{try{await KR(ed(nd,"orders"),{customerName:U,customerEmail:_||"guest",whatsappNumber:J,address:$,postalCode:lt,items:V.map(Tt=>`${Tt.name} (${Tt.quantity})`),totalAmount:G,status:"pending",processedByN8N:!1,transactionScreenshot:ht,createdAt:qR()}),Y([]),pt(!1),alert("Luxury Order Confirmed!")}catch(Tt){console.error("Cloud Error:",Tt),alert("Order failed. Please check your connection.")}};return o?H.jsxs("div",{className:"min-h-screen luxury-fade-bg text-gray-900 font-sans selection:bg-[#c5a059] selection:text-white transition-colors duration-1000",children:[H.jsx("nav",{className:"fixed top-0 w-full bg-[#e6dcbe]/60 backdrop-blur-xl z-40 border-b border-[#c5a059]/20",children:H.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:H.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center h-auto md:h-24 py-4 md:py-0",children:[H.jsxs("div",{className:"w-full md:w-1/4",children:[H.jsxs("button",{onClick:()=>f(!1),className:"text-[9px] font-bold uppercase tracking-[0.3em] text-gray-500 hover:text-black",children:["Logout ",d==="admin"&&"(Admin)"]}),A&&H.jsxs("div",{className:"text-[8px] uppercase tracking-widest text-[#c5a059] mt-1 font-bold",children:["Welcome, ",A]})]}),H.jsxs("div",{className:"flex-1 text-center py-4",children:[H.jsx("h1",{className:"text-2xl md:text-3xl font-serif font-bold tracking-[0.5em] uppercase cursor-pointer",onClick:()=>Bt(!1),children:"Vellor Scents"}),H.jsx("span",{className:"text-[9px] tracking-[0.8em] text-[#c5a059] uppercase font-bold block",children:"Artisanal Essences"}),!Mt&&H.jsxs("div",{ref:O,className:"mt-4 relative inline-block w-full max-w-xs px-8",children:[H.jsx("input",{type:"text",placeholder:"FIND AN ESSENCE...",value:wt,onFocus:()=>C(!0),onChange:U=>I(U.target.value),className:"bg-transparent border-b border-[#c5a059]/10 focus:border-[#c5a059] pb-1 text-[10px] tracking-[0.2em] w-full focus:outline-none"}),S&&ut.length>0&&H.jsx("div",{className:"absolute top-full left-0 w-full bg-[#fcfcfa] shadow-2xl border border-[#c5a059]/10 rounded-sm z-50 overflow-hidden",children:ut.map(U=>H.jsxs("div",{onClick:()=>{W(U),C(!1)},className:"flex items-center p-4 hover:bg-[#e6dcbe]/30 cursor-pointer",children:[H.jsx("div",{className:"w-10 h-12 bg-white mr-4",children:H.jsx("img",{src:U.imageUrl,alt:U.name,className:"w-full h-full object-cover"})}),H.jsxs("div",{className:"text-left",children:[H.jsx("p",{className:"text-[10px] font-serif font-bold",children:U.name}),H.jsx("p",{className:"text-[8px] text-[#c5a059] uppercase font-bold",children:U.category})]})]},U.id))})]})]}),H.jsxs("div",{className:"w-full md:w-1/4 flex justify-end items-center space-x-8",children:[d==="admin"&&H.jsx("button",{onClick:()=>Bt(!Mt),className:"text-[9px] font-bold uppercase tracking-[0.3em] text-[#c5a059]",children:Mt?"Storefront":"Studio"}),H.jsxs("button",{onClick:()=>gt(!0),className:"relative group",children:[H.jsx("svg",{className:"w-7 h-7 text-gray-800 group-hover:text-[#c5a059]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"0.75",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),V.length>0&&H.jsx("span",{className:"absolute -top-1 -right-1 bg-[#c5a059] text-white text-[9px] font-bold w-4 h-4 rounded-full flex items-center justify-center animate-pulse",children:V.reduce((U,J)=>U+J.quantity,0)})]})]})]})})}),H.jsx("main",{className:"pt-32 pb-24 px-4",children:Mt&&d==="admin"?H.jsx(nC,{perfumes:s,setPerfumes:e,orders:i,setOrders:r}):H.jsxs("div",{className:"max-w-7xl mx-auto",children:[H.jsxs("div",{className:"h-[80vh] flex flex-col items-center justify-center text-center mb-32 border border-[#c5a059]/10 bg-[#fcfcfa]/20 shadow-sm px-6",children:[H.jsx("span",{className:"text-[11px] uppercase font-bold tracking-[1.5em] mb-10 text-[#c5a059]",children:"Maison de Luxe  Italia"}),H.jsxs("h2",{className:"text-5xl md:text-[8.5rem] font-serif font-bold tracking-tighter leading-[0.9] text-gray-800/80",children:["The Art of ",H.jsx("span",{className:"italic text-[#c5a059]/90",children:"Scent"})]}),H.jsx("p",{className:"text-lg md:text-xl mb-14 max-w-2xl font-light italic leading-relaxed text-gray-700/80 mt-8",children:'"Crafting liquid emotions inspired by the timeless class and sun-drenched elegance of the Italian soul."'}),H.jsx("button",{onClick:()=>{var U;return(U=document.getElementById("gallery"))==null?void 0:U.scrollIntoView({behavior:"smooth"})},className:"px-16 py-7 bg-black text-white text-[11px] font-bold uppercase tracking-[0.6em] transition-all hover:bg-[#c5a059]",children:"Enter The Boutique"})]}),H.jsx("div",{id:"gallery",className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-32",children:nt.map(U=>H.jsxs("div",{className:"group cursor-pointer",onClick:()=>W(U),children:[H.jsx("div",{className:"aspect-[3/4] overflow-hidden bg-white mb-10 shadow-sm hover:shadow-2xl transition-all duration-500",children:H.jsx("img",{src:U.imageUrl,alt:U.name,className:"w-full h-full object-cover transition-transform duration-[1500ms] group-hover:scale-110"})}),H.jsxs("div",{className:"text-center",children:[H.jsx("p",{className:"text-[10px] uppercase tracking-[0.4em] text-[#c5a059] font-bold mb-4",children:U.category}),H.jsx("h3",{className:"text-3xl md:text-4xl font-serif font-bold group-hover:text-[#c5a059] transition-colors",children:U.name}),H.jsxs("p",{className:"text-gray-700 font-medium italic text-xl mt-4",children:["PKR ",U.price.toLocaleString()]})]})]},U.id))})]})}),H.jsx(WR,{product:et,onClose:()=>W(null),onAddToCart:kt}),H.jsx(tC,{isOpen:it,onClose:()=>gt(!1),items:V,onRemove:U=>Y(J=>J.filter($=>$.id!==U)),onUpdateQuantity:(U,J)=>Y($=>$.map(lt=>lt.id===U?{...lt,quantity:Math.max(1,lt.quantity+J)}:lt)),onCheckout:()=>{gt(!1),pt(!0)}}),H.jsx(eC,{isOpen:Et,onClose:()=>pt(!1),total:G,onConfirm:x})]}):H.jsx("div",{className:"min-h-screen luxury-fade-bg flex items-center justify-center p-6",children:H.jsxs("div",{className:"max-w-md w-full bg-[#fcfcfa]/80 backdrop-blur-xl p-12 rounded-sm border border-[#c5a059]/20 shadow-2xl text-center",children:[H.jsx("h1",{className:"text-4xl font-serif font-bold tracking-[0.4em] uppercase text-gray-900 mb-2",children:"Vellor"}),H.jsx("p",{className:"text-[10px] tracking-[0.6em] text-[#c5a059] uppercase font-bold mb-12",children:"Private Entrance"}),H.jsxs("div",{className:"space-y-8",children:[H.jsx("p",{className:"text-[9px] uppercase tracking-[0.2em] text-gray-400 font-bold",children:"Authenticate with Google"}),H.jsx("div",{ref:D,className:"w-full"}),H.jsx("div",{className:"relative border-t border-[#dcd0ad] pt-8",children:H.jsx("span",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-4 bg-[#fcfcfa] text-[9px] text-gray-400",children:"ADMIN"})}),H.jsxs("form",{onSubmit:xt,className:"space-y-6",children:[H.jsx("input",{type:"email",placeholder:"EMAIL",value:z,onChange:U=>w(U.target.value),className:"w-full bg-transparent border-b border-[#dcd0ad] py-2 text-[10px] tracking-widest focus:outline-none text-center"}),H.jsx("input",{type:"password",placeholder:"PASSWORD",value:$t,onChange:U=>ce(U.target.value),className:"w-full bg-transparent border-b border-[#dcd0ad] py-2 text-[10px] tracking-widest focus:outline-none text-center"}),H.jsx("button",{type:"submit",className:"w-full bg-black text-white py-5 text-[10px] font-bold uppercase tracking-[0.4em] hover:bg-[#c5a059]",children:"Access Studio"})]})]})]})})},gv=document.getElementById("root");gv&&m1.createRoot(gv).render(H.jsx(l1.StrictMode,{children:H.jsx(aC,{})}));
